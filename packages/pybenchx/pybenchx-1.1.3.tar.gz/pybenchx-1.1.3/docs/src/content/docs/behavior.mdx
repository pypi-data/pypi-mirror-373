---
title: Behavior
---

How pybenchx runs and measures.

## Profiles

Profiles control repeat counts and calibration budget.

- thorough: ~1s per variant, `repeat=30`
- smoke (default): no calibration, `repeat=3`, `warmup=0`

Tip: use `--profile smoke` while iterating; switch to `--profile thorough` when publishing.

## Calibration

- Calibration grows `n` to hit a target budget per variant (split across repeats).
- In context mode, if `BenchContext` is actually used, only the hot section is measured.

## Accuracy & robustness

- Monotonic high-resolution clock (`perf_counter` / `_ns`).
- GC is collected and may be disabled during measurement for stability.
- Warmup runs help steady state.
- Percentiles use linear interpolation.
- Colors only on TTY; `--no-color` turns them off.
