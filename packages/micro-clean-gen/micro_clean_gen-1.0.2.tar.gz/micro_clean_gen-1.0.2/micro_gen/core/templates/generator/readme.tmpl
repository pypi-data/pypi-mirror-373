# {{project_name}}

åŸºäºæ•´æ´æ¶æ„çš„äº‹ä»¶é©±åŠ¨å¾®æœåŠ¡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Go 1.21+
- Docker & Docker Compose
- PostgreSQL
- NATS (æ¶ˆæ¯é˜Ÿåˆ—)

### é¡¹ç›®ç»“æ„
```
{{project_name}}/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ server/
â”‚       â””â”€â”€ main.go          # åº”ç”¨å…¥å£
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ domain/              # é¢†åŸŸå±‚
â”‚   â”‚   â”œâ”€â”€ aggregate/       # èšåˆæ ¹
â”‚   â”‚   â”œâ”€â”€ event/          # é¢†åŸŸäº‹ä»¶
â”‚   â”‚   â”œâ”€â”€ repository/     # ä»“å‚¨æ¥å£
â”‚   â”‚   â””â”€â”€ projection/     # æŠ•å½±æ¥å£
â”‚   â”œâ”€â”€ usecase/            # ç”¨ä¾‹å±‚
â”‚   â”‚   â”œâ”€â”€ command/        # å‘½ä»¤ç”¨ä¾‹
â”‚   â”‚   â””â”€â”€ query/          # æŸ¥è¯¢ç”¨ä¾‹
â”‚   â”œâ”€â”€ adapter/            # é€‚é…å™¨å±‚
â”‚   â”‚   â”œâ”€â”€ http/          # HTTPå¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ grpc/          # gRPCæœåŠ¡
â”‚   â””â”€â”€ infrastructure/     # åŸºç¡€è®¾æ–½å±‚
â”‚       â”œâ”€â”€ eventstore/     # äº‹ä»¶å­˜å‚¨
â”‚       â”œâ”€â”€ projection/     # æŠ•å½±å®ç°
â”‚       â””â”€â”€ config/         # é…ç½®ç®¡ç†
â”œâ”€â”€ api/
â”‚   â””â”€â”€ proto/              # gRPC protoæ–‡ä»¶
â”œâ”€â”€ migrations/             # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ configs/
â”‚   â””â”€â”€ config.yaml         # é…ç½®æ–‡ä»¶
â”œâ”€â”€ docker-compose.yml      # åŸºç¡€è®¾æ–½æœåŠ¡
â”œâ”€â”€ Makefile               # æ„å»ºè„šæœ¬
â””â”€â”€ README.md              # é¡¹ç›®æ–‡æ¡£
```

## ğŸ“¦ å®‰è£…ä¸è¿è¡Œ

### æœ¬åœ°å¼€å‘
```bash
# å®‰è£…ä¾èµ–
make deps

# è¿è¡Œåº”ç”¨
make run
```

### Dockeréƒ¨ç½²
```bash
# æ„å»ºé•œåƒ
make docker-build

# å¯åŠ¨æœåŠ¡
make docker-run
```

## ğŸ”§ å¼€å‘

### ç”Ÿæˆä»£ç 
```bash
# ä»protoç”Ÿæˆä»£ç 
make proto

# æ•°æ®åº“è¿ç§»
make migrate-up

# è¿è¡Œæµ‹è¯•
make test
```

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
make logs

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
make logs-error

# å®æ—¶æ—¥å¿—
make logs-tail
```

## ğŸŒ APIæ¥å£

### HTTP RESTful API
- `POST /api/v1/{{name}}` - åˆ›å»º{{name}}
- `PUT /api/v1/{{name}}` - æ›´æ–°{{name}}
- `GET /api/v1/{{name}}` - è·å–{{name}}
- `GET /api/v1/{{name}}/list` - åˆ—è¡¨{{name}}

### gRPC API
- ç«¯å£: `50051`
- æŸ¥çœ‹ `api/proto/{{name}}.proto` è·å–è¯¦ç»†å®šä¹‰

## âš™ï¸ é…ç½®

é…ç½®æ–‡ä»¶ä½äº `configs/config.yaml`:

```yaml
server:
  port: 8080      # HTTPç«¯å£
  grpc_port: 50051  # gRPCç«¯å£

database:
  host: localhost
  port: 5432
  user: postgres
  password: postgres
  dbname: {{project_name}}

nats:
  url: nats://localhost:4222
  cluster_id: test-cluster
```

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
make test

# ä»£ç æ ¼å¼åŒ–
make fmt

# ä»£ç æ£€æŸ¥
make lint
```

## ğŸ“Š ç›‘æ§

- å¥åº·æ£€æŸ¥: `http://localhost:8080/health`
- æŒ‡æ ‡: `http://localhost:8080/metrics`

## ğŸš€ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Gin (HTTP), gRPC-Go (gRPC)
- **æ•°æ®åº“**: PostgreSQL + GORM
- **æ¶ˆæ¯é˜Ÿåˆ—**: NATS Streaming
- **äº‹ä»¶æº¯æº**: è‡ªå®šä¹‰å®ç°
- **é…ç½®**: Viper
- **æ—¥å¿—**: Zap
- **å®¹å™¨**: Docker & Docker Compose

## ğŸ“ å¼€å‘

### æ·»åŠ æ–°èšåˆ
1. åœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰èšåˆç»“æ„
2. è¿è¡Œä»£ç ç”Ÿæˆå™¨
3. å®ç°ä¸šåŠ¡é€»è¾‘
4. æ·»åŠ æµ‹è¯•

### äº‹ä»¶å¤„ç†
- é¢†åŸŸäº‹ä»¶è‡ªåŠ¨å‘å¸ƒåˆ°NATS
- æ”¯æŒäº‹ä»¶é‡æ”¾å’Œå¿«ç…§
- æŠ•å½±è‡ªåŠ¨æ›´æ–°

## ğŸ¤ è´¡çŒ®

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. åˆ›å»ºPull Request

## ğŸ“„ è®¸å¯è¯

MIT License