package main

import (
    "log"
    "os"

    "go.uber.org/zap"
    "{{ .ProjectName }}/internal/infrastructure/bootstrap"
)

func main() {
    // 初始化日志
    logger, err := zap.NewProduction()
    if err != nil {
        log.Fatalf("初始化日志失败: %v", err)
    }
    defer logger.Sync()
    
    // 创建应用
    app, err := bootstrap.NewApp(logger)
    if err != nil {
        logger.Fatal("创建应用失败", zap.Error(err))
    }
    
    // 启动应用
    if err := app.Start(); err != nil {
        logger.Fatal("启动应用失败", zap.Error(err))
    }
}