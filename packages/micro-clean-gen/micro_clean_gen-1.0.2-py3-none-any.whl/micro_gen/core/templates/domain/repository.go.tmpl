package repository

import (
    "context"
    "{{project}}/internal/domain/aggregate"
)

// {{Name}}Repository 仓储接口
type {{Name}}Repository interface {
    Save(ctx context.Context, {{name}} *aggregate.{{Name}}) error
    FindByID(ctx context.Context, id string) (*aggregate.{{Name}}, error)
    FindAll(ctx context.Context) ([]*aggregate.{{Name}}, error)
    Delete(ctx context.Context, id string) error
    
    // 事件溯源相关
    LoadEvents(ctx context.Context, aggregateID string) ([]interface{}, error)
    SaveEvents(ctx context.Context, aggregateID string, events []interface{}, version int) error
    GetVersion(ctx context.Context, aggregateID string) (int, error)
}