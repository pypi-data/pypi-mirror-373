"use strict";(self.webpackChunkdataflow_custom_extension=self.webpackChunkdataflow_custom_extension||[]).push([[509],{509:(t,e,o)=>{o.r(e),o.d(e,{default:()=>u});var n=o(586),s=o(715),r=o(310),a=o(593);const i="dataflow-custom:hub-restart",u=[{activate:function(t,e,o,n){const s=o.load("jupyterlab"),a=e.urls.hubHost||"",u=e.urls.hubPrefix||"",l=e.urls.hubUser||"",c=e.urls.hubServerName||"";if(!u)return;const d=r.URLExt.join(u,"ui","connection-lost");let b=a+d;if(c){const t=r.URLExt.join(d,l,c);if(!t.startsWith(d))throw new Error("Can only be used for spawn requests");b=a+t}const{commands:f}=t;f.addCommand(i,{label:s.__("Restart Server"),caption:s.__("Request that the Hub restart this server"),execute:()=>{window.location.href=b}})},id:"dataflow-custom-extension:plugin",description:"A JupyterLab extension for dataflow customization",autoStart:!0,requires:[n.JupyterFrontEnd.IPaths,a.ITranslator],optional:[s.ICommandPalette]},{id:"dataflow-custom-extension:plugin:connectionlost",description:"Provides a service to be notified when the connection to the hub server is lost.",requires:[n.JupyterFrontEnd.IPaths,a.ITranslator],optional:[n.JupyterLab.IInfo],activate:(t,e,o,r)=>{const a=o.load("jupyterlab"),u=e.urls.hubPrefix||"",l=e.urls.base;if(!u)return n.ConnectionLost;let c=!1;return async(e,o)=>{if(c)return;c=!0,r&&(r.isConnected=!1);const n=await(0,s.showDialog)({title:a.__("Server not responding"),body:a.__("Your server at %1 is not running.\nWould you like to restart it?",l),buttons:[s.Dialog.okButton({label:a.__("Restart")}),s.Dialog.cancelButton({label:a.__("Dismiss")})]});r&&(r.isConnected=!0),c=!1,n.button.accept&&await t.commands.execute(i)}},autoStart:!0,provides:n.IConnectionLost}]}}]);