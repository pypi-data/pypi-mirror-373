namespace "other";

// Number variables for scoreboard storage
var num game_timer_2 = 0;
var num enemy_count = 5;
var num damage = 0;

function "main" {
    // Basic variable assignment
    game_timer_2 = 0;
    
    // While loop with counter
    while "$game_timer_2$ < 3" {
        game_timer_2 = $game_timer_2$ + 1;
        say "Timer 2: $game_timer_2$";
    }
    
    // If-else if-else chain
    if "$enemy_count$ > 10" {
        say "Too many enemies!";
    } else if "$enemy_count$ > 5" {
        say "Moderate enemy count: $enemy_count$";
    } else {
        say "Few enemies: $enemy_count$";
    }
}

function "combat" {
    var num total_damage = 0;
    total_damage = $damage$ * 2;
    
    if "$total_damage$ > 20" {
        say "Critical hit! Damage: $total_damage$";
    } else {
        say "Normal hit. Damage: $total_damage$";
    }
    
    // Variable substitution in tellraw
    tellraw @a [{"text":"Enemy Count: "},{"score":{"name":"@a","objective":"enemy_count"}}];
}

function "timer" {
    while "$game_timer_2$ < 10" {
        game_timer_2 = $game_timer_2$ + 1;
        say "Combat Timer: $game_timer_2$";
    }
}

// Hook to run main function on load
on_load "other:main";
