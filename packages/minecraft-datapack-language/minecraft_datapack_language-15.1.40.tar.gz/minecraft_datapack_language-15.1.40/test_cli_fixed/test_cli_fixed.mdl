pack "test_cli_fixed" "Generated by MDL CLI" 82;
namespace "test_cli_fixed";

// Example variables
var num score = 0;
var num lives = 3;

// Main function - this runs when called
function "main" {
    say "Hello from test_cli_fixed!";
    
    // Set initial values
    score = 10;
    lives = 3;
    
    // Display current values
    say "Score: $score$";
    say "Lives: $lives$";
    
    // Example conditional statement
    if "$score$ > 5" {
        say "Great score!";
    } else {
        say "Keep trying!";
    };
    
    // Example while loop
    while "$lives$ > 0" {
        say "You have $lives$ lives remaining";
        lives = lives - 1;
    };
    
    say "Game over!";
}

// Load function - this runs when the datapack loads
function "load" {
    say "ðŸŽ® test_cli_fixed loaded successfully!";
    say "Type: /function test_cli_fixed:main";
}

// Tick function - this runs every tick (20 times per second)
function "tick" {
    // Add your tick logic here
    // Be careful with performance!
}

// Example function with parameters
function "greet_player" {
    say "Welcome to test_cli_fixed!";
    say "Have fun playing!";
}

// Raw Minecraft commands example
$!raw
# You can use raw Minecraft commands here
# These are passed through directly to the output
# Useful for complex commands or commands not yet supported by MDL
tellraw @a {"text":"Raw command example","color":"gold"}
raw!$

// Example recipe (optional)
recipe "diamond_sword" {
    "type": "minecraft:crafting_shaped",
    "pattern": [
        " D ",
        " D ",
        " S "
    ],
    "key": {
        "D": {"item": "minecraft:diamond"},
        "S": {"item": "minecraft:stick"}
    },
    "result": {
        "item": "minecraft:diamond_sword",
        "count": 1
    }
}

// Example loot table (optional)
loot_table "chest_loot" {
    "type": "minecraft:chest",
    "pools": [
        {
            "rolls": 1,
            "entries": [
                {
                    "type": "minecraft:item",
                    "name": "minecraft:diamond",
                    "functions": [
                        {
                            "function": "minecraft:set_count",
                            "count": {
                                "min": 1,
                                "max": 3
                            }
                        }
                    ]
        }
      ]
    }
  ]
}

// Example advancement (optional)
advancement first_diamond {
  "display": {
    "icon": {
      "item": "minecraft:diamond"
    },
    "title": {
      "text": "First Diamond!"
    },
    "description": {
      "text": "Find your first diamond"
    },
    "frame": "task",
    "show_toast": true,
    "announce_to_chat": true,
    "hidden": false
  },
  "criteria": {
    "requirement": {
      "trigger": "minecraft:inventory_changed",
      "conditions": {
        "items": [
          {
            "item": "minecraft:diamond"
          }
        ]
      }
    }
  }
}
