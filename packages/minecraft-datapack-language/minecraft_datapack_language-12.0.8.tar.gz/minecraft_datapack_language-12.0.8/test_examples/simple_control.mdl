// simple_control.mdl - Simple control structures with while loops
pack "simple_control" "Simple control structures test" 82;

namespace "test";

// Simple number variables
var num counter = 0;
var num health = 20;
var num level = 1;

function "main" {
    // Basic variable assignment
    counter = 5;
    health = 15;
    
    // If statement with variable substitution
    if "$health$ < 10" {
        say "Health is low!";
    } else {
        say "Health is okay";
    }
    
    // If statement with counter
    if "$counter$ > 3" {
        say "Counter is high!";
    }
    
    // While loop (default recursion method)
    while "$counter$ < 10" {
        counter = $counter$ + 1;
        say "Counter: $counter$";
    }
    
    // While loop with explicit recursion method
    counter = 0;
    while "$counter$ < 5" method="recursion" {
        counter = $counter$ + 1;
        say "Recursion: $counter$";
    }
    
    // While loop with schedule method
    counter = 0;
    while "$counter$ < 8" method="schedule" {
        counter = $counter$ + 1;
        say "Schedule: $counter$";
    }
}

function "helper" {
    var num result = 0;
    result = 5 + 3;
    say "Result: $result$";
    
    // Variable substitution in tellraw
    tellraw @s [{"text":"Health: "},{"score":{"name":"@s","objective":"health"}}];
}

on_tick "test:main";
