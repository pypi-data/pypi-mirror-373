namespace "ui";

// UI-related variables
var num menu_state = 0;
var num button_count = 3;
var num selected_option = 1;

function "main" {
    // Initialize UI
    menu_state = 0;
    selected_option = 1;
    
    // Show main menu
    if "$menu_state$ == 0" {
        say "=== Main Menu ===";
        say "1. Start Game";
        say "2. Options";
        say "3. Exit";
    }
    
    // Process menu selection
    if "$selected_option$ == 1" {
        say "Starting game...";
    } else if "$selected_option$ == 2" {
        say "Opening options...";
    } else if "$selected_option$ == 3" {
        say "Exiting...";
    }
}

function "button_handler" {
    var num button_id = 0;
    
    // Handle button clicks
    if "$button_id$ == 1" {
        selected_option = 1;
        say "Option 1 selected";
    } else if "$button_id$ == 2" {
        selected_option = 2;
        say "Option 2 selected";
    } else if "$button_id$ == 3" {
        selected_option = 3;
        say "Option 3 selected";
    }
    
    // Update UI
    tellraw @a [{"text":"Selected: "},{"score":{"name":"@a","objective":"selected_option"}}];
}

function "animate" {
    var num frame = 0;
    
    // Simple animation loop
    while "$frame$ < 5" {
        frame = $frame$ + 1;
        say "Animation frame: $frame$";
    }
}

// Hook to run main function on load
on_load "ui:main";
