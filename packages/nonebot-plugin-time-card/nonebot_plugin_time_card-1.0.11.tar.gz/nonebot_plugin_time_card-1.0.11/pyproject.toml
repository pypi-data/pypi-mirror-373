[build-system]
# 构建系统配置：适配 Nonebot 插件打包，依赖 setuptools 61.0+
requires = ["setuptools>=61.0", "wheel"]
build-backend = "setuptools.build_meta"

[project]
# 插件基础信息（严格遵循 PEP 621 规范）
name = "nonebot-plugin-time-card"  # PyPI 包名（固定格式：nonebot-plugin-xxx）
version = "1.0.11"  # 版本号（每次更新需递增，如 1.0.12、1.1.0）
description = "Nonebot 2.4.3 插件：自动更新机器人群聊昵称并显示实时时间，支持超级管理员开关与热重载"
authors = [
  { name = "meng", email = "mengde_email@163.com" }
]
# 许可证配置：适配 Setuptools 新规范（消除弃用警告）
license = "MIT"  # SPDX 许可证表达式（对应 MIT 许可证）
license-files = ["LICENSE"]  # 直接填写文件路径字符串，无字典格式
# 长描述：关联 README.md（Nonebot 商店需读取）
readme = { file = "README.md", content-type = "text/markdown" }
# 关键词：帮助检索，包含 Nonebot 相关标识
keywords = ["nonebot2", "nonebot-plugin", "qqbot", "time-card"]
# Python 版本限制：兼容 Nonebot v2.4.3 支持的版本，适配商店环境
requires-python = ">=3.8"
# 依赖配置：严格锁定 Nonebot 2.4.3 及对应适配器版本
dependencies = [
  "nonebot2>=2.4.3,<3.0.0",  # 锁定 Nonebot v2 主版本，避免跨版本兼容问题
  "nonebot-adapter-onebot>=2.2.0,<3.0.0"  # 适配 OneBot v11 适配器（插件核心依赖）
]
# 分类器：排除弃用的 License 分类器，仅保留官方认可项
classifiers = [
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3.8",
  "Programming Language :: Python :: 3.9",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",  # 支持最新测试环境版本
  "Operating System :: OS Independent",  # 跨平台支持
  "Intended Audience :: Developers",  # 目标用户：开发者
  "Topic :: Software Development :: Libraries :: Python Modules",
  "Topic :: Communications :: Chat",  # 功能分类：聊天工具
  "Topic :: Utilities",  # 功能分类：实用工具
]

# Nonebot 插件入口点：告诉框架插件加载路径（解决 ModuleNotFoundError）
[project.entry-points."nonebot.plugins"]
time_card = "nonebot_plugin_time_card:__plugin_meta__"  # 格式：显示名 = 模块名:元数据变量

# 插件包结构配置：声明核心模块目录（必须与实际文件夹名一致）
[tool.setuptools]
packages = ["nonebot_plugin_time_card"]  # 插件核心模块目录名（无横杠，对应实际文件夹）
include-package-data = true  # 包含模块内所有文件（如 config.py、__init__.py）

# 项目链接：提升可信度（可选，无则删除对应行）
[project.urls]
"Homepage" = "https://github.com/MengdeUser/nonebot-plugin-time-card"
"Issue Tracker" = "https://github.com/MengdeUser/nonebot-plugin-time-card/issues"
"Documentation" = "https://github.com/MengdeUser/nonebot-plugin-time-card/blob/master/README.md"