# Development Dockerfile for Next.js frontend with hot-reload

FROM node:20-alpine

# Install dependencies for development
RUN apk add --no-cache libc6-compat git

WORKDIR /app

# Copy package files
COPY web-ui/package*.json ./

# Install dependencies (including dev dependencies)
RUN npm ci

# Expose port
EXPOSE 7860

# Environment variables
ENV NODE_ENV=development
ENV PORT=7860
ENV HOSTNAME="0.0.0.0"

# The source code will be mounted as a volume
# Start with hot-reload enabled
CMD ["npm", "run", "dev"]