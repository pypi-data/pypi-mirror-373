"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[7566],{10405:function(e,t,s){s.d(t,{i:function(){return m}});var i=s(89555),a=s(31014),n=s(27705),o=s(32599),l=s(48012),d=s(88464),r=s(50111);const c=({theme:e,getPrefixedClassName:t})=>{const s=t("collapse"),i=`.${s}-item`,a=`.${s}-header`,n=`.${s}-content-box`;return{fontSize:14,[`& > ${i} > ${a}`]:{paddingLeft:0,paddingTop:12,paddingBottom:12,display:"flex",alignItems:"center",fontSize:16,fontWeight:"normal",lineHeight:e.typography.lineHeightLg},[n]:{padding:`${e.spacing.xs}px 0 ${e.spacing.md}px 0`}}};function m(e){const{title:t,forceOpen:s,showServerError:m,defaultCollapsed:h,onChange:p,className:g,componentId:u="mlflow.common.generic_collapsible_section"}=e,f=s&&{activeKey:["1"]},v=h?null:["1"],{theme:_,getPrefixedClassName:b}=(0,o.u)(),{formatMessage:y}=(0,d.A)(),w=(0,a.useCallback)((({isActive:e})=>(0,r.Y)("div",{css:(0,o.i)({width:_.general.heightBase/2,transform:e?"rotate(90deg)":void 0}),children:(0,r.Y)(o.q,{css:(0,i.AH)({svg:{width:_.general.heightBase/2,height:_.general.heightBase/2}},""),"aria-label":y(e?{id:"iaomsd",defaultMessage:"collapse {title}"}:{id:"dTLq6E",defaultMessage:"expand {title}"},{title:t})})})),[_,t,y]);return(0,r.Y)(l.nD3,{componentId:u,...f,dangerouslyAppendEmotionCSS:c({theme:_,getPrefixedClassName:b}),dangerouslySetAntdProps:{className:g,expandIconPosition:"left",expandIcon:w},defaultActiveKey:null!==v&&void 0!==v?v:void 0,onChange:p,children:(0,r.Y)(l.nD3.Panel,{header:t,children:(0,r.Y)(n.g,{showServerError:m,children:e.children})},"1")})}},30311:function(e,t,s){s.d(t,{o:function(){return w}});var i=s(89555),a=s(9133),n=s(31014),o=s(48012),l=s(32599),d=s(15579),r=s(64756),c=s(88464),m=s(88443),h=s(50111);var p={name:"1d3w5wq",styles:"width:100%"},g={name:"s079uh",styles:"margin-top:2px"},u={name:"82a6rk",styles:"flex:1"},f={name:"82a6rk",styles:"flex:1"};const v=({renderKey:e,setDraftAliases:t,existingAliases:s,draftAliases:a,version:d,aliasToVersionMap:v,disabled:_})=>{const b=(0,c.A)(),[y,w]=(0,n.useState)(!1),{theme:Y}=(0,l.u)(),x=(0,n.useCallback)((e=>{t((t=>t.filter((t=>t!==e))))}),[t]),C=(0,n.useCallback)((e=>{const s=e.map((e=>e.replace(/[^\w-]/g,"").toLowerCase().substring(0,255))).filter((e=>e.length>0)),i=Array.from(new Set(s));t(i),w(!1)}),[t]);return(0,h.FD)(o._vn,{disabled:_,filterOption:(e,t)=>null===t||void 0===t?void 0:t.value.toLowerCase().startsWith(e.toLowerCase()),placeholder:b.formatMessage({id:"bQZDSv",defaultMessage:"Enter aliases (champion, challenger, etc)"}),allowClear:!0,css:p,mode:"tags",onChange:C,dangerouslySetAntdProps:{dropdownMatchSelectWidth:!0,tagRender:({value:e})=>(0,h.Y)(r.m,{compact:!0,css:g,closable:!0,onClose:()=>x(e.toString()),value:e.toString()})},onDropdownVisibleChange:w,open:y,value:a||[],children:[s.map((e=>(0,h.Y)(o._vn.Option,{value:e,"data-testid":"model-alias-option",children:(0,h.FD)("div",{css:(0,i.AH)({display:"flex",marginRight:Y.spacing.xs},""),children:[(0,h.Y)("div",{css:u,children:e}),(0,h.Y)("div",{children:(0,h.Y)(m.A,{id:"4OcdLd",defaultMessage:"This version"})})]},e)},e))),Object.entries(v).filter((([,e])=>e!==d)).map((([e,t])=>(0,h.Y)(o._vn.Option,{value:e,"data-testid":"model-alias-option",children:(0,h.FD)("div",{css:(0,i.AH)({display:"flex",marginRight:Y.spacing.xs},""),children:[(0,h.Y)("div",{css:f,children:e}),(0,h.Y)("div",{children:(0,h.Y)(m.A,{id:"Boj6Fm",defaultMessage:"Version {version}",values:{version:t}})})]},e)},e)))]},JSON.stringify(e))};var _=s(10811),b=s(69708),y=s(81866);const w=({model:e,onSuccess:t,modalTitle:s,modalDescription:r})=>{const[c,p]=(0,n.useState)(!1),[g]=o.SQ4.useForm(),[u,f]=(0,n.useState)(""),{theme:w}=(0,l.u)(),[Y,x]=(0,n.useState)([]),[C,S]=(0,n.useState)([]),[k,A]=(0,n.useState)("0"),M=(0,_.wA)(),T=(0,n.useCallback)((t=>{var s;if(!e)return;const i=(null===(s=e.aliases)||void 0===s?void 0:s.filter((({version:e})=>e===t)).map((({alias:e})=>e)))||[];t&&(x(i),S(i),A(t),p(!0))}),[e]),I=(0,n.useMemo)((()=>{if(null===e||void 0===e||!e.aliases)return[];const t=e.aliases.reduce(((e,t)=>{var s;return e.some((({version:e})=>e===t.version))?(null===(s=e.find((({version:e})=>e===t.version)))||void 0===s||s.aliases.push(t.alias),e):[...e,{version:t.version,aliases:[t.alias]}]}),[]).filter((({version:e})=>e!==k));return C.map((e=>({alias:e,otherVersion:t.find((t=>{var s;return null===(s=t.aliases)||void 0===s?void 0:s.find((t=>t===e))}))}))).filter((({otherVersion:e})=>e))}),[null===e||void 0===e?void 0:e.aliases,C,k]),D=(0,n.useMemo)((()=>{var t;return(null===e||void 0===e||null===(t=e.aliases)||void 0===t?void 0:t.reduce(((e,{alias:t,version:s})=>({...e,[t]:s})),{}))||{}}),[e]),F=(0,a.isEqual)(Y.slice().sort(),C.slice().sort()),E=C.length>10,N=F||E;return{EditAliasesModal:(0,h.FD)(d.d,{componentId:"codegen_mlflow_app_src_model-registry_hooks_useeditregisteredmodelaliasesmodal.tsx_127",visible:c,footer:(0,h.FD)("div",{children:[(0,h.Y)(l.B,{componentId:"codegen_mlflow_app_src_model-registry_hooks_useeditregisteredmodelaliasesmodal.tsx_131",onClick:()=>p(!1),children:(0,h.Y)(m.A,{id:"97hGxL",defaultMessage:"Cancel"})}),(0,h.Y)(l.B,{componentId:"codegen_mlflow_app_src_model-registry_hooks_useeditregisteredmodelaliasesmodal.tsx_137",loading:!1,type:"primary",disabled:N,onClick:()=>{e&&(f(""),M((0,b.mq)(e.name,k,Y,C)).then((()=>{p(!1),null===t||void 0===t||t()})).catch((e=>{const t=e.getMessageField()||e.getUserVisibleError().toString()||e.text;f(t)})))},children:(0,h.Y)(m.A,{id:"cruwL4",defaultMessage:"Save aliases"})})]}),destroyOnClose:!0,title:s?s(k):(0,h.Y)(m.A,{id:"4Jyn2b",defaultMessage:"Add/Edit alias for model version {version}",values:{version:k}}),onCancel:()=>p(!1),confirmLoading:!1,children:[(0,h.Y)(l.T.Paragraph,{children:null!==r&&void 0!==r?r:(0,h.Y)(m.A,{id:"2DNVN4",defaultMessage:"Aliases allow you to assign a mutable, named reference to a particular model version. <link>Learn more</link>",values:{link:e=>(0,h.Y)("a",{href:y.Tm,rel:"noreferrer",target:"_blank",children:e})}})}),(0,h.FD)(o.SQ4,{form:g,layout:"vertical",children:[(0,h.Y)(o.SQ4.Item,{children:(0,h.Y)(v,{disabled:!1,renderKey:I,aliasToVersionMap:D,version:k,draftAliases:C,existingAliases:Y,setDraftAliases:S})}),(0,h.FD)("div",{css:(0,i.AH)({display:"flex",flexDirection:"column",gap:w.spacing.xs},""),children:[E&&(0,h.Y)(o.FcD,{componentId:"codegen_mlflow_app_src_model-registry_hooks_useeditregisteredmodelaliasesmodal.tsx_192",role:"alert",message:(0,h.Y)(m.A,{id:"q/Z61H",defaultMessage:"You are exceeding a limit of {limit} aliases assigned to the single model version",values:{limit:10}}),type:"error",closable:!1}),I.map((({alias:e,otherVersion:t})=>(0,h.Y)(o.FcD,{componentId:"codegen_mlflow_app_src_model-registry_hooks_useeditregisteredmodelaliasesmodal.tsx_206",role:"alert",message:(0,h.Y)(m.A,{id:"EBQwqu",defaultMessage:'The "{alias}" alias is also being used on version {otherVersion}. Adding it to this version will remove it from version {otherVersion}.',values:{otherVersion:null===t||void 0===t?void 0:t.version,alias:e}}),type:"info",closable:!1},e))),u&&(0,h.Y)(o.FcD,{componentId:"codegen_mlflow_app_src_model-registry_hooks_useeditregisteredmodelaliasesmodal.tsx_220",role:"alert",message:u,type:"error",closable:!1})]})]})]}),showEditAliasesModal:T}}},41287:function(e,t,s){s.d(t,{h:function(){return y}});var i=s(31014),a=s(76010),n=s(15579),o=s(48012),l=s(41028),d=s(32599),r=s(88443),c=s(50111);const m=i.createContext();class h extends i.Component{constructor(...e){super(...e),this.handleKeyPress=e=>{const{save:t,recordKey:s,cancel:i}=this.props;"Enter"===e.key?t(s):"Escape"===e.key&&i()}}render(){const{editing:e,dataIndex:t,record:s,children:i}=this.props;return(0,c.Y)(m.Consumer,{children:({formRef:a})=>(0,c.Y)("div",{className:e?"editing-cell":"",children:e?(0,c.Y)(o.SQ4,{ref:a,children:(0,c.Y)(o.SQ4.Item,{style:{margin:0},name:t,initialValue:s[t],children:(0,c.Y)(l.I,{componentId:"codegen_mlflow_app_src_common_components_tables_editableformtable.tsx_50",onKeyDown:this.handleKeyPress,"data-testid":"editable-table-edited-input"})})}):i})})}}class p extends i.Component{constructor(e){super(e),this.columns=void 0,this.form=void 0,this.initColumns=()=>[...this.props.columns.map((e=>e.editable?{...e,render:(t,s)=>(0,c.Y)(h,{record:s,dataIndex:e.dataIndex,title:e.title,editing:this.isEditing(s),save:this.save,cancel:this.cancel,recordKey:s.key,children:t})}:e)),{title:(0,c.Y)(r.A,{id:"cBDYla",defaultMessage:"Actions"}),dataIndex:"operation",render:(e,t)=>{const{editingKey:s,isRequestPending:i}=this.state,a=this.isEditing(t);return a&&i?(0,c.Y)(d.S,{size:"small"}):a?(0,c.FD)("span",{children:[(0,c.Y)(d.B,{componentId:"codegen_mlflow_app_src_common_components_tables_editableformtable.tsx_120",type:"link",onClick:()=>this.save(t.key),style:{marginRight:10},"data-testid":"editable-table-button-save",children:(0,c.Y)(r.A,{id:"E7mv3b",defaultMessage:"Save"})}),(0,c.Y)(d.B,{componentId:"codegen_mlflow_app_src_common_components_tables_editableformtable.tsx_131",type:"link",onClick:()=>this.cancel(t.key),"data-testid":"editable-table-button-cancel",children:(0,c.Y)(r.A,{id:"peyOdH",defaultMessage:"Cancel"})})]}):(0,c.FD)("span",{children:[(0,c.Y)(d.B,{componentId:"codegen_mlflow_app_src_common_components_tables_editableformtable.tsx_145",icon:(0,c.Y)(o.R2l,{}),disabled:""!==s,onClick:()=>this.edit(t.key),"data-testid":"editable-table-button-edit"}),(0,c.Y)(d.B,{componentId:"codegen_mlflow_app_src_common_components_tables_editableformtable.tsx_151",icon:(0,c.Y)(o.ucK,{}),disabled:""!==s,onClick:()=>this.setState({deletingKey:t.key}),"data-testid":"editable-table-button-delete"})]})}}],this.isEditing=e=>e.key===this.state.editingKey,this.cancel=()=>{this.setState({editingKey:""})},this.save=e=>{this.form.current.validateFields().then((t=>{const s=this.props.data.find((t=>t.key===e));s&&(this.setState({isRequestPending:!0}),this.props.onSaveEdit({...s,...t}).then((()=>{this.setState({editingKey:"",isRequestPending:!1})})))}))},this.delete=async e=>{try{const t=this.props.data.find((t=>t.key===e));t&&(this.setState({isRequestPending:!0}),await this.props.onDelete({...t}))}finally{this.setState({deletingKey:"",isRequestPending:!1})}},this.edit=e=>{this.setState({editingKey:e})},this.state={editingKey:"",isRequestPending:!1,deletingKey:""},this.columns=this.initColumns(),this.form=i.createRef()}render(){const{data:e}=this.props;return(0,c.FD)(m.Provider,{value:{formRef:this.form},children:[(0,c.Y)(o.qXK,{className:"editable-table","data-testid":"editable-table",dataSource:e,columns:this.columns,size:"middle",tableLayout:"fixed",pagination:!1,locale:{emptyText:(0,c.Y)(r.A,{id:"0ja5l/",defaultMessage:"No tags found."})},scroll:{y:280}}),(0,c.Y)(n.d,{componentId:"codegen_mlflow_app_src_common_components_tables_editableformtable.tsx_228","data-testid":"editable-form-table-remove-modal",title:(0,c.Y)(r.A,{id:"pBUaAK",defaultMessage:"Are you sure you want to delete this tag\uff1f"}),visible:this.state.deletingKey,okText:(0,c.Y)(r.A,{id:"vlxeiA",defaultMessage:"Confirm"}),cancelText:(0,c.Y)(r.A,{id:"aIP7Kb",defaultMessage:"Cancel"}),confirmLoading:this.state.isRequestPending,onOk:()=>this.delete(this.state.deletingKey),onCancel:()=>this.setState({deletingKey:""})})]})}}const g=p;var u=s(9133),f=s.n(u),v=s(64912);class _ extends i.Component{constructor(...e){super(...e),this.tableColumns=[{title:this.props.intl.formatMessage({id:"cI+F/q",defaultMessage:"Name"}),dataIndex:"name",width:200},{title:this.props.intl.formatMessage({id:"oBKd1E",defaultMessage:"Value"}),dataIndex:"value",width:200,editable:!0}],this.getData=()=>f().sortBy(a.A.getVisibleTagValues(this.props.tags).map((e=>({key:e[0],name:e[0],value:e[1]}))),"name"),this.getTagNamesAsSet=()=>new Set(a.A.getVisibleTagValues(this.props.tags).map((e=>e[0]))),this.tagNameValidator=(e,t,s)=>{s(this.getTagNamesAsSet().has(t)?this.props.intl.formatMessage({id:"gVxisd",defaultMessage:'Tag "{value}" already exists.'},{value:t}):void 0)}}render(){const{isRequestPending:e,handleSaveEdit:t,handleDeleteTag:s,handleAddTag:i,innerRef:a}=this.props;return(0,c.FD)(c.FK,{children:[(0,c.Y)(g,{columns:this.tableColumns,data:this.getData(),onSaveEdit:t,onDelete:s}),(0,c.Y)(n.S,{size:"sm"}),(0,c.Y)("div",{children:(0,c.FD)(o.SQ4,{ref:a,layout:"inline",onFinish:i,css:b.form,children:[(0,c.Y)(o.SQ4.Item,{name:"name",rules:[{required:!0,message:this.props.intl.formatMessage({id:"ubGTUL",defaultMessage:"Name is required."})},{validator:this.tagNameValidator}],children:(0,c.Y)(l.I,{componentId:"codegen_mlflow_app_src_common_components_editabletagstableview.tsx_107","aria-label":"tag name","data-testid":"tags-form-input-name",placeholder:this.props.intl.formatMessage({id:"0gGMZm",defaultMessage:"Name"})})}),(0,c.Y)(o.SQ4.Item,{name:"value",rules:[],children:(0,c.Y)(l.I,{componentId:"codegen_mlflow_app_src_common_components_editabletagstableview.tsx_117","aria-label":"tag value","data-testid":"tags-form-input-value",placeholder:this.props.intl.formatMessage({id:"8XbTnl",defaultMessage:"Value"})})}),(0,c.Y)(o.SQ4.Item,{children:(0,c.Y)(d.B,{componentId:"codegen_mlflow_app_src_common_components_editabletagstableview.tsx_127",loading:e,htmlType:"submit","data-testid":"add-tag-button",children:(0,c.Y)(r.A,{id:"4idqpX",defaultMessage:"Add"})})})]})})]})}}const b={form:e=>({"& > div":{marginRight:e.spacing.sm}})},y=(0,v.Ay)(_)},90925:function(e,t,s){s.d(t,{K:function(){return n}});var i=s(32599),a=(s(31014),s(50111));const n=({children:e,columns:t})=>{const s=t?l.descriptionsArea(t):l.autoFitArea;return(0,a.Y)("div",{css:s,children:e})};var o={name:"1bmnxg7",styles:"white-space:nowrap"};n.Item=({label:e,labelSize:t="sm",children:s,span:n})=>(0,a.FD)("div",{"data-test-id":"descriptions-item",css:l.descriptionItem(n||1),children:[(0,a.Y)("div",{"data-test-id":"descriptions-item-label",css:o,children:(0,a.Y)(i.T.Text,{size:t,color:"secondary",children:e})}),(0,a.Y)("div",{"data-test-id":"descriptions-item-colon",css:l.colon,children:(0,a.Y)(i.T.Text,{size:t,color:"secondary",children:":"})}),(0,a.Y)("div",{"data-test-id":"descriptions-item-content",children:s})]});const l={descriptionsArea:e=>t=>({display:"grid",gridTemplateColumns:`repeat(${e}, minmax(100px, 1fr))`,columnGap:t.spacing.sm,rowGap:t.spacing.md,marginBottom:t.spacing.lg}),autoFitArea:e=>({display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gridGap:e.spacing.md}),descriptionItem:e=>({display:"flex",gridColumn:`span ${e}`}),colon:{margin:"0 8px 0 0"}}},96034:function(e,t,s){s.d(t,{V:function(){return _}});var i=s(89555),a=s(31014),n=s(32599),o=s(48012),l=s(93215);const d=({when:e,message:t})=>{const s=a.useContext(l.jb).navigator.block;return a.useEffect((()=>{if(!e)return;return null===s||void 0===s?void 0:s((()=>window.confirm(t)))}),[t,s,e]),null};var r=s(75703),c=s(11473),m=s(88443),h=s(64912),p=s(50111);const g=e=>(0,p.Y)(f,{name:e});class u extends a.Component{constructor(...e){super(...e),this.state={markdown:this.props.defaultMarkdown,selectedTab:this.props.defaultSelectedTab,error:null},this.converter=(0,c.OT)(),this.handleMdeValueChange=e=>{this.setState({markdown:e})},this.handleTabChange=e=>{this.setState({selectedTab:e})},this.handleSubmitClick=()=>{const{onSubmit:e}=this.props,{markdown:t}=this.state;return this.setState({confirmLoading:!0}),e?Promise.resolve(e(t)).then((()=>{this.setState({confirmLoading:!1,error:null})})).catch((e=>{this.setState({confirmLoading:!1,error:e&&e.getMessageField?e.getMessageField():this.props.intl.formatMessage({id:"SzvvXl",defaultMessage:"Failed to submit"})})})):null},this.handleCancelClick=()=>{this.setState({markdown:this.props.defaultMarkdown,selectedTab:this.props.defaultSelectedTab});const{onCancel:e}=this.props;e&&e()}}contentHasChanged(){return this.state.markdown!==this.props.defaultMarkdown}renderActions(){const{confirmLoading:e}=this.state;return(0,p.Y)("div",{className:"editable-note-actions","data-testid":"editable-note-actions",children:(0,p.FD)("div",{children:[(0,p.Y)(n.B,{componentId:"codegen_mlflow_app_src_common_components_editablenote.tsx_114",type:"primary",className:"editable-note-save-button",onClick:this.handleSubmitClick,disabled:!this.contentHasChanged()||e,loading:e,"data-testid":"editable-note-save-button",children:this.props.saveText}),(0,p.Y)(n.B,{componentId:"codegen_mlflow_app_src_common_components_editablenote.tsx_124",htmlType:"button",className:"editable-note-cancel-button",onClick:this.handleCancelClick,disabled:e,children:(0,p.Y)(m.A,{id:"17k196",defaultMessage:"Cancel"})})]})})}getSanitizedHtmlContent(){const{markdown:e}=this.state;if(e){const t=(0,c.NW)(this.converter.makeHtml(e));return(0,c.Yc)(t)}return null}render(){const{showEditor:e}=this.props,{markdown:t,selectedTab:s,error:i}=this.state,n=this.getSanitizedHtmlContent();return(0,p.Y)("div",{className:"note-view-outer-container","data-testid":"note-view-outer-container",children:e?(0,p.FD)(a.Fragment,{children:[(0,p.Y)("div",{className:"note-view-text-area",children:(0,p.Y)(r.default,{value:t,minEditorHeight:this.props.minEditorHeight,maxEditorHeight:this.props.maxEditorHeight,minPreviewHeight:50,childProps:this.props.childProps,toolbarCommands:this.props.toolbarCommands,onChange:this.handleMdeValueChange,selectedTab:s,onTabChange:this.handleTabChange,generateMarkdownPreview:e=>Promise.resolve(this.getSanitizedHtmlContent(e)),getIcon:g})}),i&&(0,p.Y)(o.FcD,{componentId:"codegen_mlflow_app_src_common_components_editablenote.tsx_178",type:"error",message:this.props.intl.formatMessage({id:"79dD5F",defaultMessage:"There was an error submitting your note."}),description:i,closable:!0}),this.renderActions(),(0,p.Y)(d,{when:this.contentHasChanged(),message:this.props.intl.formatMessage({id:"dwTTNK",defaultMessage:"Are you sure you want to navigate away? Your pending text changes will be lost."})})]}):(0,p.Y)(v,{content:n})})}}function f(e){const{theme:t}=(0,n.u)(),{name:s}=e;return(0,p.Y)(o.paO,{position:"top",title:s,children:(0,p.Y)("span",{css:(0,i.AH)({color:t.colors.textPrimary},""),children:(0,p.Y)(r.SvgIcon,{icon:s})})})}function v(e){const{content:t}=e;return t?(0,p.Y)("div",{className:"note-view-outer-container","data-testid":"note-view-outer-container",children:(0,p.Y)("div",{className:"note-view-text-area",children:(0,p.Y)("div",{className:"note-view-preview note-editor-preview",children:(0,p.Y)("div",{className:"note-editor-preview-content","data-testid":"note-editor-preview-content",dangerouslySetInnerHTML:{__html:e.content}})})})}):(0,p.Y)("div",{children:(0,p.Y)(m.A,{id:"PRe/8y",defaultMessage:"None"})})}u.defaultProps={defaultMarkdown:"",defaultSelectedTab:"write",showEditor:!1,saveText:(0,p.Y)(m.A,{id:"Shv28w",defaultMessage:"Save"}),confirmLoading:!1,toolbarCommands:[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]],maxEditorHeight:500,minEditorHeight:200,childProps:{}};const _=(0,h.Ay)(u)}}]);
//# sourceMappingURL=7566.1914f102.chunk.js.map