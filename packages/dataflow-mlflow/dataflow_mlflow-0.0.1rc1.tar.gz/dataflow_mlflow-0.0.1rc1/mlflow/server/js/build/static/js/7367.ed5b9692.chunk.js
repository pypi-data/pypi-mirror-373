"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[7367],{28486:function(e,t,r){r.d(t,{tH:function(){return i}});var o=r(31014);function a(e,t,r,o){Object.defineProperty(e,t,{get:r,set:o,enumerable:!0,configurable:!0})}a({},"ErrorBoundary",(()=>i));a({},"ErrorBoundaryContext",(()=>n));const n=(0,o.createContext)(null),s={didCatch:!1,error:null};class i extends o.Component{state=s;static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary=(...e)=>{const{error:t}=this.state;null!==t&&(this.props.onReset?.({args:e,reason:"imperative-api"}),this.setState(s))};componentDidCatch(e,t){this.props.onError?.(e,t)}componentDidUpdate(e,t){const{didCatch:r}=this.state,{resetKeys:o}=this.props;r&&null!==t.error&&function(e=[],t=[]){return e.length!==t.length||e.some(((e,r)=>!Object.is(e,t[r])))}(e.resetKeys,o)&&(this.props.onReset?.({next:o,prev:e.resetKeys,reason:"keys"}),this.setState(s))}render(){const{children:e,fallbackRender:t,FallbackComponent:r,fallback:a}=this.props,{didCatch:s,error:i}=this.state;let l=e;if(s){const e={error:i,resetErrorBoundary:this.resetErrorBoundary};if((0,o.isValidElement)(a))l=a;else if("function"===typeof t)l=t(e);else{if(!r)throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop");l=(0,o.createElement)(r,e)}}return(0,o.createElement)(n.Provider,{value:{didCatch:s,error:i,resetErrorBoundary:this.resetErrorBoundary}},l)}}function l(e){if(null==e||"boolean"!==typeof e.didCatch||"function"!==typeof e.resetErrorBoundary)throw new Error("ErrorBoundaryContext not found");return!0}function d(){const e=(0,o.useContext)(n);l(e);const[t,r]=(0,o.useState)({error:null,hasError:!1}),a=(0,o.useMemo)((()=>({resetBoundary:()=>{e?.resetErrorBoundary(),r({error:null,hasError:!1})},showBoundary:e=>r({error:e,hasError:!0})})),[e?.resetErrorBoundary]);if(t.hasError)throw t.error;return a}a({},"useErrorBoundary",(()=>d));function c(e,t){const r=r=>(0,o.createElement)(i,t,(0,o.createElement)(e,r)),a=e.displayName||e.name||"Unknown";return r.displayName=`withErrorBoundary(${a})`,r}a({},"withErrorBoundary",(()=>c))},63250:function(e,t,r){r.r(t),r.d(t,{default:function(){return me}});var o=r(89555),a=r(32599),n=r(15579),s=r(48012),i=r(4877),l=r.n(i),d=r(93215),c=r(58481),u=r(92246),m=r(91144),g=r(31014),p=r(46398),h=r(63609),f=r(88464),y=r(88443),v=r(30706),C=r(81313);let b=function(e){return e.TABLE="TABLE",e.CHART="CHART",e}({});const D="viewMode";var S=r(3679),M=r(96070),w=r(98590),R=r(50111);const E=["model_id","model_name","status","artifact_uri","creation_time","last_updated_time"],Y=({searchQuery:e,onChangeSearchQuery:t,loggedModelsData:r})=>{const o=(0,g.useMemo)((()=>{const e=(e=>{const t=new Set,r=new Set,o=new Set;for(const c of e){var a,n,s,i,l,d;null===(a=c.data)||void 0===a||null===(n=a.metrics)||void 0===n||n.forEach((e=>e.key&&t.add(e.key))),null===(s=c.data)||void 0===s||null===(i=s.params)||void 0===i||i.forEach((e=>e.key&&r.add(e.key))),null===(l=c.info)||void 0===l||null===(d=l.tags)||void 0===d||d.forEach((e=>e.key&&o.add(e.key)))}return{metricNames:Array.from(t),paramNames:Array.from(r),tagNames:Array.from(o).filter(w.oD)}})(r),t=E.map((e=>({value:`attributes.${e}`})));return(0,M.$K)(e,t)}),[r]);return(0,R.Y)(S.M,{searchFilter:null!==e&&void 0!==e?e:"",onSearchFilterChange:t,defaultActiveFirstOption:!1,baseOptions:o,onClear:()=>t(""),placeholder:"metrics.rmse >= 0.8",tooltipContent:(0,R.FD)("div",{children:[(0,R.Y)(y.A,{id:"8f4/Zi",defaultMessage:"Search logged models using a simplified version of the SQL {whereBold} clause.",values:{whereBold:(0,R.Y)("b",{children:"WHERE"})}})," ",(0,R.Y)("br",{}),(0,R.Y)(y.A,{id:"fyVs2o",defaultMessage:"Examples:"}),(0,R.Y)("br",{}),"\u2022 metrics.rmse >= 0.8",(0,R.Y)("br",{}),"\u2022 metrics.`f1 score` < 1",(0,R.Y)("br",{}),"\u2022 params.type = 'tree'",(0,R.Y)("br",{}),"\u2022 tags.my_tag = 'foobar'",(0,R.Y)("br",{}),"\u2022 attributes.name = 'elasticnet'",(0,R.Y)("br",{})]})})};const A=e=>JSON.stringify([e.dataset_name,e.dataset_digest]);var B={name:"158icaa",styles:"margin-left:4px"};const _=({loggedModelsData:e,selectedFilterDatasets:t,onToggleDataset:r,onClearSelectedDatasets:n})=>{const{theme:i}=(0,a.u)(),l=(0,f.A)(),d=(0,g.useRef)(new Map),c=(0,g.useMemo)((()=>{for(const r of e)for(const e of(null===(t=r.data)||void 0===t?void 0:t.metrics)||[]){var t;if(!e.dataset_name||!e.dataset_digest)continue;const r=A(e);d.current.has(r)||d.current.set(r,{hash:r,dataset_name:e.dataset_name,dataset_digest:e.dataset_digest})}return Array.from(d.current.values())}),[e]),u=(0,g.useMemo)((()=>(null===t||void 0===t?void 0:t.map(A))||[]),[t]);return(0,R.FD)(s.AYc,{componentId:"mlflow.logged_model.list_page.datasets_filter",id:"mlflow.logged_model.list_page.datasets_filter",value:u,label:l.formatMessage({id:"K8JcAN",defaultMessage:"Datasets"}),stayOpenOnSelection:!0,children:[(0,R.Y)(s.Qwi,{children:(0,R.FD)(a.B,{endIcon:(0,R.Y)(s.D3D,{}),componentId:"mlflow.logged_model.list_page.datasets_filter.toggle",icon:(0,R.Y)(s.KbA,{}),children:["Datasets",u.length>0?(0,R.FD)(R.FK,{children:[(0,R.Y)(s.Ezx,{css:B,children:u.length}),(0,R.Y)(s.htq,{"aria-hidden":"false",role:"button",onClick:e=>{e.stopPropagation(),e.preventDefault(),null===n||void 0===n||n()},css:(0,o.AH)({color:i.colors.textPlaceholder,fontSize:i.typography.fontSizeSm,marginLeft:i.spacing.xs,":hover":{color:i.colors.actionTertiaryTextHover}},"")})]}):null]})}),(0,R.Y)(s.dn6,{children:(0,R.Y)(s.HI_,{children:c.map((({hash:e,dataset_digest:t,dataset_name:o})=>(0,R.FD)(s.jTC,{value:e,checked:u.includes(e),onChange:()=>null===r||void 0===r?void 0:r({dataset_digest:t,dataset_name:o}),children:[o," (#",t,")"]},e)))})})]})};var I=r(41028),F=r(69526),T=r(14343),k=r(92677);const x=(e,t)=>{const r={[k.I7.CreationTime]:(0,F.zR)({id:"ltqNpe",defaultMessage:"Creation time"})}[e];if(r)return t.formatMessage(r);const o=(0,k.TQ)(e);return o?o.metricKey:e};var L={name:"bsla3r",styles:"max-height:300px;overflow:auto"};const N=({orderByColumn:e,orderByAsc:t,onChangeOrderBy:r,columnDefs:n=[]})=>{const i=(0,f.A)(),[l,d]=(0,g.useState)(""),{theme:c}=(0,a.u)(),u=(0,g.useMemo)((()=>{const t=l.toLowerCase(),r=[{groupId:"attributes",headerName:i.formatMessage({id:"Tpj2su",defaultMessage:"Attributes"}),children:[{colId:k.I7.CreationTime,headerName:x(k.I7.CreationTime,i)}].filter((({headerName:e})=>null===e||void 0===e?void 0:e.toLowerCase().includes(t)))},...n.filter((e=>{var t;return null===(t=e.groupId)||void 0===t?void 0:t.startsWith(k.D2)})).map((e=>{var r;return{...e,children:null===(r=e.children)||void 0===r?void 0:r.filter((({colId:e})=>null===e||void 0===e?void 0:e.includes(t))),headerName:e.headerName?`Metrics (${e.headerName})`:i.formatMessage({id:"EcjcgN",defaultMessage:"Metrics"})}}))].filter((e=>e.children&&e.children.length>0));if(!r.some((t=>t.children&&t.children.some((t=>t.colId===e))))){const{metricKey:t}=(0,k.TQ)(e);t&&r.push({groupId:"current",headerName:i.formatMessage({id:"1wfVV5",defaultMessage:"Currently sorted by"}),children:[{colId:e,headerName:t}]})}return r}),[n,i,l,e]);return(0,R.FD)(s.rId.Root,{modal:!1,children:[(0,R.Y)(s.rId.Trigger,{asChild:!0,children:(0,R.Y)(a.B,{componentId:"mlflow.logged_model.list.order_by",icon:t?(0,R.Y)(s.GCP,{}):(0,R.Y)(s.MMv,{}),children:(0,R.Y)(y.A,{id:"YRBURU",defaultMessage:"Sort: {sortBy}",values:{sortBy:x(e,i)}})})}),(0,R.FD)(s.rId.Content,{css:L,children:[(0,R.FD)("div",{css:(0,o.AH)({padding:`${c.spacing.sm}px ${c.spacing.lg/2}px ${c.spacing.sm}px`,width:"100%",display:"flex",gap:c.spacing.xs},""),children:[(0,R.Y)(I.I,{componentId:"mlflow.logged_model.list.order_by.filter",prefix:(0,R.Y)(I.S,{}),value:l,type:"search",onChange:e=>d(e.target.value),placeholder:i.formatMessage({id:"PRwcGm",defaultMessage:"Search"}),autoFocus:!0,allowClear:!0}),(0,R.FD)("div",{css:(0,o.AH)({display:"flex",gap:c.spacing.xs},""),children:[(0,R.Y)(T.k,{pressed:!t,icon:(0,R.Y)(s.ZLN,{}),componentId:"mlflow.logged_model.list.order_by.button_desc",onClick:()=>r(e,!1),"aria-label":i.formatMessage({id:"w/sljb",defaultMessage:"Sort descending"})}),(0,R.Y)(T.k,{pressed:t,icon:(0,R.Y)(s.Kpk,{}),componentId:"mlflow.logged_model.list.order_by.button_asc",onClick:()=>r(e,!0),"aria-label":i.formatMessage({id:"E4eALP",defaultMessage:"Sort ascending"})})]})]}),u.map((({headerName:o,children:a,groupId:n})=>(0,R.FD)(s.rId.Group,{"aria-label":o,children:[(0,R.Y)(s.rId.Label,{children:o}),null===a||void 0===a?void 0:a.map((({headerName:o,colId:a})=>(0,R.FD)(s.rId.CheckboxItem,{componentId:"mlflow.logged_model.list.order_by.column_toggle",checked:e===a,onClick:()=>{a&&r(a,Boolean(t))},children:[(0,R.Y)(s.rId.ItemIndicator,{}),o]},a)))]},n)))]})]})},K=({orderByColumn:e,orderByAsc:t,sortingAndFilteringEnabled:r,onChangeOrderBy:i,onUpdateColumns:l,columnDefs:d,columnVisibility:c={},viewMode:u,setViewMode:m,searchQuery:g="",onChangeSearchQuery:p,loggedModelsData:h,selectedFilterDatasets:D,onToggleDataset:S,onClearSelectedDatasets:M})=>{const w=(0,f.A)(),{theme:E}=(0,a.u)();return(0,R.FD)("div",{css:(0,o.AH)({display:"flex",flexWrap:"wrap",gap:E.spacing.sm},""),children:[(0,R.FD)(s.d98,{componentId:"mlflow.logged_model.list.view-mode",name:"view-mode",value:u,onChange:e=>{m((0,C.SK)(b,e.target.value,b.TABLE))},children:[(0,R.FD)(s.EPn,{value:"TABLE",children:[(0,R.Y)(n.T,{componentId:"mlflow.logged_model.list.view-mode-table-tooltip",content:w.formatMessage({id:"F9Aau+",defaultMessage:"Table view"}),children:(0,R.Y)(n.L,{})}),(0,R.Y)("span",{css:a.O,children:w.formatMessage({id:"F9Aau+",defaultMessage:"Table view"})})]}),(0,R.FD)(s.EPn,{value:"CHART",children:[(0,R.Y)(n.T,{componentId:"mlflow.logged_model.list.view-mode-chart-tooltip",content:w.formatMessage({id:"44XPr5",defaultMessage:"Chart view"}),children:(0,R.Y)(s.SCH,{})}),(0,R.Y)("span",{css:a.O,children:w.formatMessage({id:"44XPr5",defaultMessage:"Chart view"})})]})]}),r?(0,R.FD)(R.FK,{children:[(0,R.Y)(Y,{searchQuery:g,onChangeSearchQuery:p,loggedModelsData:h}),(0,R.Y)(_,{loggedModelsData:h,onToggleDataset:S,onClearSelectedDatasets:M,selectedFilterDatasets:D}),(0,R.Y)(N,{orderByColumn:null!==e&&void 0!==e?e:"",orderByAsc:t,onChangeOrderBy:i,columnDefs:d})]}):(0,R.Y)(a.B,{componentId:"mlflow.logged_model.list.sort",icon:t?(0,R.Y)(s.GCP,{}):(0,R.Y)(s.MMv,{}),onClick:()=>{e&&i(e,!t)},children:(0,R.Y)(y.A,{id:"eDoQXM",defaultMessage:"Sort: Created"})}),(0,R.Y)(v.$,{columnDefs:d,columnVisibility:c,onUpdateColumns:l,disabled:u===b.CHART})]})};var O=r(36506),V=r(31798),H=r(88457),P=r(42550),U=r(9133),$=r(71932),z=r(63617),Q=r(73150),q=r(39045),j=r(75627),G=r(62758),X=r(30152),J=r(23734),W=r(88421);const Z=(e,t)=>t?JSON.stringify([t,e]):null!==e&&void 0!==e?e:"",ee=(e,t=1)=>`experiment-logged-models-charts-ui-state-v${t}-${e}`,te=()=>({compareRunCharts:void 0,compareRunSections:void 0,autoRefreshEnabled:!1,isAccordionReordered:!1,chartsSearchFilter:"",globalLineChartConfig:void 0,isDirty:!1}),re=(e,t)=>{if("UPDATE"===t.type)return{...t.stateSetter(e),isDirty:!0};if("METRICS_UPDATED"===t.type){const{compareRunCharts:r,compareRunSections:o}=(e=>{const t=e.map((({dataAccessKey:e,metricKey:t,datasetName:r})=>({deleted:!1,type:X.zL.BAR,uuid:`autogen-${e}`,metricSectionId:r?`autogen-${r}`:"default",isGenerated:!0,metricKey:t,dataAccessKey:e,datasetName:r,displayName:r?`(${r}) ${t}`:void 0}))),r=(0,U.uniq)(e.map((({datasetName:e})=>e))).map((e=>({display:!0,name:null!==e&&void 0!==e?e:"Metrics",uuid:e?`autogen-${e}`:"default",isReordered:!1})));return(0,U.isEmpty)(r)&&r.push({display:!0,name:"Metrics",uuid:"default",isReordered:!1}),{compareRunCharts:t,compareRunSections:r}})(t.metricsByDatasets);return((e,t)=>{var r,o;if((!e.compareRunCharts||!e.compareRunSections||!e.isDirty)&&(t.compareRunCharts.length>0||t.compareRunSections.length>0))return{...e,compareRunCharts:null!==(r=t.compareRunCharts)&&void 0!==r?r:[],compareRunSections:null!==(o=t.compareRunSections)&&void 0!==o?o:[]};const a=t.compareRunCharts.filter((t=>{var r;return!(null!==(r=e.compareRunCharts)&&void 0!==r&&r.find((e=>e.uuid===t.uuid)))})),n=t.compareRunSections.filter((t=>{var r;return a.find((e=>e.metricSectionId===t.uuid))&&!(null!==(r=e.compareRunSections)&&void 0!==r&&r.find((e=>e.uuid===t.uuid)))}));return n.length>0||a.length>0?{...e,compareRunCharts:e.compareRunCharts?[...e.compareRunCharts,...a]:t.compareRunCharts,compareRunSections:e.compareRunSections?[...e.compareRunSections,...n]:t.compareRunSections}:e})(e,{compareRunCharts:r,compareRunSections:o})}return"INITIALIZE"===t.type&&t.initialConfig?t.initialConfig:e},oe=(e,t)=>{const[r,o]=(0,g.useReducer)(re,void 0,te),[a,n]=(0,g.useState)(!0);(0,g.useEffect)((()=>{n(!0),(async e=>{const t=localStorage.getItem(ee(e));if(t)try{return JSON.parse(t)}catch{return}})(t).then((e=>{o({type:"INITIALIZE",initialConfig:e}),n(!1)}))}),[t]),(0,g.useEffect)((()=>{a||o({type:"METRICS_UPDATED",metricsByDatasets:e})}),[e,a]),(0,g.useEffect)((()=>{r.isDirty&&(async(e,t)=>{localStorage.setItem(ee(e),JSON.stringify(t))})(t,r)}),[t,r]);const s=(0,g.useCallback)((e=>o({type:"UPDATE",stateSetter:e})),[]);return{chartUIState:r,updateUIState:s,loading:a}};var ae=r(19415);var ne={name:"1qmr6ab",styles:"overflow:auto"};const se=(0,g.memo)((({chartData:e,uiState:t,metricKeysByDataset:r})=>{var n,i;const{theme:l}=(0,a.u)(),{formatMessage:d}=(0,f.A)(),u=(0,g.useMemo)((()=>(0,U.uniq)(e.flatMap((e=>Object.keys(e.metrics))))),[e]),m=(0,g.useMemo)((()=>(0,U.uniq)(e.flatMap((e=>Object.keys(e.params))))),[e]),p=(0,G.g_)(),h=(0,g.useCallback)((e=>{p((t=>({...t,chartsSearchFilter:e})))}),[p]),[v,C]=(0,g.useState)(null),b=(0,g.useCallback)((e=>t=>C(X.i$.getEmptyChartCardByType(t,!1,void 0,e))),[]),D=(0,G.Ez)(),S=(0,G.KP)(),[M,w]=(0,g.useState)(void 0),E=(0,g.useMemo)((()=>({runs:e})),[e]),Y=(0,g.useMemo)((()=>({runs:e,getDataTraceLink:c.h.getExperimentLoggedModelDetailsPageRoute})),[e]),A=(0,R.Y)("div",{css:(0,o.AH)({marginTop:l.spacing.lg},""),children:(0,R.Y)(s.SvL,{description:(0,R.Y)(y.A,{id:"oKgZFA",defaultMessage:"No models found in experiment or all models are hidden. Select at least one model to view charts."})})});return(0,R.Y)("div",{css:(0,o.AH)({backgroundColor:l.colors.backgroundSecondary,paddingLeft:l.spacing.md,paddingRight:l.spacing.md,paddingBottom:l.spacing.md,borderTop:`1px solid ${l.colors.border}`,borderLeft:`1px solid ${l.colors.border}`,flex:1,overflow:"hidden",display:"flex"},""),children:(0,R.FD)("div",{css:(0,o.AH)({display:"flex",flexDirection:"column",gap:l.spacing.sm,paddingTop:l.spacing.sm,overflow:"hidden",flex:1},""),children:[(0,R.Y)(I.I,{componentId:"mlflow.logged_model.list.charts.search",role:"searchbox",prefix:(0,R.Y)(I.S,{}),value:null!==(n=t.chartsSearchFilter)&&void 0!==n?n:"",allowClear:!0,onChange:({target:e})=>h(e.value),placeholder:d({id:"7teFL4",defaultMessage:"Search metric charts"})}),(0,R.FD)("div",{css:ne,children:[(0,R.Y)(j.W,{contextData:Y,component:Q.X,children:(0,R.Y)($.c_,{visibleChartCards:t.compareRunCharts,children:(0,R.Y)(q.J,{compareRunSections:t.compareRunSections,compareRunCharts:t.compareRunCharts,reorderCharts:U.noop,insertCharts:U.noop,chartData:e,startEditChart:C,removeChart:S,addNewChartCard:b,search:null!==(i=t.chartsSearchFilter)&&void 0!==i?i:"",groupBy:null,setFullScreenChart:w,autoRefreshEnabled:!1,hideEmptyCharts:!1,globalLineChartConfig:void 0,supportedChartTypes:[X.zL.BAR,X.zL.SCATTER],noRunsSelectedEmptyState:A})})}),(0,R.Y)(z._,{fullScreenChart:M,onCancel:()=>w(void 0),chartData:e,groupBy:null,tooltipContextValue:E,tooltipComponent:Q.X,autoRefreshEnabled:!1,globalLineChartConfig:void 0}),v&&(0,R.Y)(ae.z,{chartRunData:e,metricKeyList:u,metricKeysByDataset:r,paramKeyList:m,config:v,onSubmit:e=>{D({...e,displayName:void 0}),C(null)},onCancel:()=>C(null),groupBy:null,supportedChartTypes:[X.zL.BAR,X.zL.SCATTER]})]})]})})})),ie=(0,g.memo)((({loggedModels:e,experimentId:t})=>{const{theme:r}=(0,a.u)(),n=((e,t)=>{const r=(0,g.useRef)();return r.current&&(0,U.isEqual)(t,r.current.deps)||(r.current={deps:t,value:e()}),r.current.value})((()=>e),[e]),s=(e=>(0,g.useMemo)((()=>{const t=[];return e.forEach((e=>{var r,o;null===(r=e.data)||void 0===r||null===(o=r.metrics)||void 0===o||o.forEach((({key:e,dataset_name:r})=>{if(e&&!t.find((t=>t.metricKey===e&&t.datasetName===r))){const o=Z(e,r);t.push({metricKey:e,datasetName:r,dataAccessKey:o})}}))})),(0,U.orderBy)(t,(({datasetName:e})=>!e))}),[e]))(n),{chartUIState:i,updateUIState:l,loading:d}=oe(s,t),c=(e=>{const{isRowHidden:t}=(0,W.GP)();return(0,g.useMemo)((()=>(0,U.compact)(e.map(((e,r)=>{var o,a,n,s,i,l,d,c,u,m;return null!==(o=e.info)&&void 0!==o&&o.model_id?{displayName:null!==(a=null!==(n=null===(s=e.info)||void 0===s?void 0:s.name)&&void 0!==n?n:null===(i=e.info)||void 0===i?void 0:i.model_id)&&void 0!==a?a:"Unknown",images:{},metrics:(0,U.keyBy)(null===(l=e.data)||void 0===l||null===(d=l.metrics)||void 0===d?void 0:d.map((({dataset_name:e,key:t,value:r,timestamp:o,step:a})=>({dataKey:Z(t,e),key:null!==t&&void 0!==t?t:"",value:null!==r&&void 0!==r?r:0,timestamp:null!==o&&void 0!==o?o:0,step:null!==a&&void 0!==a?a:0}))),"dataKey"),params:(0,U.keyBy)(null!==(c=null===(u=e.data)||void 0===u||null===(m=u.params)||void 0===m?void 0:m.map((({key:e,value:t})=>({key:null!==e&&void 0!==e?e:"",value:null!==t&&void 0!==t?t:""}))).filter((({key:e})=>e)))&&void 0!==c?c:[],"key"),tags:{},uuid:e.info.model_id,hidden:t(e.info.model_id,r),color:(0,J.T6)(e.info.model_id)}:null})))),[e,t])})(n);return d?(0,R.Y)("div",{css:(0,o.AH)({backgroundColor:r.colors.backgroundSecondary,paddingTop:r.spacing.lg,borderTop:`1px solid ${r.colors.border}`,borderLeft:`1px solid ${r.colors.border}`,flex:1,justifyContent:"center",alignItems:"center",display:"flex"},""),children:(0,R.Y)(a.S,{})}):(0,R.Y)(G.oB,{updateChartsUIState:l,children:(0,R.Y)(se,{chartData:c,uiState:i,metricKeysByDataset:s})})}));var le=r(25790),de=r(39416);var ce={name:"oww3ap",styles:"display:flex;flex:1;overflow:hidden;position:relative"};const ue=()=>{const{experimentId:e}=(0,d.g)(),{theme:t}=(0,a.u)(),r=(0,d.Zp)(),i=(0,m.fS)(),{state:{orderByColumn:u,orderByAsc:f,columnVisibility:y,rowVisibilityMap:v,rowVisibilityMode:S,selectedFilterDatasets:M},searchQuery:w,isFilteringActive:E,setOrderBy:Y,setColumnVisibility:A,setRowVisibilityMode:B,toggleRowVisibility:_,updateSearchQuery:I,toggleDataset:F,clearSelectedDatasets:T}=(0,V.k)();l()(e,"Experiment ID must be defined"),(0,g.useEffect)((()=>{!(0,m.Dz)()&&e&&r(c.h.getExperimentPageRoute(e),{replace:!0})}),[e,r]);const{viewMode:x,setViewMode:L}=(()=>{const[e,t]=(0,d.ok)();return{viewMode:(0,C.SK)(b,e.get(D),b.TABLE),setViewMode:e=>{t({[D]:e})}}})(),{data:N,isFetching:U,isLoading:$,error:z,nextPageToken:Q,loadMoreResults:q}=(0,h.e)({experimentIds:[e],orderByAsc:f,searchQuery:w,selectedFilterDatasets:M,...(()=>{if(!u)return{orderByField:void 0};const e=(0,k.TQ)(u);return e.datasetDigest&&e.datasetName?{orderByField:`metrics.${e.metricKey}`,orderByDatasetName:e.datasetName,orderByDatasetDigest:e.datasetDigest}:{orderByField:u}})()}),j=z instanceof de.v7?z:void 0,{data:G}=(0,H.s)({loggedModels:N}),{columnDefs:X,compactColumnDefs:J}=(0,k.ih)({loggedModels:N,columnVisibility:y,isLoading:$,orderByColumn:u,orderByAsc:f,enableSortingByMetrics:i}),[Z,ee]=(0,g.useState)(295),[te,re]=(0,g.useState)(!1),oe=x!==b.TABLE,ae=oe&&te?(0,R.Y)("div",{css:(0,o.AH)({width:t.spacing.md},"")}):(0,R.Y)(p._,{columnDefs:oe?J:X,loggedModels:null!==N&&void 0!==N?N:[],isLoading:$,isLoadingMore:U,badRequestError:j,moreResultsAvailable:Boolean(Q),onLoadMore:q,onOrderByChange:Y,orderByAsc:f,orderByColumn:u,columnVisibility:y,relatedRunsData:G,isFilteringActive:E});return(0,R.Y)(O.Xs,{children:(0,R.FD)(W.Ap,{visibilityMap:v,visibilityMode:S,setRowVisibilityMode:B,toggleRowVisibility:_,children:[(0,R.Y)(K,{columnDefs:X,columnVisibility:y,onChangeOrderBy:Y,onUpdateColumns:A,orderByColumn:u,orderByAsc:f,viewMode:x,setViewMode:L,searchQuery:w,onChangeSearchQuery:I,loggedModelsData:null!==N&&void 0!==N?N:[],sortingAndFilteringEnabled:i,selectedFilterDatasets:M,onToggleDataset:F,onClearSelectedDatasets:T}),(0,R.Y)(n.S,{size:"sm",shrinks:!1}),(null===z||void 0===z?void 0:z.message)&&!j&&(0,R.FD)(R.FK,{children:[(0,R.Y)(s.FcD,{componentId:"mlflow.logged_models.list.error",message:z.message,type:"error",closable:!1}),(0,R.Y)(n.S,{size:"sm",shrinks:!1})]}),oe?(0,R.Y)(le.Co,{children:(0,R.FD)("div",{css:ce,children:[(0,R.Y)(P.t,{onResize:ee,runListHidden:te,width:Z,onHiddenChange:re,children:ae}),x===b.CHART&&(0,R.Y)(ie,{loggedModels:null!==N&&void 0!==N?N:[],experimentId:e})]})}):ae]})})};var me=()=>(0,R.Y)(u.X,{children:(0,R.Y)(ue,{})})},82638:function(e,t,r){r.d(t,{t:function(){return n}});var o=r(9133),a=r(31014);const n=(0,o.isFunction)(a.useDeferredValue)?a.useDeferredValue:o.identity},88457:function(e,t,r){r.d(t,{s:function(){return c}});var o=r(31014),a=r(9133),n=r(77735),s=r(63528),i=r(84174);const l=e=>["USE_RELATED_RUNS_DATA_FOR_LOGGED_MODELS",{runUuid:e}],d=async({queryKey:[,{runUuid:e}]})=>{try{const t=await s.x.getRun({run_id:e});return null===t||void 0===t?void 0:t.run}catch(t){return null}},c=({loggedModels:e=[]})=>{var t;const r=(0,o.useMemo)((()=>{const t=(0,a.compact)(null===e||void 0===e?void 0:e.flatMap((e=>{var t,r;return null===e||void 0===e||null===(t=e.data)||void 0===t||null===(r=t.metrics)||void 0===r?void 0:r.map((e=>e.run_id))}))),r=(0,a.compact)(null===e||void 0===e?void 0:e.map((e=>{var t;return null===e||void 0===e||null===(t=e.info)||void 0===t?void 0:t.source_run_id})));return(0,a.sortBy)((0,a.uniq)([...t,...r]))}),[e]),s=(0,n.E)({queries:r.map((e=>({queryKey:l(e),queryFn:d,cacheTime:1/0,staleTime:1/0,refetchOnWindowFocus:!1,retry:!1})))}),c=s.some((({isLoading:e})=>e)),u=null===(t=s.find((({error:e})=>e)))||void 0===t?void 0:t.error,m=(0,i.z)(s.map((({data:e})=>e)));return{data:(0,o.useMemo)((()=>m.map((e=>e)).filter(Boolean)),[m]),loading:c,error:u}}},92246:function(e,t,r){r.d(t,{X:function(){return u}});var o=r(37368),a=r(28486),n=r(48012),s=r(32599),i=r(88443),l=r(50111);var d={name:"1vfb318",styles:"flex:1;display:flex;align-items:center;justify-content:center"};const c=({error:e})=>{var t;return(0,l.Y)(n.ffj,{css:d,children:(0,l.Y)(n.SvL,{"data-testid":"fallback",title:(0,l.Y)(i.A,{id:"AOoWxS",defaultMessage:"Error"}),description:null!==(t=null===e||void 0===e?void 0:e.message)&&void 0!==t?t:(0,l.Y)(i.A,{id:"zmMR5p",defaultMessage:"An error occurred while rendering this component."}),image:(0,l.Y)(s.j,{})})})},u=({children:e,resetKey:t})=>(0,l.Y)(a.tH,{FallbackComponent:c,resetKeys:[t],children:(0,l.Y)(o.Au,{children:e})})}}]);
//# sourceMappingURL=7367.ed5b9692.chunk.js.map