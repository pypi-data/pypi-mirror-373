{% load metroui5 %}

<form method="{{ form.method|default:'post' }}" 
      action="{{ form.action|default:'' }}"
      enctype="{{ form.enctype|default:'application/x-www-form-urlencoded' }}"
      class="form"
      {% if form.id %}id="{{ form.id }}"{% endif %}
      {% if form.novalidate %}novalidate{% endif %}>
    
    {% csrf_token %}
    
    <!-- Non-field errors -->
    {% if form.non_field_errors %}
        <div class="alert alert-danger" role="alert">
            {% for error in form.non_field_errors %}
                {{ error }}
            {% endfor %}
        </div>
    {% endif %}
    
    <!-- Hidden fields -->
    {% for hidden_field in form.hidden_fields %}
        {{ hidden_field }}
    {% endfor %}
    
    <!-- Visible fields -->
    {% for field in form.visible_fields %}
        <div class="form-group">
            {% metroui5_field field %}
        </div>
    {% endfor %}
    
    <!-- Form actions -->
    <div class="form-actions">
        {% block form_actions %}
            <button type="submit" class="button primary">
                {% block submit_text %}Submit{% endblock %}
            </button>
            
            {% if form.cancel_url %}
                <a href="{{ form.cancel_url }}" class="button secondary">
                    {% block cancel_text %}Cancel{% endblock %}
                </a>
            {% endif %}
        {% endblock %}
    </div>
</form>
