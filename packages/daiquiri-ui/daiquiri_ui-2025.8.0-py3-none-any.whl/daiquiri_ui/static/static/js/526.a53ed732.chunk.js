"use strict";(self.webpackChunkdaiquiri_ui=self.webpackChunkdaiquiri_ui||[]).push([[526],{6526:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Z});var i=r(52799),c=r(57209),n=r(45425),s=r(71145),l=r(20837),o=r(96956),a=r(40714),d=r(83401),f=r(18578),h=r(66809),u=r(30839),p=r.n(u),v=r(69521);function j(e){var t,r;const{directory:i}=e;return(0,v.jsxs)("li",{className:p()({"leaf-open":i.leafState,file:"file"===i.type},i.ext),children:["directory"===i.type&&(0,v.jsx)(f.Z,{variant:"link",onClick:()=>e.actions.toggleLeafState(),children:i.name}),"file"===i.type&&(0,v.jsx)(f.Z,{variant:"link",onClick:()=>{return t=i.path,void e.fetchFile(t).then((()=>{e.selectFile(t)}));var t},children:i.name}),(null!==(t=null===(r=i.children)||void 0===r?void 0:r.length)&&void 0!==t?t:0)>0&&(0,v.jsx)(h.Z,{in:i.leafState,children:(0,v.jsx)("ul",{children:(0,o.map)(i.children,(t=>e.renderTree(t)))})})]},i.path)}j.defaultProps={leafState:!1,children:[],ext:void 0};const x=j,g=(0,n.Qg)({editor:s.Z})((0,c.$j)(((e,t)=>({leafState:s.Z.selector("leafState",e)[t.path]})),((e,t)=>({actions:{toggleLeafState:()=>s.Z.dispatch("TOGGLE_LEAF",t.path)}})))(x));const m=function(e){const t=r=>(0,v.jsx)(g,{directory:r,renderTree:t,fetchFile:e.actions.fetchFile,selectFile:e.actions.selectFile},r.name);return(0,l.useEffect)((()=>{e.actions.fetchDirectories()}),[e.actions]),(0,v.jsxs)(d.Z,{children:[e.error&&(0,v.jsxs)(a.Z,{variant:"danger",children:[(0,v.jsx)("i",{className:"fa fa-warning"})," Could not fetch directory listing",(0,v.jsx)("div",{className:"description",children:e.error})]}),(0,o.map)(e.directories,(e=>(0,v.jsx)("ul",{className:"editor-tree",children:t(e)},e.name)))]})};const F=(0,n.Qg)({editor:s.Z})((0,c.$j)((function(e,t){const{providers:r}=t;return{directories:r.editor.directories.selector("results",e),error:r.editor.directories.selector("error",e)}}),(function(e,t){return{actions:{fetchDirectories:()=>t.providers.editor.directories.fetch(),fetchFile:e=>t.providers.editor.files.fetchSingle(e),selectFile:e=>s.Z.dispatch("SELECT_FILE",e)}}}))(m));function Z(e){const{providers:t,yamlNode:r,...c}=e;return i.ol(r,c),(0,v.jsx)(F,{providers:t})}}}]);
//# sourceMappingURL=526.a53ed732.chunk.js.map