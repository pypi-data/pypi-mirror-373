"use strict";(self.webpackChunkdaiquiri_ui=self.webpackChunkdaiquiri_ui||[]).push([[146],{75146:(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var i=s(6125),n=s(52799),r=s(57209),o=s(20837),c=s(70624),a=s(18578),u=s(18941),l=s(79008),p=s(78530),d=s(77048),f=s(69521);const h=function(e){const[t,s]=(0,o.useState)(0),[i,n]=(0,o.useState)(!1),r=(0,o.useMemo)((()=>e=>p.Z.dispatch("REQUEST_HARDWARE_CHANGE",e)),[]),h=(0,l.pC)(),w=(0,l.t9)();(0,o.useEffect)((()=>{e.steps&&s(e.steps[0])}),[e.steps]);const m=i||!h||w;return(0,f.jsxs)(c.Z,{children:[(0,f.jsx)(a.Z,{onClick:function(){const s=[],i=d.l.getState().hardware;n(!0),e.ids.forEach((n=>{if(n.reference&&(n.increment||e.steps)){const o=i[n.id];s.push(r({...n,value:o.properties[n.reference]+(e.steps?t:n.increment)}))}else(n.function||n.property)&&s.push(r(n))})),Promise.all(s).finally((()=>{n(!1)}))},disabled:m,children:i?(0,f.jsx)("i",{className:"fa fa-spinner fa-spin"}):(0,f.jsx)(f.Fragment,{children:e.icon?(0,f.jsx)("i",{className:`fa ${e.icon}`,title:e.buttonTitle}):e.buttonTitle})}),e.steps&&(0,f.jsx)(u.Z.Control,{as:"select",className:"step-size",defaultValue:t,onChange:e=>s(Number.parseFloat(e.target.value)),children:e.steps.map((e=>(0,f.jsx)("option",{value:e,children:e})))})]})};const w=(0,r.$j)((function(e,t){return{}}),(function(e){return{}}))(h);function m(e,t,s){if(void 0!==s){if(!Array.isArray(s))throw new i.u4(e,"ids","An option list is expected");s.forEach(((t,s)=>{const{id:r,function:o,property:c,value:a,increment:u,reference:l,...p}=t;n.ol(e,p);try{!function(e,t){if(void 0===t)throw new i.x1(e,["id"]);if("string"!==typeof t.id)throw new i.u4(e,"id","A string is expected")}(e,t)}catch{throw new i.u4(e,"ids",`The hardware button object description ${s} is wrong`)}}))}}function b(e){const{providers:t,yamlNode:s,ids:i,steps:r,buttonTitle:o,icon:c,...a}=e;return n.ol(s,a),m(s,0,i),n.Xl(s,"buttonTitle",o),n.Xl(s,"icon",c),n.EJ(s,"steps",r),(0,f.jsx)(w,{steps:r,ids:i,buttonTitle:o,icon:c,providers:t})}}}]);
//# sourceMappingURL=146.799102be.chunk.js.map