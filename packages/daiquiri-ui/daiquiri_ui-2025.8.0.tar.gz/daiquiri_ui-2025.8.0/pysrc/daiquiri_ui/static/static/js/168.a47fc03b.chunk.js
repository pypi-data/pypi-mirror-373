"use strict";(self.webpackChunkdaiquiri_ui=self.webpackChunkdaiquiri_ui||[]).push([[168],{58168:(s,e,a)=>{a.r(e),a.d(e,{default:()=>v});var n=a(52799),r=a(20837),t=a(82794),c=a(91328),i=a(57056),o=a(40409),d=a(91861),l=a(69521);var u=a(45425),p=a(12678),m=a(57209),h=a(69048);const f=(0,u.Qg)({scans:p.Z})((0,m.$j)((0,h.Z)(((s,e,a)=>{const{data:n,list:r}=e.providers.scans;return{data:n.selector("results",s),scans:r.selector("results",s),currentPoint:p.Z.selector("currentPoint",s),selectedScan:p.Z.selector("selectedScan",s)}})),((s,e)=>({actions:{setFollow:()=>{void 0===e.selectedScan&&p.Z.dispatch("RESET_SCAN_SELECTION")},setPageSize:s=>e.providers.scans.data.setPageSize(s,!0),setPage:(s,a)=>e.providers.scans.data.setPage(s,a),setParams:(s,a)=>e.providers.scans.data.setParams(s,a)}})))((function(s){const{options:e,selectedScan:a,currentPoint:n,data:u,scans:p,actions:m}=s,{series:h}=e,f=(0,d.JD)(p);if((0,r.useEffect)((()=>{m.setFollow(),m.setPage(void 0),m.setParams({scalars:[h]}),f&&m.setParams({scanid:f},!0)}),[]),(0,r.useEffect)((()=>{let s=a;s||f&&(s=f),s&&m.setParams({scanid:s},!0)}),[a]),!h)return(0,l.jsxs)("div",{className:"bg-warning rounded p-1",children:[(0,l.jsx)("i",{className:"fa fa-warning m-1"}),"Please specify a `series` in the config"]});const v=e.name||h;if(null===f)return(0,l.jsxs)("span",{children:[v,": No scan loaded."]});const g=u[a||f]||{};if(!g.data)return(0,l.jsxs)("span",{children:[v,": Waiting for scan data"]});if(!g.axes.ys.scalars.includes(h))return(0,l.jsxs)("div",{className:"bg-warning rounded p-1",children:["Scan does not include `",h,"`"]});const x=g.data[h];if(!x)return(0,l.jsxs)("div",{className:"bg-warning rounded p-1",children:["No y data yet for `",h,"`"]});if(!x.data)return(0,l.jsxs)("div",{className:"bg-warning rounded p-1",children:["Data not yet loaded for `",h,"`"]});const N=null!==n?n:x.data.length-1,j=x.data[N];let P="primary";if(e.comparator&&e.comparison){P=(0,o.N7)(e.comparator,j,e.comparison)?"success":"danger"}let S=String(j);return void 0!==e.round&&(void 0===j||Number.isNaN(j)||(S=j.toFixed(e.round))),(0,l.jsx)("div",{className:"scanplot0d-value",children:(0,l.jsxs)(t.Z,{children:[(0,l.jsxs)(c.Z,{children:[v,":"]}),(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(i.Z,{bg:P,children:S}),(0,l.jsxs)("span",{className:"invisible",children:["[",N,", ",g.page,"]"]})]})]})})})));function v(s){const{yamlNode:e,providers:a,series:r,name:t,round:c,comparison:i,comparator:o,...d}=s;return n.Ee(e,"series",r),n.Xl(e,"name",t),n.GP(e,"round",c),n.Xl(e,"comparison",i),n.Xl(e,"comparator",o),n.ol(e,d),(0,l.jsx)(f,{providers:a,options:{series:r,name:t,round:c,comparison:i,comparator:o}})}},69048:(s,e,a)=>{a.d(e,{Z:()=>c});var n=a(96956),r=a.n(n);class t{constructor(){this.cache=void 0,this.cache={}}debounce(s,e){const a=this.cache[s];return r().isEqual(a,e)?a:(this.cache[s]=e,e)}memo(s,e,a){const n=[void 0,void 0],[t,c]=this.cache[s]||n;if(r().isEqual(c,a))return t;const i=e();return this.cache[s]=[i,a],i}}function c(s){const e=new t;return(a,n)=>s(a,n,e)}}}]);
//# sourceMappingURL=168.a47fc03b.chunk.js.map