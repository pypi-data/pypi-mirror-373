"use strict";(self.webpackChunkdaiquiri_ui=self.webpackChunkdaiquiri_ui||[]).push([[850],{70850:(e,t,s)=>{s.r(t),s.d(t,{default:()=>P});var a=s(52799),c=s(57209),i=s(45425),n=s(12678),r=s(20837),l=s(83401),o=s(49568),d=s(20729),m=s(57056),p=s(75849),f=s(32249),u=s(18578),g=s(95086),h=s(69521);const S={CREATED:"light",PREPARING:"info",RUNNING:"info",FINISHED:"success",ABORTED:"warning",FAILED:"danger"};function x(e){return(0,h.jsx)(m.Z,{bg:S[e],children:e})}function v(e){const t=(0,h.jsxs)(p.Z,{id:"popover-filename",children:[(0,h.jsx)(p.Z.Header,{as:"h3",children:"File Name"}),(0,h.jsx)(p.Z.Body,{children:e})]});return e?(0,h.jsx)(f.Z,{trigger:"click",placement:"left",overlay:t,rootClose:!0,children:(0,h.jsx)(u.Z,{size:"sm",children:(0,h.jsx)("i",{className:"fa fa-file"})})}):null}const E=function(e){const{scans:t,actions:s,selected:a}=e,c=Object.values(t);(0,r.useEffect)((()=>{s.setPageSize(10),s.fetch()}),[s]),(0,r.useEffect)((()=>{a&&s.fetchData(a)}),[a]);const i=[{dataField:"scan_number",text:"#"},{dataField:"title",text:"Title",classes:"text-break"},{dataField:"start_timestamp",text:"Start",formatter:o.Z,formatExtraData:{format:"DD-MM-YYYY HH:mm:ss"},classes:"text-nowrap"},{dataField:"end_timestamp",text:"End",formatter:o.Z,formatExtraData:{format:"DD-MM-YYYY HH:mm:ss"},classes:"text-nowrap"},{dataField:"npoints",text:"Points"},{dataField:"count_time",text:"Count Time"},{dataField:"status",text:"Status",formatter:x},{dataField:"filename",text:"File",formatter:v}],n={page:e.page,per_page:e.per_page,total:e.total,setPage:e.actions.setPage,setPageSize:e.actions.setPageSize,fetch:e.actions.fetch};return(0,h.jsx)(d.Z,{children:(0,h.jsxs)(l.Z,{children:[(0,h.jsx)(u.Z,{size:"sm",onClick:()=>{var e;return null===(e=s.resetSelection)||void 0===e?void 0:e.call(s)},disabled:null===e.selected,className:"mb-1",children:"Follow"}),(0,h.jsx)(g.Z,{keyField:"scanid",data:c,pages:n,columns:i,bordered:!1,classes:"table-sm scan-table",noDataIndication:"No scans available",loading:e.fetching,overlay:!0,multiple:!0,selectedItems:e.selectedItems,page:e.page,actions:{addSelection:e.actions.addSelection,removeSelection:e.actions.removeSelection,resetSelection:e.actions.resetSelection}})]})})},Z=(0,i.Qg)({scans:n.Z})((0,c.$j)(((e,t)=>{const{list:s}=t.providers.scans;return{selected:n.Z.selector("selectedScan",e),selectedItems:n.Z.selector("selectedScans",e),scans:s.selector("ordered",e),params:s.selector("params",e),per_page:s.selector("per_page",e),page:s.selector("page",e),total:s.selector("total",e),fetching:s.selector("fetching",e)}}),((e,t)=>{const{list:s}=t.providers.scans;return{actions:{fetchData:e=>(t.providers.scans.data.setPage(1),t.providers.scans.data.setParams({scanid:e},!0)),fetch:()=>s.fetch(),setParams:e=>s.setParams(e,!0),setPage:e=>s.setPage(e),setPageSize:e=>s.setPageSize(e),addSelection:e=>n.Z.dispatch("SELECT_SCAN",e),removeSelection:e=>n.Z.dispatch("UNSELECT_SCAN",e),resetSelection:()=>n.Z.dispatch("RESET_SCAN_SELECTION")}}}))(E));function P(e){const{providers:t,yamlNode:s,events:c,...i}=e;return a.lD(s,"events",c),a.ol(s,i),(0,h.jsx)(Z,{providers:t})}}}]);
//# sourceMappingURL=850.c6690ba7.chunk.js.map