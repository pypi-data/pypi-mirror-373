{"version":3,"file":"65472.1739ac1f470f4158.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/common/util/parse-aspect-ratio.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/panels/lovelace/cards/hui-map-card.ts","/unknown/node_modules/core-js/modules/web.self.js"],"names":["parseOrThrow","num","parsed","parseFloat","isNaN","Error","parseAspectRatio","input","endsWith","w","h","substr","length","arr","replace","split","_err","DEFAULT_HOURS_TO_SHOW","DEFAULT_ZOOM","HuiMapCard","LitElement","_getAllEntities","hass","this","personSources","Set","locationEntities","Object","values","states","forEach","entity","attributes","push","entity_id","computeStateDomain","source","add","filter","has","setConfig","config","_config$entities","_this$_config$cluster","show_all","entities","geo_location_sources","Array","isArray","_config","assign","_configEntities","processConfigEntities","_mapEntities","_getMapEntities","_clusterMarkers","cluster","getCardSize","_this$_config","aspect_ratio","ratio","ar","toFixed","Math","floor","Number","getConfigElement","document","createElement","getStubConfig","entitiesFallback","type","findEntities","theme_mode","render","_this$_config$default","nothing","_error","html","_t","_","localize","message","code","isDarkMode","dark_mode","themes","darkMode","themeMode","_t2","title","default_zoom","_getHistoryPaths","_stateHistory","auto_fit","fit_zones","_t3","mdiGoogleCirclesCommunities","mdiDotsHexagon","_toggleClusterMarkers","mdiImageFilterCenterFocus","_resetFocus","shouldUpdate","changedProps","_this$_config2","_this$_config3","size","oldHass","get","hasConfigOrEntitiesChanged","hasConfigChanged","willUpdate","_this$_config4","_this$_config5","_this$_config6","_changedProps$get","super","deepEqual","_getSourceEntities","connectedCallback","_this$_configEntities","hasUpdated","_subscribeHistory","disconnectedCallback","_unsubscribeHistory","_this$_config$hours_t","_this$_config7","_this$_config$hours_t2","isComponentLoaded","_subscribed","hours_to_show","subscribeHistoryStatesTimeWindow","combinedHistory","map","catch","err","undefined","then","unsub","updated","_this$_configEntities2","_computePadding","root","shadowRoot","getElementById","ignoreAspectRatio","layout","style","paddingBottom","height","_this$_map","_map","fitMap","unpause_autofit","_getColor","entityId","color","_colorDict","getColorByIndex","_colorIndex","_this$_config8","sourceObjs","geoEntities","allSource","find","s","stateObj","sourceObj","_sourceObj$label_mode","_sourceObj$attribute","_sourceObj$unit","_sourceObj$focus","_allSource$focus","computeDomain","label_mode","attribute","unit","focus","_this$hass","entityConf","name","getGridOptions","columns","rows","min_columns","min_rows","args","memoizeOne","history","_config$hours_to_show","paths","keys","_this$_configEntities3","_entityConfig$name","_config$hours_to_show2","entityStates","points","entityState","latitude","a","longitude","p","point","timestamp","Date","lu","entityConfig","e","computeStateName","fullDatetime","gradualOpacity","styles","css","_t4","$","globalThis","defineBuiltInAccessor","DESCRIPTORS","$TypeError","TypeError","defineProperty","INCORRECT_VALUE","self","descriptor","getOwnPropertyDescriptor","enumerable","set","value","writable","configurable","global","simple","forced","error"],"mappings":"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"}