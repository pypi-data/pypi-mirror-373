{"version":3,"file":"40825.5e51bf5a3a744dd2.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/components/chart/ha-sankey-chart.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/components/chips/ha-assist-chip.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/components/trace/hat-graph-const.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/data/recorder.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/mixins/mobile-aware-mixin.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/panels/lovelace/cards/energy/hui-energy-sankey-card.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/util/is_mobile.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/util/text.ts"],"names":["OVERFLOW_MARGIN","FONT_SIZE","NODE_GAP","LABEL_DISTANCE","HaSankeyChart","LitElement","render","_this$_sizeController","options","grid","top","bottom","left","right","tooltip","trigger","formatter","this","_renderTooltip","appendTo","document","body","html","_t","_","_createData","data","_sizeController","value","width","SankeyChart","_processLinks","nodes","rawLinks","accountedIn","Map","accountedOut","links","forEach","link","_link$value","sourceNode","find","n","id","source","targetNode","target","sourceAccounted","get","targetAccounted","sourceRemaining","targetRemaining","Math","min","set","push","Object","assign","_findParentIndex","sections","_links$find","parent","l","offset","i","length","section","index","findIndex","args","vertical","ResizeController","callback","entries","_entries$","contentRect","params","valueFormatter","_node$label","node","marker","label","_source$label","_target$label","memoizeOne","filteredNodes","filter","indexes","Set","map","sort","depthMap","nodesWithIndex","a","b","aParentIndex","bParentIndex","labelSpace","NODE_SIZE","type","flat","itemStyle","color","depth","draggable","orient","nodeWidth","nodeGap","lineStyle","opacity","layoutIterations","_data$nodes$find$labe","_data$nodes$find","position","distance","minMargin","overflow","labelLayout","longestWord","text","split","reduce","longest","current","wordWidth","measureTextWidth","availableWidth","rect","fontSize","align","dy","availableHeight","height","labelRect","lineHeight","emphasis","focus","styles","css","_t2","attribute","Boolean","String","HaAssistChip","AssistChip","renderOutline","filled","super","getContainerClasses","active","renderPrimaryContent","renderLeadingIcon","renderTrailingIcon","_t3","sharedStyles","elevatedStyles","_t4","reflect","SPACING","BRANCH_HEIGHT","StatisticMeanType","STATISTIC_TYPES","VOLUME_UNITS","getRecorderInfo","conn","sendMessagePromise","getStatisticIds","hass","statistic_type","callWS","getStatisticMetadata","statistic_ids","fetchStatistics","startTime","endTime","period","units","types","start_time","toISOString","end_time","fetchStatistic","statistic_id","fixed_period","start","Date","end","undefined","calendar","rolling_window","validateStatistics","updateStatisticsMetadata","unit_of_measurement","clearStatistics","calculateStatisticSumGrowth","values","growth","change","calculateStatisticsSumGrowth","stats","totalGrowth","stat","statGrowth","statisticsHaveType","some","mean_stat_types","sum_stat_types","statisticsMetaHasType","metadata","includes","mean_type","has_sum","adjustStatisticsSum","adjustment","adjustment_unit_of_measurement","start_time_iso","getStatisticLabel","statisticsId","statisticsMetaData","entity","states","computeStateName","name","getDisplayUnit","unit","_hass$states$statisti","attributes","statistics_unit_of_measurement","isExternalStatistic","updateStatisticsIssues","MobileAwareMixin","superClass","MobileAwareClass","connectedCallback","_unsubMql","listenMediaQuery","matches","_isMobileSize","disconnectedCallback","_this$_unsubMql","call","_isMobileClient","isMobileClient","DEFAULT_CONFIG","group_by_floor","group_by_area","HuiEnergySankeyCard","SubscribeMixin","setConfig","config","_config","hassSubscribe","_this$_config","getEnergyDataCollection","key","collection_key","subscribe","_data","getCardSize","getGridOptions","columns","min_columns","rows","min_rows","shouldUpdate","changedProps","has","nothing","_2","localize","prefs","energySourcesByType","summedData","compareSummedData","getSummedData","consumption","compareConsumption","__","computeConsumptionData","computedStyle","getComputedStyle","homeNode","max","total","used_total","getPropertyValue","battery","_summedData$total$fro","_summedData$total$to_","totalBatteryOut","from_battery","totalBatteryIn","to_battery","used_battery","grid_to_battery","solar_to_battery","_summedData$total$fro2","totalFromGrid","from_grid","used_grid","solar","_summedData$total$sol","totalSolarProduction","used_solar","flow_to","_summedData$total$to_2","totalToGrid","to_grid","battery_to_grid","solar_to_grid","untrackedConsumption","deviceNodes","parentLinks","device_consumption","device","idx","stat_consumption","statsMetadata","getGraphColorByIndex","included_in_stat","devicesWithoutParent","areas","floors","_groupByFloorAndArea","keys","_this$hass$floors$b$l","_this$hass$floors$b","_this$hass$floors$a$l","_this$hass$floors$a","level","Infinity","floorId","floorNodeId","areaId","targetNodeId","areaNodeId","devices","deviceNode","deviceSections","_getDeviceSections","hasData","layout","title","_valueFormatter","no_area","no_floor","area","floor","getEntityContext","area_id","floor_id","unshift","parentSection","childSection","parentIds","remainingLinks","hassSubscribeRequiredHostProps","formatNumber","locale","maximumFractionDigits","_t5","test","navigator","userAgent","textMeasureCanvas","fontFamily","createElement","context","getContext","font","textMetrics","measureText","ceil","actualBoundingBoxRight","actualBoundingBoxLeft"],"mappings":"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"}