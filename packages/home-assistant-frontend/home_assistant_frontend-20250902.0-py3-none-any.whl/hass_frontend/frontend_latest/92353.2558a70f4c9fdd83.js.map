{"version":3,"file":"92353.2558a70f4c9fdd83.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/common/util/parse-aspect-ratio.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/panels/lovelace/cards/hui-map-card.ts"],"names":["parseOrThrow","num","parsed","parseFloat","isNaN","Error","parseAspectRatio","input","endsWith","w","h","substr","length","arr","replace","split","_err","DEFAULT_HOURS_TO_SHOW","DEFAULT_ZOOM","HuiMapCard","LitElement","_getAllEntities","hass","this","personSources","Set","locationEntities","Object","values","states","forEach","entity","attributes","push","entity_id","computeStateDomain","source","add","filter","has","setConfig","config","show_all","entities","geo_location_sources","Array","isArray","_config","_configEntities","processConfigEntities","_mapEntities","_getMapEntities","_clusterMarkers","cluster","getCardSize","aspect_ratio","ratio","ar","toFixed","Math","floor","Number","getConfigElement","document","createElement","getStubConfig","entitiesFallback","type","findEntities","theme_mode","render","nothing","_error","html","localize","message","code","isDarkMode","dark_mode","themes","darkMode","themeMode","title","default_zoom","_getHistoryPaths","_stateHistory","auto_fit","fit_zones","mdiGoogleCirclesCommunities","mdiDotsHexagon","_toggleClusterMarkers","mdiImageFilterCenterFocus","_resetFocus","shouldUpdate","changedProps","size","oldHass","get","hasConfigOrEntitiesChanged","hasConfigChanged","willUpdate","super","deepEqual","_getSourceEntities","connectedCallback","hasUpdated","_subscribeHistory","disconnectedCallback","_unsubscribeHistory","isComponentLoaded","_subscribed","hours_to_show","subscribeHistoryStatesTimeWindow","combinedHistory","map","catch","err","undefined","then","unsub","updated","_computePadding","root","shadowRoot","getElementById","ignoreAspectRatio","layout","style","paddingBottom","height","_map","fitMap","unpause_autofit","_getColor","entityId","color","_colorDict","getColorByIndex","_colorIndex","sourceObjs","geoEntities","allSource","find","s","stateObj","sourceObj","computeDomain","label_mode","attribute","unit","focus","entityConf","name","getGridOptions","columns","rows","min_columns","min_rows","args","memoizeOne","history","paths","keys","entityStates","points","entityState","latitude","a","longitude","p","point","timestamp","Date","lu","entityConfig","e","computeStateName","fullDatetime","gradualOpacity","styles","css"],"mappings":"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"}