export const __webpack_ids__=["17508"];export const __webpack_modules__={80471:function(e,t,r){var i=r(73742),a=r(33856),s=r(24584),n=r(26292),o=r(59048),d=r(83054);class h extends a._{firstUpdated(e){super.firstUpdated(e),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}}h.styles=[s.W,o.iv`:host{--mdc-typography-button-text-transform:none;--mdc-typography-button-font-size:var(--ha-font-size-l);--mdc-typography-button-font-family:var(--ha-font-family-body);--mdc-typography-button-font-weight:var(--ha-font-weight-medium)}:host .mdc-fab--extended{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab.mdc-fab--extended .ripple{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}:disabled{--mdc-theme-secondary:var(--disabled-text-color);pointer-events:none}`,"rtl"===d.E.document.dir?o.iv`:host .mdc-fab--extended .mdc-fab__icon{direction:rtl}`:o.iv``],h=(0,i.__decorate)([(0,n.Mo)("ha-fab")],h)},40801:function(e,t,r){r.a(e,async function(e,i){try{r.r(t),r.d(t,{HuiCalendarCard:()=>v});r(81738),r(6989);var a=r(73742),s=r(59048),n=r(26292),o=r(55815),d=r(4427),h=r(87639),c=(r(31138),r(28146)),l=r(84144),_=r(45063),p=(r(99389),e([l]));l=(p.then?(await p)():p)[0];class v extends s.oi{static async getConfigElement(){return await Promise.all([r.e("73614"),r.e("51679"),r.e("15634"),r.e("26452"),r.e("89112"),r.e("19596"),r.e("87868")]).then(r.bind(r,22374)),document.createElement("hui-calendar-card-editor")}static getStubConfig(e,t,r){return{entities:(0,_.j)(e,2,t,r,["calendar"])}}setConfig(e){if(!e.entities?.length)throw new Error("Entities must be specified");if(!Array.isArray(e.entities))throw new Error("Entities need to be an array");this._calendars=e.entities.map((e,t)=>({entity_id:e,backgroundColor:(0,o.Eu)(t)})),this._config?.entities!==e.entities&&this._fetchCalendarEvents(),this._config={initial_view:"dayGridMonth",...e}}getCardSize(){return this._config?.header?1:11}connectedCallback(){super.connectedCallback(),this.updateComplete.then(()=>this._attachObserver())}disconnectedCallback(){super.disconnectedCallback(),this._resizeObserver&&this._resizeObserver.disconnect()}render(){if(!this._config||!this.hass||!this._calendars.length)return s.Ld;return s.dy` <ha-card> <div class="header">${this._config.title}</div> <ha-full-calendar .narrow="${this._narrow}" .events="${this._events}" .hass="${this.hass}" .views="${["dayGridMonth","dayGridDay","listWeek"]}" .initialView="${this._config.initial_view}" .eventDisplay="${this._eventDisplay}" .error="${this._error}" @view-changed="${this._handleViewChanged}"></ha-full-calendar> </ha-card> `}updated(e){if(super.updated(e),!this._config||!this.hass)return;const t=e.get("hass"),r=e.get("_config");(!t||!r||e.has("hass")&&t.themes!==this.hass.themes||e.has("_config")&&r.theme!==this._config.theme)&&(0,d.R)(this,this.hass.themes,this._config.theme)}_handleViewChanged(e){this._eventDisplay="dayGridMonth"===e.detail.view?"list-item":"auto",this._startDate=e.detail.start,this._endDate=e.detail.end,this._fetchCalendarEvents()}async _fetchCalendarEvents(){if(!this._startDate||!this._endDate)return;this._error=void 0;const e=await(0,c.GL)(this.hass,this._startDate,this._endDate,this._calendars);this._events=e.events,e.errors.length>0&&(this._error=`${this.hass.localize("ui.components.calendar.event_retrieval_error")}`)}_measureCard(){const e=this.shadowRoot.querySelector("ha-card");e&&(this._narrow=e.offsetWidth<870)}async _attachObserver(){this._resizeObserver||(this._resizeObserver=new ResizeObserver((0,h.D)(()=>this._measureCard(),250,!1)));const e=this.shadowRoot.querySelector("ha-card");e&&this._resizeObserver.observe(e)}constructor(...e){super(...e),this._events=[],this._calendars=[],this._eventDisplay="list-item",this._narrow=!1,this._error=void 0}}v.styles=s.iv`ha-card{position:relative;padding:0 8px 8px;box-sizing:border-box;height:100%}.header{color:var(--ha-card-header-color,var(--primary-text-color));font-size:var(--ha-card-header-font-size, var(--ha-font-size-2xl));line-height:var(--ha-line-height-condensed);padding-top:16px;padding-left:8px;padding-inline-start:8px;direction:var(--direction)}ha-full-calendar{--calendar-height:400px}`,(0,a.__decorate)([(0,n.Cb)({attribute:!1})],v.prototype,"hass",void 0),(0,a.__decorate)([(0,n.SB)()],v.prototype,"_events",void 0),(0,a.__decorate)([(0,n.SB)()],v.prototype,"_config",void 0),(0,a.__decorate)([(0,n.SB)()],v.prototype,"_calendars",void 0),(0,a.__decorate)([(0,n.SB)()],v.prototype,"_eventDisplay",void 0),(0,a.__decorate)([(0,n.SB)()],v.prototype,"_narrow",void 0),(0,a.__decorate)([(0,n.SB)()],v.prototype,"_error",void 0),v=(0,a.__decorate)([(0,n.Mo)("hui-calendar-card")],v),i()}catch(e){i(e)}})}};
//# sourceMappingURL=17508.6094c45be5b5c43e.js.map