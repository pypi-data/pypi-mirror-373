{"version":3,"file":"40825.d091b76632d2644d.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/components/chart/ha-sankey-chart.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/components/chips/ha-assist-chip.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/components/trace/hat-graph-const.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/data/recorder.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/mixins/mobile-aware-mixin.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/panels/lovelace/cards/energy/hui-energy-sankey-card.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/util/is_mobile.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250902.0/src/util/text.ts"],"names":["OVERFLOW_MARGIN","FONT_SIZE","NODE_GAP","LABEL_DISTANCE","HaSankeyChart","LitElement","render","options","grid","top","bottom","left","right","tooltip","trigger","formatter","this","_renderTooltip","appendTo","document","body","html","_createData","data","_sizeController","value","width","SankeyChart","_processLinks","nodes","rawLinks","accountedIn","Map","accountedOut","links","forEach","link","sourceNode","find","n","id","source","targetNode","target","sourceAccounted","get","targetAccounted","sourceRemaining","targetRemaining","Math","min","set","push","_findParentIndex","sections","parent","l","offset","i","length","section","index","findIndex","args","vertical","ResizeController","callback","entries","contentRect","params","valueFormatter","node","marker","label","memoizeOne","filteredNodes","filter","indexes","Set","map","sort","depthMap","nodesWithIndex","a","b","aParentIndex","bParentIndex","labelSpace","NODE_SIZE","type","flat","itemStyle","color","depth","draggable","orient","nodeWidth","nodeGap","lineStyle","opacity","layoutIterations","position","distance","minMargin","overflow","labelLayout","longestWord","text","split","reduce","longest","current","wordWidth","measureTextWidth","availableWidth","rect","fontSize","align","dy","availableHeight","height","labelRect","lineHeight","emphasis","focus","styles","css","attribute","Boolean","String","HaAssistChip","AssistChip","renderOutline","filled","super","getContainerClasses","active","renderPrimaryContent","renderLeadingIcon","renderTrailingIcon","sharedStyles","elevatedStyles","reflect","SPACING","BRANCH_HEIGHT","StatisticMeanType","STATISTIC_TYPES","VOLUME_UNITS","getRecorderInfo","conn","sendMessagePromise","getStatisticIds","hass","statistic_type","callWS","getStatisticMetadata","statistic_ids","fetchStatistics","startTime","endTime","period","units","types","start_time","toISOString","end_time","fetchStatistic","statistic_id","fixed_period","start","Date","end","undefined","calendar","rolling_window","validateStatistics","updateStatisticsMetadata","unit_of_measurement","clearStatistics","calculateStatisticSumGrowth","values","growth","change","calculateStatisticsSumGrowth","stats","totalGrowth","stat","statGrowth","statisticsHaveType","some","mean_stat_types","sum_stat_types","statisticsMetaHasType","metadata","includes","mean_type","has_sum","adjustStatisticsSum","adjustment","adjustment_unit_of_measurement","start_time_iso","getStatisticLabel","statisticsId","statisticsMetaData","entity","states","computeStateName","name","getDisplayUnit","unit","attributes","statistics_unit_of_measurement","isExternalStatistic","updateStatisticsIssues","MobileAwareMixin","superClass","MobileAwareClass","connectedCallback","_unsubMql","listenMediaQuery","matches","_isMobileSize","disconnectedCallback","_isMobileClient","isMobileClient","DEFAULT_CONFIG","group_by_floor","group_by_area","HuiEnergySankeyCard","SubscribeMixin","setConfig","config","_config","hassSubscribe","getEnergyDataCollection","key","collection_key","subscribe","_data","getCardSize","getGridOptions","columns","min_columns","rows","min_rows","shouldUpdate","changedProps","has","nothing","localize","prefs","energySourcesByType","summedData","compareSummedData","_","getSummedData","consumption","compareConsumption","__","computeConsumptionData","computedStyle","getComputedStyle","homeNode","max","total","used_total","getPropertyValue","battery","totalBatteryOut","from_battery","totalBatteryIn","to_battery","used_battery","grid_to_battery","solar_to_battery","totalFromGrid","from_grid","used_grid","solar","totalSolarProduction","used_solar","flow_to","totalToGrid","to_grid","battery_to_grid","solar_to_grid","untrackedConsumption","deviceNodes","parentLinks","device_consumption","device","idx","stat_consumption","statsMetadata","getGraphColorByIndex","included_in_stat","devicesWithoutParent","areas","floors","_groupByFloorAndArea","Object","keys","level","Infinity","floorId","floorNodeId","areaId","targetNodeId","areaNodeId","devices","deviceNode","deviceSections","_getDeviceSections","hasData","layout","title","_valueFormatter","no_area","no_floor","area","floor","getEntityContext","area_id","floor_id","unshift","parentSection","childSection","parentIds","remainingLinks","hassSubscribeRequiredHostProps","formatNumber","locale","maximumFractionDigits","test","navigator","userAgent","textMeasureCanvas","fontFamily","createElement","context","getContext","font","textMetrics","measureText","ceil","actualBoundingBoxRight","actualBoundingBoxLeft"],"mappings":"6YAsCA,MAAMA,EAAkB,EAClBC,EAAY,GACZC,EAAW,EACXC,EAAiB,EAGhB,MAAMC,UAAsBC,EAAAA,GAoBjCC,MAAAA,GACE,MAAMC,EAAU,CACdC,KAAM,CACJC,IAAK,EACLC,OAAQ,EACRC,KAAM,EACNC,MAAO,GAETC,QAAS,CACPC,QAAS,OACTC,UAAWC,KAAKC,eAChBC,SAAUC,SAASC,OAIvB,OAAOC,EAAAA,EAAI,yBACDL,KAAKM,YAAYN,KAAKO,KAAMP,KAAKQ,gBAAgBC,OAAOC,qBACrDnB,sCAEQ,CAACoB,EAAAA,sBAExB,CAyIQC,aAAAA,CAAcC,EAAeC,GACnC,MAAMC,EAAc,IAAIC,IAClBC,EAAe,IAAID,IACnBE,EAAyB,GA8B/B,OA7BAJ,EAASK,QAASC,IAChB,MAAMC,EAAaR,EAAMS,KAAMC,GAAMA,EAAEC,KAAOJ,EAAKK,QAC7CC,EAAab,EAAMS,KAAMC,GAAMA,EAAEC,KAAOJ,EAAKO,QACnD,IAAKN,IAAeK,EAClB,OAEF,MAAME,EAAkBX,EAAaY,IAAIR,EAAWG,KAAO,EACrDM,EAAkBf,EAAYc,IAAIH,EAAWF,KAAO,EAGpDO,EAAkBV,EAAWZ,MAAQmB,EACrCI,EAAkBN,EAAWjB,MAAQqB,EAErCrB,EAAQwB,KAAKC,IACjBd,EAAKX,OAASsB,EACdA,EACAC,GAGFjB,EAAYoB,IAAIT,EAAWF,GAAIM,EAAkBrB,GACjDQ,EAAakB,IAAId,EAAWG,GAAII,EAAkBnB,GAE9CA,EAAQ,GACVS,EAAMkB,KAAK,IACNhB,EACHX,YAICS,CACT,CAEQmB,gBAAAA,CAAiBb,EAAYN,EAAeoB,GAClD,MAAMC,EAASrB,EAAMI,KAAMkB,GAAMA,EAAEb,SAAWH,IAAKC,OACnD,IAAKc,EACH,OAAQ,EAEV,IAAIE,EAAS,EACb,IAAK,IAAIC,EAAIJ,EAASK,OAAS,EAAGD,GAAK,EAAGA,IAAK,CAC7C,MAAME,EAAUN,EAASI,GACnBG,EAAQD,EAAQE,UAAWvB,GAAMA,EAAEC,KAAOe,GAChD,IAAe,IAAXM,EACF,OAAOJ,EAASI,EAElBJ,GAAUG,EAAQD,MACpB,CACA,OAAQ,CACV,C,kBArOK,SAAAI,GAAA,KAGkCxC,KAAwB,CAC7DM,MAAO,GACPK,MAAO,IACT,KAEoC8B,UAAW,OAQ9BxC,gBAAkB,IAAIyC,EAAAA,EAAiBjD,KAAM,CAC5DkD,SAAWC,GAAYA,EAAQ,IAAIC,cACrC,KAyBQnD,eAAkBoD,IACxB,MAAM9C,EAAO8C,EAAO9C,KACdE,EAAQT,KAAKsD,eACftD,KAAKsD,eAAe/C,EAAKE,OACzBF,EAAKE,MACT,GAAIF,EAAKiB,GAAI,CACX,MAAM+B,EAAOvD,KAAKO,KAAKM,MAAMS,KAAMC,GAAMA,EAAEC,KAAOjB,EAAKiB,IACvD,MAAO,GAAG6B,EAAOG,UAAUD,GAAME,OAASlD,EAAKiB,SAASf,GAC1D,CACA,GAAIF,EAAKkB,QAAUlB,EAAKoB,OAAQ,CAC9B,MAAMF,EAASzB,KAAKO,KAAKM,MAAMS,KAAMC,GAAMA,EAAEC,KAAOjB,EAAKkB,QACnDE,EAAS3B,KAAKO,KAAKM,MAAMS,KAAMC,GAAMA,EAAEC,KAAOjB,EAAKoB,QACzD,MAAO,GAAGF,GAAQgC,OAASlD,EAAKkB,YAAYE,GAAQ8B,OAASlD,EAAKoB,aAAalB,GACjF,CACA,OAAO,MACT,KAEQH,aAAcoD,EAAAA,EAAAA,GAAW,CAACnD,EAAuBG,EAAQ,KAC/D,MAAMiD,EAAgBpD,EAAKM,MAAM+C,OAAQrC,GAAMA,EAAEd,MAAQ,GACnDoD,EAAU,IAAI,IAAIC,IAAIH,EAAcI,IAAKxC,GAAMA,EAAEsB,SAASmB,OAC1DC,EAAW,IAAIjD,IACfsB,EAAqB,GAC3BuB,EAAQ1C,QAAQ,CAAC0B,EAAOH,KACtBuB,EAAS9B,IAAIU,EAAOH,GACpB,MAAMwB,EAAiBP,EAAcC,OAAQrC,GAAMA,EAAEsB,QAAUA,GAC3DqB,EAAevB,OAAS,GAC1BL,EAASF,KACPE,EAASK,OAAS,EACduB,EAAeF,KAAK,CAACG,EAAGC,KAEtB,MAAMC,EAAerE,KAAKqC,iBACxB8B,EAAE3C,GACFjB,EAAKW,MACLoB,GAEIgC,EAAetE,KAAKqC,iBACxB+B,EAAE5C,GACFjB,EAAKW,MACLoB,GAEF,OAAI+B,IAAiBC,EACZ,GAEa,IAAlBD,EACK,GAEa,IAAlBC,GACM,EAEHD,EAAeC,IAExBJ,KAIV,MAAMhD,EAAQlB,KAAKY,cAAc+C,EAAepD,EAAKW,OAE/CqD,EADe7D,EAAQmD,EAAQlB,OACH6B,EAAAA,GAAYrF,EAE9C,MAAO,CACLqC,GAAI,SACJiD,KAAM,SACN5D,MAAOyB,EAASoC,OAAOX,IAAKR,IAAA,CAC1B/B,GAAI+B,EAAK/B,GACTf,MAAO8C,EAAK9C,MACZkE,UAAW,CACTC,MAAOrB,EAAKqB,OAEdC,MAAOZ,EAASpC,IAAI0B,EAAKV,UAE3B3B,QACA4D,WAAW,EACXC,OAAQ/E,KAAKgD,SAAW,WAAa,aACrCgC,UAAW,GACXC,QAAS/F,EACTgG,UAAW,CACTN,MAAO,WACPO,QAAS,IAEXC,iBAAkB,EAClB3B,MAAO,CACL1D,UAAYsD,GACV9C,EAAKM,MAAMS,KAAMiC,GAASA,EAAK/B,KAAO6B,EAAQ9C,KAAciB,KACxDiC,OAASJ,EAAQ9C,KAAciB,GACrC6D,SAAUrF,KAAKgD,SAAW,SAAW,QACrCsC,SAAUnG,EACVoG,UAAW,EACXC,SAAU,SAEZC,YAAcpC,IACZ,GAAIrD,KAAKgD,SAAU,CAEjB,MAAM0C,EAAcrC,EAAOsC,KACxBC,MAAM,KACNC,OACC,CAACC,EAASC,IACRD,EAAQnD,OAASoD,EAAQpD,OAASmD,EAAUC,EAC9C,IAEEC,GAAYC,EAAAA,EAAAA,GAAiBP,EAAazG,GAC1CiH,EAAiB7C,EAAO8C,KAAKzF,MAAQ,EACrC0F,EAAWnE,KAAKC,IACpBjD,EACAiH,EAAkBF,EAAa/G,GAEjC,MAAO,CACLmH,SAAUA,EAAW,EAAIA,EAAW,EACpC1F,MAAOwF,EACPG,MAAO,SACPC,IAAK,EAET,CAEA,MAAMC,EAAkBlD,EAAO8C,KAAKK,OAAS,EACvCJ,EAAWnE,KAAKC,IACpBqE,EAAmBlD,EAAOoD,UAAUD,OAAUvH,EAC9CA,GAEF,MAAO,CACLmH,WACAM,WAAYN,EACZ1F,MAAO6D,EACPiC,OAAQnD,EAAO8C,KAAKK,SAGxB/G,IAAKO,KAAKgD,SAAW,EAAIhE,EACzBU,OAAQM,KAAKgD,SAAW,GAAKhE,EAC7BW,KAAMK,KAAKgD,SAAWhE,EAAkB,EACxCY,MAAOI,KAAKgD,SAAWhE,EAAkBuF,EAAapF,EACtDwH,SAAU,CACRC,MAAO,e,EA7KFxH,EAuOJyH,OAASC,EAAAA,EAAG,sI,2BAtOPC,WAAW,K,uDAEXA,WAAW,K,uDAKXtC,KAAMuC,W,2DAENvC,KAAMwC,OAAQF,WAAW,K,yRC3ChC,MAAMG,UAAqBC,EAAAA,EAwDbC,aAAAA,GACjB,OAAIpH,KAAKqH,OACAhH,EAAAA,EAAI,+BAGNiH,MAAMF,eACf,CAEmBG,mBAAAA,GACjB,MAAO,IACFD,MAAMC,sBACTC,OAAQxH,KAAKwH,OAEjB,CAEmBC,oBAAAA,GACjB,OAAOpH,EAAAA,EAAI,mDAELL,KAAK0H,mDAEa1H,KAAKyD,oGAGvBzD,KAAK2H,+BAGb,CAEUA,kBAAAA,GACR,OAAOtH,EAAAA,EAAI,oCACb,C,kBAtFK,SAAA0C,GAAA,KACuCsE,QAAS,OAExBG,QAAS,C,EAH3BN,EAKKL,OAAS,CACvBe,EAAAA,EACAC,EAAAA,EACAhB,EAAAA,EACAC,EAAAA,EAAG;;;k2BAROrC,KAAMuC,QAASc,SAAS,K,yDAExBrD,KAAMuC,W,2ICdb,MAAMe,EAAU,GACVvD,EAAY,GACZwD,EAAgB,E,qPCoCjBC,EAAA,SAAAA,G,oFAAAA,C,CAAA,C,IAgBL,MAAMC,EAAwD,YACnE,sBACA,4BACA,sBACA,gBACA,oBACA,YACD,KAiDYC,EAAe,CAAC,IAAK,MAAO,MAAO,KAAM,OAmCzCC,EAAmBC,GAC9BA,EAAKC,mBAAiC,CACpC7D,KAAM,kBAGG8D,EAAkBA,CAC7BC,EACAC,IAEAD,EAAKE,OAA6B,CAChCjE,KAAM,8BACNgE,mBAGSE,EAAuBA,CAClCH,EACAI,IAEAJ,EAAKE,OAA6B,CAChCjE,KAAM,mCACNmE,kBAGSC,EAAkBA,CAC7BL,EACAM,EACAC,EACAH,EACAI,EAAwD,OACxDC,EACAC,IAEAV,EAAKE,OAAmB,CACtBjE,KAAM,oCACN0E,WAAYL,EAAUM,cACtBC,SAAUN,GAASK,cACnBR,gBACAI,SACAC,QACAC,UAGSI,EAAiBA,CAC5Bd,EACAe,EACAP,EAKAC,IAEAT,EAAKE,OAAkB,CACrBjE,KAAM,mCACN8E,eACAN,QACAO,aAAcR,EAAOQ,aACjB,CACEL,WACEH,EAAOQ,aAAaC,iBAAiBC,KACjCV,EAAOQ,aAAaC,MAAML,cAC1BJ,EAAOQ,aAAaC,MAC1BJ,SACEL,EAAOQ,aAAaG,eAAeD,KAC/BV,EAAOQ,aAAaG,IAAIP,cACxBJ,EAAOQ,aAAaG,UAE5BC,EACJC,SAAUb,EAAOa,SACjBC,eAAgBd,EAAOc,iBAGdC,EAAsBvB,GACjCA,EAAKE,OAAoC,CACvCjE,KAAM,iCAGGuF,EAA2BA,CACtCxB,EACAe,EACAU,IAEAzB,EAAKE,OAAkB,CACrBjE,KAAM,sCACN8E,eACAU,wBAGSC,EAAkBA,CAAC1B,EAAqBI,IACnDJ,EAAKE,OAAkB,CACrBjE,KAAM,4BACNmE,kBAGSuB,EACXC,IAEA,IAAIC,EAAwB,KAE5B,IAAKD,EACH,OAAO,KAGT,IAAK,MAAM3J,KAAS2J,EACG,OAAjB3J,EAAM6J,aAAoCV,IAAjBnJ,EAAM6J,SAGpB,OAAXD,EACFA,EAAS5J,EAAM6J,OAEfD,GAAU5J,EAAM6J,QAIpB,OAAOD,GAGIE,EAA+BA,CAC1ChK,EACAiK,KAEA,IAAIC,EAA6B,KAEjC,IAAK,MAAMC,KAAQF,EAAO,CACxB,KAAME,KAAQnK,GACZ,SAEF,MAAMoK,EAAaR,EAA4B5J,EAAKmK,IAEjC,OAAfC,IAGgB,OAAhBF,EACFA,EAAcE,EAEdF,GAAeE,EAEnB,CAEA,OAAOF,GAGIG,EAAqBA,CAChCJ,EACA/F,IACG+F,EAAMK,KAAMH,QAAwBd,IAAfc,EAAKjG,IAAsC,OAAfiG,EAAKjG,IAErDqG,EAA4C,CAAC,OAAQ,MAAO,OAC5DC,EAA2C,CAAC,MAAO,QAAS,UAErDC,EAAwBA,CACnCC,EACAxG,OAGEqG,EAAgBI,SAASzG,IACF,IAAvBwG,EAASE,eAIPJ,EAAeG,SAASzG,KAASwG,EAASG,SAMnCC,EAAsBA,CACjC7C,EACAe,EACAJ,EACAmC,EACAC,KAEA,MAAMC,EAAiB,IAAI9B,KAAKP,GAAYC,cAC5C,OAAOZ,EAAKE,OAAkB,CAC5BjE,KAAM,iCACN8E,eACAJ,WAAYqC,EACZF,aACAC,oCAISE,EAAoBA,CAC/BjD,EACAkD,EACAC,KAEA,MAAMC,EAASpD,EAAKqD,OAAOH,GAC3B,OAAIE,GACKE,EAAAA,EAAAA,GAAiBF,GAEnBD,GAAoBI,MAAQL,GAGxBM,EAAiBA,CAC5BxD,EACAkD,EACAC,KAEA,IAAIM,EAIJ,OAHIP,IACFO,EAAOzD,EAAKqD,OAAOH,IAAeQ,WAAWjC,0BAE/BL,IAATqC,EACHN,GAAoBQ,+BACpBF,GAGOG,EAAuBV,GAClCA,EAAaR,SAAS,KAEXmB,EAA0B7D,GACrCA,EAAKE,OAAkB,CAAEjE,KAAM,qC,yFChW1B,MAAM6H,EACXC,IAEA,MAAMC,UAAyBD,EAOtBE,iBAAAA,GACLnF,MAAMmF,oBACNzM,KAAK0M,WAAYC,EAAAA,EAAAA,GACf,0DACCC,IACC5M,KAAK6M,cAAgBD,GAG3B,CAEOE,oBAAAA,GACLxF,MAAMwF,uBACN9M,KAAK0M,cACL1M,KAAK0M,eAAY9C,CACnB,C,kBArBF,SAAA7G,GAAA,KACqB8J,eAAgB,OAEzBE,gBAAkBC,EAAAA,C,EAoB9B,O,iEAAOR,E,4QCJT,MAAMS,EAAkD,CACtDC,gBAAgB,EAChBC,eAAe,GAGjB,MACMC,WACIC,EAAAA,EAAAA,IAAef,EAAAA,EAAAA,GAAiBjN,EAAAA,MAWjCiO,SAAAA,CAAUC,GACfvN,KAAKwN,QAAU,IAAKP,KAAmBM,EACzC,CAEOE,aAAAA,GACL,MAAO,EACLC,EAAAA,EAAAA,IAAwB1N,KAAKwI,KAAM,CACjCmF,IAAK3N,KAAKwN,SAASI,iBAClBC,UAAWtN,IACZP,KAAK8N,MAAQvN,IAGnB,CAEOwN,WAAAA,GACL,OAAO,CACT,CAEAC,cAAAA,GACE,MAAO,CACLC,QAAS,GACTC,YAAa,EACbC,KAAM,EACNC,SAAU,EAEd,CAEUC,YAAAA,CAAaC,GACrB,OACEA,EAAaC,IAAI,YACjBD,EAAaC,IAAI,UACjBD,EAAaC,IAAI,gBAErB,CAEUjP,MAAAA,GACR,IAAKU,KAAKwN,QACR,OAAOgB,EAAAA,GAGT,IAAKxO,KAAK8N,MACR,OAAOzN,EAAAA,EAAI,GAAGL,KAAKwI,KAAKiG,SACtB,4CAIJ,MAAMC,EAAQ1O,KAAK8N,MAAMY,MACnBxF,GAAQyF,EAAAA,EAAAA,IAAoBD,IAC5B,WAAEE,EAAYC,kBAAmBC,IAAMC,EAAAA,EAAAA,IAAc/O,KAAK8N,QAC1D,YAAEkB,EAAaC,mBAAoBC,IAAOC,EAAAA,EAAAA,IAC9CP,OACAhF,GAGIwF,EAAgBC,iBAAiBrP,MAEjCa,EAAgB,GAChBK,EAAgB,GAEhBoO,EAAiB,CACrB9N,GAAI,OACJiC,MAAOzD,KAAKwI,KAAKiG,SACf,2DAEFhO,MAAOwB,KAAKsN,IAAI,EAAGP,EAAYQ,MAAMC,YACrC7K,MAAOwK,EAAcM,iBAAiB,mBACtC7M,MAAO,GAIT,GAFAhC,EAAMuB,KAAKkN,GAEPpG,EAAMyG,QAAS,CACjB,MAAMC,EAAkBhB,EAAWY,MAAMK,cAAgB,EACnDC,EAAiBlB,EAAWY,MAAMO,YAAc,EAGtDlP,EAAMuB,KAAK,CACTZ,GAAI,UACJiC,MAAOzD,KAAKwI,KAAKiG,SACf,8DAEFhO,MAAOmP,EACPhL,MAAOwK,EAAcM,iBAAiB,8BACtC7M,MAAO,IAET3B,EAAMkB,KAAK,CACTX,OAAQ,UACRE,OAAQ,OACRlB,MAAOuO,EAAYQ,MAAMQ,eAI3BnP,EAAMuB,KAAK,CACTZ,GAAI,aACJiC,MAAOzD,KAAKwI,KAAKiG,SACf,8DAEFhO,MAAOqP,EACPlL,MAAOwK,EAAcM,iBAAiB,6BACtC7M,MAAO,IAELmM,EAAYQ,MAAMS,gBAAkB,GACtC/O,EAAMkB,KAAK,CACTX,OAAQ,OACRE,OAAQ,aACRlB,MAAOuO,EAAYQ,MAAMS,kBAGzBjB,EAAYQ,MAAMU,iBAAmB,GACvChP,EAAMkB,KAAK,CACTX,OAAQ,QACRE,OAAQ,aACRlB,MAAOuO,EAAYQ,MAAMU,kBAG/B,CAEA,GAAIhH,EAAM1J,KAAM,CACd,MAAM2Q,EAAgBvB,EAAWY,MAAMY,WAAa,EAEpDvP,EAAMuB,KAAK,CACTZ,GAAI,OACJiC,MAAOzD,KAAKwI,KAAKiG,SACf,2DAEFhO,MAAO0P,EACPvL,MAAOwK,EAAcM,iBACnB,mCAEF7M,MAAO,IAGT3B,EAAMkB,KAAK,CACTX,OAAQ,OACRE,OAAQ,OACRlB,MAAOuO,EAAYQ,MAAMa,WAE7B,CAGA,GAAInH,EAAMoH,MAAO,CACf,MAAMC,EAAuB3B,EAAWY,MAAMc,OAAS,EAEvDzP,EAAMuB,KAAK,CACTZ,GAAI,QACJiC,MAAOzD,KAAKwI,KAAKiG,SACf,4DAEFhO,MAAO8P,EACP3L,MAAOwK,EAAcM,iBAAiB,wBACtC7M,MAAO,IAGT3B,EAAMkB,KAAK,CACTX,OAAQ,QACRE,OAAQ,OACRlB,MAAOuO,EAAYQ,MAAMgB,YAE7B,CAGA,GAAItH,EAAM1J,MAAQ0J,EAAM1J,KAAK,GAAGiR,QAAS,CACvC,MAAMC,EAAc9B,EAAWY,MAAMmB,SAAW,EAEhD9P,EAAMuB,KAAK,CACTZ,GAAI,cACJiC,MAAOzD,KAAKwI,KAAKiG,SACf,2DAEFhO,MAAOiQ,EACP9L,MAAOwK,EAAcM,iBAAiB,8BACtC7M,MAAO,IAELmM,EAAYQ,MAAMoB,gBAAkB,GACtC1P,EAAMkB,KAAK,CACTX,OAAQ,UACRE,OAAQ,OACRlB,MAAOuO,EAAYQ,MAAMoB,kBAGzB5B,EAAYQ,MAAMqB,cAAgB,GACpC3P,EAAMkB,KAAK,CACTX,OAAQ,QACRE,OAAQ,cACRlB,MAAOuO,EAAYQ,MAAMqB,eAG/B,CAEA,IAAIC,EAAuBxB,EAAS7O,MACpC,MAAMsQ,EAAsB,GACtBC,EAAsC,CAAC,EAC7CtC,EAAMuC,mBAAmB9P,QAAQ,CAAC+P,EAAQC,KACxC,MAAM1Q,EACJyQ,EAAOE,oBAAoBpR,KAAK8N,MAAOtD,QACnCL,EAAAA,EAAAA,IACEnK,KAAK8N,MAAOtD,MAAM0G,EAAOE,oBAE3B,EACN,GAAI3Q,EAAQ,IACV,OAEF,MAAM8C,EAAO,CACX/B,GAAI0P,EAAOE,iBACX3N,MACEyN,EAAOnF,OACPN,EAAAA,EAAAA,IACEzL,KAAKwI,KACL0I,EAAOE,iBACPpR,KAAK8N,MAAOuD,cAAcH,EAAOE,mBAErC3Q,QACAmE,OAAO0M,EAAAA,EAAAA,IAAqBH,EAAK/B,GACjCvM,MAAO,EACPN,OAAQ2O,EAAOK,kBAEbhO,EAAKhB,QACPyO,EAAYzN,EAAK/B,IAAM+B,EAAKhB,OAC5BrB,EAAMkB,KAAK,CACTX,OAAQ8B,EAAKhB,OACbZ,OAAQ4B,EAAK/B,MAGfsP,GAAwBrQ,EAE1BsQ,EAAY3O,KAAKmB,KAEnB,MAAMiO,EAAuBT,EAAYnN,OACtCL,IAAUyN,EAAYzN,EAAK/B,MAGxB,cAAE2L,EAAa,eAAED,GAAmBlN,KAAKwN,QAC/C,GAAIL,GAAiBD,EAAgB,CACnC,MAAM,MAAEuE,EAAK,OAAEC,GAAW1R,KAAK2R,qBAAqBH,GAEpDI,OAAOC,KAAKH,GACT1N,KACC,CAACG,EAAGC,KACDpE,KAAKwI,KAAKkJ,OAAOtN,IAAI0N,QAAUC,MAC/B/R,KAAKwI,KAAKkJ,OAAOvN,IAAI2N,QAAUC,MAEnC5Q,QAAS6Q,IACR,IAAIC,EAAc,SAASD,IACX,aAAZA,GAA2B9E,GAI7BrM,EAAMuB,KAAK,CACTZ,GAAIyQ,EACJxO,MAAOzD,KAAKwI,KAAKkJ,OAAOM,GAASjG,KACjCtL,MAAOiR,EAAOM,GAASvR,MACvBoC,MAAO,EACP+B,MAAOwK,EAAcM,iBAAiB,qBAExCxO,EAAMkB,KAAK,CACTX,OAAQ,OACRE,OAAQsQ,KAXVA,EAAc,OAchBP,EAAOM,GAASP,MAAMtQ,QAAS+Q,IAC7B,IAAIC,EAEJ,GAAe,YAAXD,GAAyB/E,EAGtB,CAEL,MAAMiF,EAAa,QAAQF,IAC3BrR,EAAMuB,KAAK,CACTZ,GAAI4Q,EACJ3O,MAAOzD,KAAKwI,KAAKiJ,MAAMS,GAASnG,KAChCtL,MAAOgR,EAAMS,GAAQzR,MACrBoC,MAAO,EACP+B,MAAOwK,EAAcM,iBAAiB,qBAExCxO,EAAMkB,KAAK,CACTX,OAAQwQ,EACRtQ,OAAQyQ,EACR3R,MAAOgR,EAAMS,GAAQzR,QAEvB0R,EAAeC,CACjB,MAjBED,EAAeF,EAoBjBR,EAAMS,GAAQG,QAAQlR,QAAS+P,IAC7BhQ,EAAMkB,KAAK,CACTX,OAAQ0Q,EACRxQ,OAAQuP,EAAO1P,GACff,MAAOyQ,EAAOzQ,aAK1B,MACE+Q,EAAqBrQ,QAASmR,IAC5BpR,EAAMkB,KAAK,CACTX,OAAQ,OACRE,OAAQ2Q,EAAW9Q,GACnBf,MAAO6R,EAAW7R,UAIxB,MAAM8R,EAAiBvS,KAAKwS,mBAAmBxB,EAAaD,GAC5DwB,EAAepR,QAAQ,CAACyB,EAASC,KAC/BD,EAAQzB,QAASoC,IACf1C,EAAMuB,KAAK,IAAKmB,EAAMV,MAAO,EAAIA,QAKjCiO,EAAuB,IACzBjQ,EAAMuB,KAAK,CACTZ,GAAI,YACJiC,MAAOzD,KAAKwI,KAAKiG,SACf,oFAEFhO,MAAOqQ,EACPlM,MAAOwK,EAAcM,iBAAiB,6BACtC7M,MAAO,EAAI0P,EAAe5P,SAE5BzB,EAAMkB,KAAK,CACTX,OAAQ,OACRE,OAAQ,YACRlB,MAAOqQ,KAIX,MAAM2B,EAAU5R,EAAMgK,KAAMtH,GAASA,EAAK9C,MAAQ,GAE5CuC,EACoB,aAAxBhD,KAAKwN,QAAQkF,QACY,eAAxB1S,KAAKwN,QAAQkF,QAA2B1S,KAAK6M,cAEhD,OAAOxM,EAAAA,EAAI,sBACUL,KAAKwN,QAAQmF,sCAE1BF,EACEpS,EAAAA,EAAI,2BACM,CAAEQ,QAAOK,wBACL8B,uBACMhD,KAAK4S,sCAEzBvS,EAAAA,EAAI,GAAGL,KAAKwI,KAAKiG,SACf,uEAKd,CAKUkD,oBAAAA,CAAqBZ,GAC7B,MAAMU,EAA4D,CAChEoB,QAAS,CACPpS,MAAO,EACP4R,QAAS,KAGPX,EAA6D,CACjEoB,SAAU,CACRrS,MAAO,EACPgR,MAAO,CAAC,aAwCZ,OArCAV,EAAY5P,QAASmR,IACnB,MAAM1G,EAAS5L,KAAKwI,KAAKqD,OAAOyG,EAAW9Q,KACrC,KAAEuR,EAAI,MAAEC,IAAUC,EAAAA,EAAAA,GAAiBrH,EAAQ5L,KAAKwI,MAClDuK,GACEA,EAAKG,WAAWzB,GAClBA,EAAMsB,EAAKG,SAASzS,OAAS6R,EAAW7R,MACxCgR,EAAMsB,EAAKG,SAASb,QAAQjQ,KAAKkQ,IAEjCb,EAAMsB,EAAKG,SAAW,CACpBzS,MAAO6R,EAAW7R,MAClB4R,QAAS,CAACC,IAIVU,EACEA,EAAMG,YAAYzB,GACpBA,EAAOsB,EAAMG,UAAU1S,OAAS6R,EAAW7R,MACtCiR,EAAOsB,EAAMG,UAAU1B,MAAMvG,SAAS6H,EAAKG,UAC9CxB,EAAOsB,EAAMG,UAAU1B,MAAMrP,KAAK2Q,EAAKG,UAGzCxB,EAAOsB,EAAMG,UAAY,CACvB1S,MAAO6R,EAAW7R,MAClBgR,MAAO,CAACsB,EAAKG,WAIjBxB,EAAOoB,SAASrS,OAAS6R,EAAW7R,MAC/BiR,EAAOoB,SAASrB,MAAMvG,SAAS6H,EAAKG,UACvCxB,EAAOoB,SAASrB,MAAM2B,QAAQL,EAAKG,YAIvCzB,EAAMoB,QAAQpS,OAAS6R,EAAW7R,MAClCgR,EAAMoB,QAAQR,QAAQjQ,KAAKkQ,MAGxB,CAAEb,QAAOC,SAClB,CAEUc,kBAAAA,CACRxB,EACAD,GAEA,MAAMsC,EAAwB,GACxBC,EAAuB,GACvBC,EAAY3B,OAAOxH,OAAO4G,GAC1BwC,EAAqC,CAAC,EAS5C,OARAzC,EAAY5P,QAASmR,IACfiB,EAAUrI,SAASoH,EAAW9Q,KAChC6R,EAAcjR,KAAKkQ,GACnBkB,EAAelB,EAAW9Q,IAAMwP,EAAYsB,EAAW9Q,KAEvD8R,EAAalR,KAAKkQ,KAGlBe,EAAc1Q,OAAS,EAClB,IACF3C,KAAKwS,mBAAmBgB,EAAgBH,GAC3CC,GAGG,CAACvC,EACV,C,kBAzbF,SAAAhO,GAAA,KAWY0Q,+BAAiC,CAAC,WAAU,KA+V9Cb,gBAAmBnS,GACzB,IAAGiT,EAAAA,EAAAA,IAAajT,EAAOT,KAAKwI,KAAKmL,OAAQlT,EAAQ,GAAM,CAAEmT,sBAAuB,QAAMhK,Q,EA1WpFwD,EA0bGvG,OAASC,EAAAA,EAAG,qN,2BAtbPC,WAAW,K,yQCtClB,MAAMiG,EAAiB,2BAA2B6G,KACvDC,UAAUC,U,uBCDZ,IAAIC,EASG,SAAS/N,EACdN,EACAS,EACA6N,EAAa,4BAERD,IACHA,EAAoB7T,SAAS+T,cAAc,WAE7C,MAAMC,EAAUH,EAAkBI,WAAW,MAC7C,IAAKD,EACH,OAAO,EAGTA,EAAQE,KAAO,GAAGjO,OAAc6N,IAChC,MAAMK,EAAcH,EAAQI,YAAY5O,GACxC,OAAO1D,KAAKuS,KACVvS,KAAKsN,IACH+E,EAAYG,uBAAyBH,EAAYI,sBACjDJ,EAAY5T,OAGlB,C"}