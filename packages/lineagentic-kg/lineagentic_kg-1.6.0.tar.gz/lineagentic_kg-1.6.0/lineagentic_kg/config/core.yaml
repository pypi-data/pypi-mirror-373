# Core configuration for the data catalog system
core_config:
  # Registry configuration
  registry:
    config_files:
      - "core.yaml"
      - "entities.yaml"
      - "aspects.yaml"
      - "relationships.yaml"
      - "urn_patterns.yaml"
      - "utilities.yaml"
  
  # Utility functions configuration
  utility_functions:
    enabled_utility_functions: ["data_platform_urn", "email_to_username", "mask_secret", "utc_now_ms"]

# Registry metadata
metadata:
  version: "1.0"
  description: "Enhanced registry for dynamic Neo4jMetadataWriter generation"
  urn_prefix: "urn:li"

# Section configuration - all section names are configurable
section_config:
  metadata_section: "metadata"
  urn_patterns_section: "urn_patterns"
  aspects_section: "aspects"
  entities_section: "entities"
  aspect_types_section: "aspect_types"
  aspect_relationships_section: "aspect_relationships"

# Field processing configuration
field_processing:
  skip_fields: ["template"]
  context_fields: ["pattern", "generators"]
  prefix_config:
    section: "metadata"
    field: "urn_prefix"

# Context configuration
context_config:
  pattern_field: "pattern"
  generators_field: "generators"

# Aspect processing configuration
aspect_processing:
  properties_field: "properties"
  context_exclude_fields: ["aspect"]

# Entity configuration
entity_config:
  urn_generator_field: "urn_generator"
  properties_field: "properties"

# Relationship configuration
relationship_config:
  rules_field: "rules"
  entity_type_field: "entity_type"

# Aspect configuration
aspect_config:
  type_field: "type"
  entity_creation_field: "entity_creation"

# Aspect context configuration
aspect_context_config:
  aspect_field: "aspect"

# List processing configuration
list_processing:
  dependency_patterns: ["depend"]

# String processing configuration
string_processing:
  pattern_field: "pattern"
  value_field: "value"
  when_value_present_field: "when_value_present"
  when_value_absent_field: "when_value_absent"

# Relationship rule configuration
relationship_rule_config:
  relationship_type_field: "relationship_type"
  source_entity_field: "source_entity"
  target_entity_field: "target_entity"
  direction_field: "direction"
  field_mapping_field: "field_mapping"
  additional_relationships_field: "additional_relationships"
  source_field_name: "source_field"
  target_field_name: "target_field"
  source_entity_type_name: "source_entity_type"
  target_entity_type_name: "target_entity_type"
  source_urn_field_name: "source_urn_field"
  target_urn_field_name: "target_urn_field"
  array_separator: "[]"
  default_direction: "outgoing"
  default_target_field: "urn"
  outgoing_direction: "outgoing"
  urn_field_name: "urn"

# Aspect Types
aspect_types:
  versioned:
    base_class: "Versioned"
    properties: ["id", "name", "version", "kind", "json", "createdAt"]
    query_pattern: "MATCH (e:{entity_label} {{urn:$urn}})-[:HAS_ASPECT {{name:$an}}]->(a:Aspect:Versioned)"
  
  timeseries:
    base_class: "TimeSeries"
    properties: ["id", "name", "ts", "kind", "json", "createdAt"]
    query_pattern: "MATCH (e:{entity_label} {{urn:$urn}})-[:HAS_ASPECT {{name:$an}}]->(a:Aspect:TimeSeries)"
