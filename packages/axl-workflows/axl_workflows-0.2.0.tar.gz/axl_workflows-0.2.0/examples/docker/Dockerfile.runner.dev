FROM python:3.11-slim

# Install uv for fast package operations (used at runtime for step packages)
RUN pip install --no-cache-dir uv

WORKDIR /app

# Copy source and install axl in editable mode
COPY . /app
RUN pip install --no-cache-dir -e .

ENV PYTHONUNBUFFERED=1
# Runner is invoked by the compiled YAML via: python -m axl.runtime

FROM python:3.11-slim
RUN pip install --no-cache-dir uv
WORKDIR /app
COPY . /app
RUN pip install --no-cache-dir -e .
ENV PYTHONUNBUFFERED=1
# Runner is invoked via: python -m axl.runtime
