<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Source code documentation &mdash; pyexpander 2.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=330c1f8c" />

  
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=f35be339"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Pyexpander License" href="license.html" />
    <link rel="prev" title="Installing pyexpander" href="pyexpander-install.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pyexpander
          </a>
              <div class="version">
                2.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#macro-substitution">Macro substitution</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference-expander.html">Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reference-expander.html#syntax-of-the-pyexpander-language">Syntax of the pyexpander language</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#the-meaning-of-the-dollar-sign">The meaning of the dollar sign</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#indentation-after-the-dollar-sign">Indentation after the dollar sign</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#comments">Comments</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#commands">Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#executing-python-statements">Executing python statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#line-continuation">Line continuation</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#substitutions">Substitutions</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#default-values-for-variables">Default values for variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#variable-scopes">Variable scopes</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#extending-the-pyexpander-language">Extending the pyexpander language</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#conditionals">Conditionals</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#while-loops">While loops</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#for-loops">For loops</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#macros">macros</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#include-files">Include files</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#safe-mode">Safe mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#permissive-mode">Permissive mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#commands-for-epics-macro-substitution">Commands for EPICS macro substitution</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#built-in-variables">Built-In variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="reference-expander.html#file">__file__</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reference-expander.html#internals">Internals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#pyexpander-parser">pyexpander.parser</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#pyexpander-lib">pyexpander.lib</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reference-expander.html#scripts-provided-by-the-package">Scripts provided by the package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#expander-py">expander.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference-expander.html#msi2pyexpander-py">msi2pyexpander.py</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="epics-support.html">EPICS support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="epics-support.html#setting-the-name-of-the-template-file">Setting the name of the template file</a></li>
<li class="toctree-l2"><a class="reference internal" href="epics-support.html#the-subst-command">The “subst” command</a></li>
<li class="toctree-l2"><a class="reference internal" href="epics-support.html#the-pattern-command">The “pattern” command</a></li>
<li class="toctree-l2"><a class="reference internal" href="epics-support.html#differences-to-the-epics-msi-tool">Differences to the EPICS msi tool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="python3.html">Useful Python 3 basics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="python3.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="python3.html#comments">Comments</a></li>
<li class="toctree-l2"><a class="reference internal" href="python3.html#a-word-on-indentation">A word on indentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="python3.html#defining-variables">Defining variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="python3.html#literals">Literals</a></li>
<li class="toctree-l3"><a class="reference internal" href="python3.html#setting-more-than-one-variable">Setting more than one variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="python3.html#simple-expressions">Simple expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="python3.html#mathematical-functions">Mathematical functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="python3.html#string-expressions">String expressions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="python3.html#for-loops">For loops</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="expander-options.html">expander.py command line options</a><ul>
<li class="toctree-l2"><a class="reference internal" href="expander-options.html#h"><code class="docutils literal notranslate"><span class="pre">-h</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="expander-options.html#summary"><code class="docutils literal notranslate"><span class="pre">--summary</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="expander-options.html#f-file-file-file"><code class="docutils literal notranslate"><span class="pre">-f</span> <span class="pre">FILE</span> <span class="pre">--file</span> <span class="pre">FILE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="expander-options.html#encoding"><code class="docutils literal notranslate"><span class="pre">--encoding</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="expander-options.html#output-encoding"><code class="docutils literal notranslate"><span class="pre">--output-encoding</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="expander-options.html#eval"><code class="docutils literal notranslate"><span class="pre">--eval</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="expander-options.html#i-path-include-path"><code class="docutils literal notranslate"><span class="pre">-I</span> <span class="pre">PATH</span> <span class="pre">--include</span> <span class="pre">PATH</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="expander-options.html#s-simple-vars"><code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">--simple-vars</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="expander-options.html#a-auto-continuation"><code class="docutils literal notranslate"><span class="pre">-a</span> <span class="pre">--auto-continuation</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="expander-options.html#safemode"><code class="docutils literal notranslate"><span class="pre">--safemode</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="expander-options.html#p-permissive"><code class="docutils literal notranslate"><span class="pre">-p</span> <span class="pre">--permissive</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="expander-options.html#preserve-backslashes"><code class="docutils literal notranslate"><span class="pre">--preserve-backslashes</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="expander-options.html#i-auto-indent"><code class="docutils literal notranslate"><span class="pre">-i</span> <span class="pre">--auto-indent</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="expander-options.html#no-stdin-msg"><code class="docutils literal notranslate"><span class="pre">--no-stdin-msg</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="expander-options.html#deps"><code class="docutils literal notranslate"><span class="pre">--deps</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="expander-options.html#d-dump"><code class="docutils literal notranslate"><span class="pre">-d</span> <span class="pre">--dump</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="expander-options.html#exception"><code class="docutils literal notranslate"><span class="pre">--exception</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="msi2pyexpander-options.html">msi2pyexpander.py command line options</a><ul>
<li class="toctree-l2"><a class="reference internal" href="msi2pyexpander-options.html#h"><code class="docutils literal notranslate"><span class="pre">-h</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="msi2pyexpander-options.html#summary"><code class="docutils literal notranslate"><span class="pre">--summary</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="msi2pyexpander-options.html#s-substitutionfile"><code class="docutils literal notranslate"><span class="pre">-S</span> <span class="pre">--substitutionfile</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="msi2pyexpander-options.html#o-file-outputfile-file"><code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">FILE</span> <span class="pre">--outputfile</span> <span class="pre">FILE</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyexpander-install.html">Installing pyexpander</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyexpander-install.html#parts-of-pyexpander">Parts of pyexpander</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyexpander-install.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyexpander-install.html#install-from-pypi-with-pip">Install from pypi with pip</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyexpander-install.html#install-from-a-debian-package">Install from a debian package</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyexpander-install.html#install-from-a-rpm-package">Install from a rpm package</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyexpander-install.html#install-from-source">Install from source</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Source code documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-pyexpander.lib">pyexpander.lib module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.BeginBlock"><code class="docutils literal notranslate"><span class="pre">BeginBlock</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.Block"><code class="docutils literal notranslate"><span class="pre">Block</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.add_macro"><code class="docutils literal notranslate"><span class="pre">Block.add_macro()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.eval_"><code class="docutils literal notranslate"><span class="pre">Block.eval_()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.exec_"><code class="docutils literal notranslate"><span class="pre">Block.exec_()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.export_symbols"><code class="docutils literal notranslate"><span class="pre">Block.export_symbols()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.extend"><code class="docutils literal notranslate"><span class="pre">Block.extend()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.format_text"><code class="docutils literal notranslate"><span class="pre">Block.format_text()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.get_block_list"><code class="docutils literal notranslate"><span class="pre">Block.get_block_list()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.get_filename"><code class="docutils literal notranslate"><span class="pre">Block.get_filename()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.get_indent"><code class="docutils literal notranslate"><span class="pre">Block.get_indent()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.parse_elm"><code class="docutils literal notranslate"><span class="pre">Block.parse_elm()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.parse_loop"><code class="docutils literal notranslate"><span class="pre">Block.parse_loop()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.pop"><code class="docutils literal notranslate"><span class="pre">Block.pop()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.posmsg"><code class="docutils literal notranslate"><span class="pre">Block.posmsg()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.print_block_list"><code class="docutils literal notranslate"><span class="pre">Block.print_block_list()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.set_indent"><code class="docutils literal notranslate"><span class="pre">Block.set_indent()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.set_permissivemode"><code class="docutils literal notranslate"><span class="pre">Block.set_permissivemode()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.set_safemode"><code class="docutils literal notranslate"><span class="pre">Block.set_safemode()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.set_substfile"><code class="docutils literal notranslate"><span class="pre">Block.set_substfile()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.setdefault"><code class="docutils literal notranslate"><span class="pre">Block.setdefault()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.str_block_list"><code class="docutils literal notranslate"><span class="pre">Block.str_block_list()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.str_eval"><code class="docutils literal notranslate"><span class="pre">Block.str_eval()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.Block.substfile_parselist"><code class="docutils literal notranslate"><span class="pre">Block.substfile_parselist()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.ForBlock"><code class="docutils literal notranslate"><span class="pre">ForBlock</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.ForBlock.next_loop"><code class="docutils literal notranslate"><span class="pre">ForBlock.next_loop()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.ForBlock.set_loop_var"><code class="docutils literal notranslate"><span class="pre">ForBlock.set_loop_var()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.IfBlock"><code class="docutils literal notranslate"><span class="pre">IfBlock</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.IfBlock.enter_elif"><code class="docutils literal notranslate"><span class="pre">IfBlock.enter_elif()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.IfBlock.enter_else"><code class="docutils literal notranslate"><span class="pre">IfBlock.enter_else()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.IncludeBlock"><code class="docutils literal notranslate"><span class="pre">IncludeBlock</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.MacBlock"><code class="docutils literal notranslate"><span class="pre">MacBlock</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.MacBlock.pop"><code class="docutils literal notranslate"><span class="pre">MacBlock.pop()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.PatternBlock"><code class="docutils literal notranslate"><span class="pre">PatternBlock</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.PatternBlock.def_vars"><code class="docutils literal notranslate"><span class="pre">PatternBlock.def_vars()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.PatternBlock.pop"><code class="docutils literal notranslate"><span class="pre">PatternBlock.pop()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.ResultText"><code class="docutils literal notranslate"><span class="pre">ResultText</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.ResultText.append"><code class="docutils literal notranslate"><span class="pre">ResultText.append()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.ResultText.column"><code class="docutils literal notranslate"><span class="pre">ResultText.column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.ResultText.current_column"><code class="docutils literal notranslate"><span class="pre">ResultText.current_column()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.ResultText.list_"><code class="docutils literal notranslate"><span class="pre">ResultText.list_()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.SubstBlock"><code class="docutils literal notranslate"><span class="pre">SubstBlock</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.WhileBlock"><code class="docutils literal notranslate"><span class="pre">WhileBlock</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.lib.WhileBlock.next_loop"><code class="docutils literal notranslate"><span class="pre">WhileBlock.next_loop()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.expand"><code class="docutils literal notranslate"><span class="pre">expand()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.expandFile"><code class="docutils literal notranslate"><span class="pre">expandFile()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.expandToStr"><code class="docutils literal notranslate"><span class="pre">expandToStr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.find_file"><code class="docutils literal notranslate"><span class="pre">find_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.keyword_check"><code class="docutils literal notranslate"><span class="pre">keyword_check()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.merge_dependecies"><code class="docutils literal notranslate"><span class="pre">merge_dependecies()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.one_or_two_strings"><code class="docutils literal notranslate"><span class="pre">one_or_two_strings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.parseFile"><code class="docutils literal notranslate"><span class="pre">parseFile()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.parseString"><code class="docutils literal notranslate"><span class="pre">parseString()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.print_dependencies"><code class="docutils literal notranslate"><span class="pre">print_dependencies()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.processToList"><code class="docutils literal notranslate"><span class="pre">processToList()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.processToPrint"><code class="docutils literal notranslate"><span class="pre">processToPrint()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.lib.test_encoding"><code class="docutils literal notranslate"><span class="pre">test_encoding()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-pyexpander.parser">pyexpander.parser module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.IndexedString"><code class="docutils literal notranslate"><span class="pre">IndexedString</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.parser.IndexedString.rowcol"><code class="docutils literal notranslate"><span class="pre">IndexedString.rowcol()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.parser.IndexedString.st"><code class="docutils literal notranslate"><span class="pre">IndexedString.st()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.ParseException"><code class="docutils literal notranslate"><span class="pre">ParseException</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.ParsedCommand"><code class="docutils literal notranslate"><span class="pre">ParsedCommand</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.parser.ParsedCommand.args"><code class="docutils literal notranslate"><span class="pre">ParsedCommand.args()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.ParsedComment"><code class="docutils literal notranslate"><span class="pre">ParsedComment</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.ParsedEval"><code class="docutils literal notranslate"><span class="pre">ParsedEval</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.ParsedItem"><code class="docutils literal notranslate"><span class="pre">ParsedItem</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.parser.ParsedItem.complete_positions"><code class="docutils literal notranslate"><span class="pre">ParsedItem.complete_positions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.parser.ParsedItem.complete_string"><code class="docutils literal notranslate"><span class="pre">ParsedItem.complete_string()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.parser.ParsedItem.end"><code class="docutils literal notranslate"><span class="pre">ParsedItem.end()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.parser.ParsedItem.positions"><code class="docutils literal notranslate"><span class="pre">ParsedItem.positions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.parser.ParsedItem.rowcol"><code class="docutils literal notranslate"><span class="pre">ParsedItem.rowcol()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.parser.ParsedItem.start"><code class="docutils literal notranslate"><span class="pre">ParsedItem.start()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyexpander.parser.ParsedItem.string"><code class="docutils literal notranslate"><span class="pre">ParsedItem.string()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.ParsedLiteral"><code class="docutils literal notranslate"><span class="pre">ParsedLiteral</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.ParsedPureCommand"><code class="docutils literal notranslate"><span class="pre">ParsedPureCommand</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.ParsedVar"><code class="docutils literal notranslate"><span class="pre">ParsedVar</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.change_linesep"><code class="docutils literal notranslate"><span class="pre">change_linesep()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.parseAll"><code class="docutils literal notranslate"><span class="pre">parseAll()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.parseBackslash"><code class="docutils literal notranslate"><span class="pre">parseBackslash()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.parseBracketed"><code class="docutils literal notranslate"><span class="pre">parseBracketed()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.parseCode"><code class="docutils literal notranslate"><span class="pre">parseCode()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.parseComment"><code class="docutils literal notranslate"><span class="pre">parseComment()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.parseDollar"><code class="docutils literal notranslate"><span class="pre">parseDollar()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.parseStringLiteral"><code class="docutils literal notranslate"><span class="pre">parseStringLiteral()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.pprint"><code class="docutils literal notranslate"><span class="pre">pprint()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.scanPyIdentList"><code class="docutils literal notranslate"><span class="pre">scanPyIdentList()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyexpander.parser.scanPyIn"><code class="docutils literal notranslate"><span class="pre">scanPyIn()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-expander">expander script</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#expander.check_encoding"><code class="docutils literal notranslate"><span class="pre">check_encoding()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#expander.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#expander.print_summary"><code class="docutils literal notranslate"><span class="pre">print_summary()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#expander.process_files"><code class="docutils literal notranslate"><span class="pre">process_files()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#expander.script_shortname"><code class="docutils literal notranslate"><span class="pre">script_shortname()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">Pyexpander License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyexpander</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Source code documentation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/source-code-documentation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="source-code-documentation">
<h1>Source code documentation<a class="headerlink" href="#source-code-documentation" title="Link to this heading"></a></h1>
<section id="module-pyexpander.lib">
<span id="pyexpander-lib-module"></span><h2>pyexpander.lib module<a class="headerlink" href="#module-pyexpander.lib" title="Link to this heading"></a></h2>
<p>The main pyexpander library.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.lib.BeginBlock">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">BeginBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">previous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#BeginBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.BeginBlock" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyexpander.lib.Block" title="pyexpander.lib.Block"><code class="xref py py-class docutils literal notranslate"><span class="pre">Block</span></code></a></p>
<p>implements a $begin .. $end block.</p>
<p>This block is simply a variable scope, so it is derived from Block where
the constructor is called with new_scope=True.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.lib.Block">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">Block</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">previous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_scope</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">external_definitions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class that represents a block in the expander language.</p>
<p>Each block has a parent-pointer, which may be None. Blocks are used to
represent syntactical blocks in the expander language. They manage the
global variable dictionary and some more properties that are needed during
execution of the program.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.add_macro">
<span class="sig-name descname"><span class="pre">add_macro</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">macro_block</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.add_macro"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.add_macro" title="Link to this definition"></a></dt>
<dd><p>add a new macro block.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.eval_">
<span class="sig-name descname"><span class="pre">eval_</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">st</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.eval_"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.eval_" title="Link to this definition"></a></dt>
<dd><p>perform eval with the global variable dictionary of the block.</p>
<p>Here is an example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">=</span> <span class="n">Block</span><span class="p">(</span><span class="n">parse_list</span><span class="o">=</span><span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">exec_</span><span class="p">(</span><span class="s2">&quot;a=2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">eval_</span><span class="p">(</span><span class="s2">&quot;3*a&quot;</span><span class="p">)</span>
<span class="go">6</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.exec_">
<span class="sig-name descname"><span class="pre">exec_</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">st</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.exec_"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.exec_" title="Link to this definition"></a></dt>
<dd><p>perform exec with the global variable dictionary of the block.</p>
<p>Here is an example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">=</span> <span class="n">Block</span><span class="p">(</span><span class="n">parse_list</span><span class="o">=</span><span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">exec_</span><span class="p">(</span><span class="s2">&quot;a=1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">=</span> <span class="n">Block</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">exec_</span><span class="p">(</span><span class="s2">&quot;a=2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">previous</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.export_symbols">
<span class="sig-name descname"><span class="pre">export_symbols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lst</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.export_symbols"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.export_symbols" title="Link to this definition"></a></dt>
<dd><p>appends items to the export_symbols list.</p>
<p>This list is used by the pop() method in order to copy values from the
current global variable dictionary to the global variable dictionary of
the previous block.</p>
<p>Here is an example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">=</span> <span class="n">Block</span><span class="p">(</span><span class="n">parse_list</span><span class="o">=</span><span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">export_symbols</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">exported_syms</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">export_symbols</span><span class="p">([</span><span class="s2">&quot;d&quot;</span><span class="p">,</span><span class="s2">&quot;e&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">exported_syms</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;d&#39;, &#39;e&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.extend">
<span class="sig-name descname"><span class="pre">extend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lst</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.extend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.extend" title="Link to this definition"></a></dt>
<dd><p>adds items to the list of expander functions or variables.</p>
<p>Here is an example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">=</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">=</span><span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">t</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">block</span><span class="o">=</span> <span class="n">Block</span><span class="p">(</span><span class="n">parse_list</span><span class="o">=</span><span class="p">[],</span><span class="n">external_definitions</span><span class="o">=</span><span class="nb">globals</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">block</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;t&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_pr_set</span><span class="p">(</span><span class="n">block</span><span class="o">.</span><span class="n">direct_vars</span><span class="p">)</span>
<span class="go">set([&#39;a&#39;, &#39;b&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_pr_set</span><span class="p">(</span><span class="n">block</span><span class="o">.</span><span class="n">direct_funcs</span><span class="p">)</span>
<span class="go">set([&#39;t&#39;])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.format_text">
<span class="sig-name descname"><span class="pre">format_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent_start</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.format_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.format_text" title="Link to this definition"></a></dt>
<dd><p>currently does indent one or more lines.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.get_block_list">
<span class="sig-name descname"><span class="pre">get_block_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.get_block_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.get_block_list" title="Link to this definition"></a></dt>
<dd><p>returns all blocks of the list.</p>
<p>The list is returned with the oldest block first.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.get_filename">
<span class="sig-name descname"><span class="pre">get_filename</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.get_filename"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.get_filename" title="Link to this definition"></a></dt>
<dd><p>get the filename of the block, return ‘’ instead of None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.get_indent">
<span class="sig-name descname"><span class="pre">get_indent</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.get_indent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.get_indent" title="Link to this definition"></a></dt>
<dd><p>gets the indent.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.parse_elm">
<span class="sig-name descname"><span class="pre">parse_elm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.parse_elm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.parse_elm" title="Link to this definition"></a></dt>
<dd><p>get the current parse element.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.parse_loop">
<span class="sig-name descname"><span class="pre">parse_loop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.parse_loop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.parse_loop" title="Link to this definition"></a></dt>
<dd><p>loop across the items in the Block.</p>
<p>returns False if there is nothing more to parse in the current block.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.pop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.pop" title="Link to this definition"></a></dt>
<dd><p>removes the current block and returns the previous one.</p>
<p>Here is an example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">=</span> <span class="n">Block</span><span class="p">(</span><span class="n">parse_list</span><span class="o">=</span><span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span><span class="o">=</span><span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">=</span> <span class="n">Block</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span><span class="o">=</span><span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span><span class="o">=</span><span class="mi">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">export_symbols</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.posmsg">
<span class="sig-name descname"><span class="pre">posmsg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.posmsg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.posmsg" title="Link to this definition"></a></dt>
<dd><p>return a message together with a position.</p>
<p>This method is mainly used for error messages. We usually want to print
filename and the line and column number together with a message. This
method returns the given message string &lt;msg&gt; together with this
additional information.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.print_block_list">
<span class="sig-name descname"><span class="pre">print_block_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.print_block_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.print_block_list" title="Link to this definition"></a></dt>
<dd><p>print all blocks in the list.</p>
<p>The list is returned with the oldest block first.</p>
<p>Here is an example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">=</span> <span class="n">Block</span><span class="p">(</span><span class="n">parse_list</span><span class="o">=</span><span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">Block{</span>
<span class="go">    has parent          : False</span>
<span class="go">    filename            = None</span>
<span class="go">    template            = None</span>
<span class="go">    template_path       = None</span>
<span class="go">    template_encoding   = None</span>
<span class="go">    has template_parselist_cache: False</span>
<span class="go">    exported_syms       = []</span>
<span class="go">    direct_vars         = set([])</span>
<span class="go">    direct_funcs        = set([])</span>
<span class="go">    macros              : []</span>
<span class="go">    new_scope           = False</span>
<span class="go">    skip                = False</span>
<span class="go">    safe_mode           = False</span>
<span class="go">    permissive_mode     = False</span>
<span class="go">    indent              = 0</span>
<span class="go">    new_parse_list      = True</span>
<span class="go">    lst_pos             = -1</span>
<span class="go">    start_pos           = 0</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">=</span> <span class="n">Block</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">Block{</span>
<span class="go">    has parent          : True</span>
<span class="go">    filename            = None</span>
<span class="go">    template            = None</span>
<span class="go">    template_path       = None</span>
<span class="go">    template_encoding   = None</span>
<span class="go">    has template_parselist_cache: False</span>
<span class="go">    exported_syms       = []</span>
<span class="go">    direct_vars         = set([])</span>
<span class="go">    direct_funcs        = set([])</span>
<span class="go">    macros              : []</span>
<span class="go">    new_scope           = True</span>
<span class="go">    skip                = False</span>
<span class="go">    safe_mode           = False</span>
<span class="go">    permissive_mode     = False</span>
<span class="go">    indent              = 0</span>
<span class="go">    new_parse_list      = False</span>
<span class="go">    lst_pos             = -1</span>
<span class="go">    start_pos           = 0</span>
<span class="go">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">print_block_list</span><span class="p">()</span>
<span class="go">Block{</span>
<span class="go">    has parent          : False</span>
<span class="go">    filename            = None</span>
<span class="go">    template            = None</span>
<span class="go">    template_path       = None</span>
<span class="go">    template_encoding   = None</span>
<span class="go">    has template_parselist_cache: False</span>
<span class="go">    exported_syms       = []</span>
<span class="go">    direct_vars         = set([])</span>
<span class="go">    direct_funcs        = set([])</span>
<span class="go">    macros              : []</span>
<span class="go">    new_scope           = False</span>
<span class="go">    skip                = False</span>
<span class="go">    safe_mode           = False</span>
<span class="go">    permissive_mode     = False</span>
<span class="go">    indent              = 0</span>
<span class="go">    new_parse_list      = True</span>
<span class="go">    lst_pos             = -1</span>
<span class="go">    start_pos           = 0</span>
<span class="go">}</span>
<span class="go">Block{</span>
<span class="go">    has parent          : True</span>
<span class="go">    filename            = None</span>
<span class="go">    template            = None</span>
<span class="go">    template_path       = None</span>
<span class="go">    template_encoding   = None</span>
<span class="go">    has template_parselist_cache: False</span>
<span class="go">    exported_syms       = []</span>
<span class="go">    direct_vars         = set([])</span>
<span class="go">    direct_funcs        = set([])</span>
<span class="go">    macros              : []</span>
<span class="go">    new_scope           = True</span>
<span class="go">    skip                = False</span>
<span class="go">    safe_mode           = False</span>
<span class="go">    permissive_mode     = False</span>
<span class="go">    indent              = 0</span>
<span class="go">    new_parse_list      = False</span>
<span class="go">    lst_pos             = -1</span>
<span class="go">    start_pos           = 0</span>
<span class="go">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.set_indent">
<span class="sig-name descname"><span class="pre">set_indent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.set_indent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.set_indent" title="Link to this definition"></a></dt>
<dd><p>sets the indent.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.set_permissivemode">
<span class="sig-name descname"><span class="pre">set_permissivemode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.set_permissivemode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.set_permissivemode" title="Link to this definition"></a></dt>
<dd><p>sets the permissive_mode.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.set_safemode">
<span class="sig-name descname"><span class="pre">set_safemode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.set_safemode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.set_safemode" title="Link to this definition"></a></dt>
<dd><p>sets the safe_mode.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.set_substfile">
<span class="sig-name descname"><span class="pre">set_substfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.set_substfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.set_substfile" title="Link to this definition"></a></dt>
<dd><p>set substitution filename.</p>
<p>Used for the “$subst”, “$template” and “$pattern” commands.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.setdefault">
<span class="sig-name descname"><span class="pre">setdefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.setdefault"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.setdefault" title="Link to this definition"></a></dt>
<dd><p>return a value from globals, set to a default if it’s not defined.</p>
<p>Here are some examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">=</span> <span class="n">Block</span><span class="p">(</span><span class="n">parse_list</span><span class="o">=</span><span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">NameError</span>: <span class="n">name &#39;a&#39; is not defined at unknown position</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span><span class="o">=</span><span class="mi">11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="go">11</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.str_block_list">
<span class="sig-name descname"><span class="pre">str_block_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.str_block_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.str_block_list" title="Link to this definition"></a></dt>
<dd><p>returns a string representation of all blocks in the list.</p>
<p>The list is returned with the oldest block first.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.str_eval">
<span class="sig-name descname"><span class="pre">str_eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">st</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.str_eval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.str_eval" title="Link to this definition"></a></dt>
<dd><p>perform eval with the global variable dictionary of the block.</p>
<p>Here is an example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">=</span> <span class="n">Block</span><span class="p">(</span><span class="n">parse_list</span><span class="o">=</span><span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">exec_</span><span class="p">(</span><span class="s2">&quot;a=2&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">str_eval</span><span class="p">(</span><span class="s2">&quot;3*a&quot;</span><span class="p">)</span>
<span class="go">&#39;6&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.Block.substfile_parselist">
<span class="sig-name descname"><span class="pre">substfile_parselist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_paths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#Block.substfile_parselist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.Block.substfile_parselist" title="Link to this definition"></a></dt>
<dd><p>return the parselist for a given file.</p>
<p>This method manages a cache of that assigns filenames to parselists.
This can speed things up if a file is included several times.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.lib.ForBlock">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">ForBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">previous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_scope</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_expr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#ForBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.ForBlock" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyexpander.lib.Block" title="pyexpander.lib.Block"><code class="xref py py-class docutils literal notranslate"><span class="pre">Block</span></code></a></p>
<p>implements a $for .. $endfor block.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.ForBlock.next_loop">
<span class="sig-name descname"><span class="pre">next_loop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#ForBlock.next_loop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.ForBlock.next_loop" title="Link to this definition"></a></dt>
<dd><p>performs next loop.</p>
<dl class="simple">
<dt>returns:</dt><dd><p>True when the loop is not yet finished.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.ForBlock.set_loop_var">
<span class="sig-name descname"><span class="pre">set_loop_var</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#ForBlock.set_loop_var"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.ForBlock.set_loop_var" title="Link to this definition"></a></dt>
<dd><p>set the loop variable to a new value.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.lib.IfBlock">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">IfBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">previous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#IfBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.IfBlock" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyexpander.lib.Block" title="pyexpander.lib.Block"><code class="xref py py-class docutils literal notranslate"><span class="pre">Block</span></code></a></p>
<p>implements a $if .. $else .. $endif block.</p>
<p>An $if block never has a variable scope, so the base Block object is
called with new_scope=False.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.IfBlock.enter_elif">
<span class="sig-name descname"><span class="pre">enter_elif</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">condition</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#IfBlock.enter_elif"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.IfBlock.enter_elif" title="Link to this definition"></a></dt>
<dd><p>enter the “elif” part in the if..endif block.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.IfBlock.enter_else">
<span class="sig-name descname"><span class="pre">enter_else</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#IfBlock.enter_else"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.IfBlock.enter_else" title="Link to this definition"></a></dt>
<dd><p>this should be called when $else is encountered.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.lib.IncludeBlock">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">IncludeBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">previous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_scope</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'UTF-8'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#IncludeBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.IncludeBlock" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyexpander.lib.Block" title="pyexpander.lib.Block"><code class="xref py py-class docutils literal notranslate"><span class="pre">Block</span></code></a></p>
<p>implements a $include(filename) block.</p>
<p>This block is simply a variable scope, so it is derived from Block where
the constructor is called with new_scope=True.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.lib.MacBlock">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">MacBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">previous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">declaration_block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameter_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#MacBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.MacBlock" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyexpander.lib.Block" title="pyexpander.lib.Block"><code class="xref py py-class docutils literal notranslate"><span class="pre">Block</span></code></a></p>
<p>implements a $macro…$endmacro block.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.MacBlock.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#MacBlock.pop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.MacBlock.pop" title="Link to this definition"></a></dt>
<dd><p>override pop() from base class.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.lib.PatternBlock">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">PatternBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">previous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">heading</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#PatternBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.PatternBlock" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyexpander.lib.Block" title="pyexpander.lib.Block"><code class="xref py py-class docutils literal notranslate"><span class="pre">Block</span></code></a></p>
<p>implements a $pattern(parameters) block.</p>
<p>This block is simply a variable scope, so it is derived from Block where
the constructor is called with new_scope=True.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.PatternBlock.def_vars">
<span class="sig-name descname"><span class="pre">def_vars</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#PatternBlock.def_vars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.PatternBlock.def_vars" title="Link to this definition"></a></dt>
<dd><p>define all the given variables in the PatternBlock.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.PatternBlock.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#PatternBlock.pop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.PatternBlock.pop" title="Link to this definition"></a></dt>
<dd><p>removes the current block and returns the previous one.</p>
<p>Here is an example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">=</span> <span class="n">Block</span><span class="p">(</span><span class="n">parse_list</span><span class="o">=</span><span class="p">[])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span><span class="o">=</span><span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">=</span> <span class="n">Block</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span><span class="o">=</span><span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span><span class="o">=</span><span class="mi">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">.</span><span class="n">export_symbols</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.lib.ResultText">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">ResultText</span></span><a class="reference internal" href="_modules/pyexpander/lib.html#ResultText"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.ResultText" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>basically a list of strings with a current column property.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.ResultText.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#ResultText.append"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.ResultText.append" title="Link to this definition"></a></dt>
<dd><p>append some text.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.ResultText.column">
<span class="sig-name descname"><span class="pre">column</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#ResultText.column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.ResultText.column" title="Link to this definition"></a></dt>
<dd><p>return current column.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.ResultText.current_column">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">st</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#ResultText.current_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.ResultText.current_column" title="Link to this definition"></a></dt>
<dd><p>find current column if the string is printed.</p>
<p>Note: With a string ending with ‘n’ this returns 1.</p>
<p>Here are some examples:
&gt;&gt;&gt; ResultText.current_column(“”)
-1
&gt;&gt;&gt; ResultText.current_column(“ab”)
-1
&gt;&gt;&gt; ResultText.current_column(”nab”)
3
&gt;&gt;&gt; ResultText.current_column(”nabn”)
1
&gt;&gt;&gt; ResultText.current_column(”nabna”)
2</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.ResultText.list_">
<span class="sig-name descname"><span class="pre">list_</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#ResultText.list_"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.ResultText.list_" title="Link to this definition"></a></dt>
<dd><p>return internal list.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.lib.SubstBlock">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">SubstBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">previous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">external_definitions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#SubstBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.SubstBlock" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyexpander.lib.Block" title="pyexpander.lib.Block"><code class="xref py py-class docutils literal notranslate"><span class="pre">Block</span></code></a></p>
<p>implements a $subst(parameters) block.</p>
<p>This block is simply a variable scope, so it is derived from Block where
the constructor is called with new_scope=True.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.lib.WhileBlock">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">WhileBlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">previous</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_scope</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">while_expr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#WhileBlock"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.WhileBlock" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyexpander.lib.Block" title="pyexpander.lib.Block"><code class="xref py py-class docutils literal notranslate"><span class="pre">Block</span></code></a></p>
<p>implements a $while .. $endwhile block.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.lib.WhileBlock.next_loop">
<span class="sig-name descname"><span class="pre">next_loop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#WhileBlock.next_loop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.WhileBlock.next_loop" title="Link to this definition"></a></dt>
<dd><p>performs next loop.</p>
<dl class="simple">
<dt>returns:</dt><dd><p>True when the loop is not yet finished.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.lib.expand">
<span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">expand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">st</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">external_definitions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_nobracket_vars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_continuation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'UTF-8'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'full'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#expand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.expand" title="Link to this definition"></a></dt>
<dd><p>Get a string, expand the text in it and print it.</p>
<p>args:</p>
<ul class="simple">
<li><p>st (str): The string that is to be expaned.</p></li>
<li><p>filename (str): The filename, if given, is included in possible error
messages.</p></li>
<li><p>external_definitions (dict): A dict with items to import to the
globals() dictionary.</p></li>
<li><p>allow_nobracket_vars (bool): If True, allow variables in the form $VAR
instead of $(VAR).</p></li>
<li><p>auto_continuation (bool): If True, remove newline at the end of lines
with a command. This works like having an ‘' at the end of each
line with a command.</p></li>
<li><p>auto_indent (bool): If True, indent the contents of macros to the same
level as the macro invocation.</p></li>
<li><p>include_paths (list): A list of paths that are searched for the
$include command.</p></li>
<li><p>output_encoding: encoding used to create output data</p></li>
<li><p>print_mode: one of 3 possible strings,</p>
<ul>
<li><p>full: normal printing</p></li>
<li><p>repr: print the list of strings in python “repr” format, this is
for debugging only.</p></li>
<li><p>none: do not print anything</p></li>
</ul>
</li>
</ul>
<p>returns:</p>
<ul class="simple">
<li><p>The internal globals() dictionary.</p></li>
<li><p>The file_deps dict with file dependencies</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.lib.expandFile">
<span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">expandFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'UTF-8'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">external_definitions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_nobracket_vars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_continuation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">safemode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permissive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_backslashes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_stdin_warning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'UTF-8'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'full'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#expandFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.expandFile" title="Link to this definition"></a></dt>
<dd><p>Get a filename, expand the text in it and print it.</p>
<p>args:</p>
<ul class="simple">
<li><p>filename (str): The name of the file</p></li>
<li><p>encoding: encoding of the file</p></li>
<li><p>external_definitions (dict): A dict with items to import to the
globals() dictionary.</p></li>
<li><p>allow_nobracket_vars (bool): If True, allow variables in the form $VAR
instead of $(VAR).</p></li>
<li><p>auto_continuation (bool): If True, remove newline at the end of
lines with a command. This works like having an ‘’ at the end of
each line with a command.</p></li>
<li><p>safemode: Disable the execution of arbitrary python commands and commands
that extend the pyexpander language.</p></li>
<li><p>permissive: Ignore when an expression in $(EXPRESSION) has an undefined
variable error (NameError). Such expressions are not replaced.</p></li>
<li><p>preserve_backslashes: Preserve all backslashes except the ones used for
line continuation.</p></li>
<li><p>auto_indent (bool): If True, indent the contents of macros to
the same level as the macro invocation.</p></li>
<li><p>include_paths (list): A list of paths that are searched for the
$include command.</p></li>
<li><p>no_stdin_warning (bool): If True, print short message on stderr
when the program is waiting on input from stdin.</p></li>
<li><p>output_encoding: encoding used to create output data</p></li>
<li><p>print_mode: one of 3 possible strings,</p>
<ul>
<li><p>full: normal printing</p></li>
<li><p>repr: print the list of strings in python “repr” format, this is
for debugging only.</p></li>
<li><p>none: do not print anything</p></li>
</ul>
</li>
</ul>
<p>returns:</p>
<ul class="simple">
<li><p>The internal globals() dictionary.</p></li>
<li><p>The file_deps dict with file dependencies</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.lib.expandToStr">
<span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">expandToStr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">st</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">external_definitions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_nobracket_vars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_continuation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#expandToStr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.expandToStr" title="Link to this definition"></a></dt>
<dd><p>Get a string, expand the text in it and return it as a string.</p>
<p>args:</p>
<ul class="simple">
<li><p>st (str): The string that is to be expaned.</p></li>
<li><p>filename (str): The filename, if given, is included in possible error
messages.</p></li>
<li><p>external_definitions (dict): A dict with items to import to the
globals() dictionary.</p></li>
<li><p>allow_nobracket_vars (bool): If True, allow variables in the form $VAR
instead of $(VAR).</p></li>
<li><p>auto_continuation (bool): If True, remove newline at the end of lines
with a command. This works like having an ‘’ at the end of each
line with a command.</p></li>
<li><p>auto_indent (bool): If True, indent the contents of macros to the same
level as the macro invocation.</p></li>
<li><p>include_paths (list): A list of paths that are searched for the
$include command.</p></li>
</ul>
<p>returns a tuple containing:</p>
<ul class="simple">
<li><p>The expanded text as a single string.</p></li>
<li><p>The internal globals() dictionary.</p></li>
<li><p>The file_deps dict with file dependencies</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.lib.find_file">
<span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">find_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_paths</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#find_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.find_file" title="Link to this definition"></a></dt>
<dd><p>find a file in a list of include paths.</p>
<p>include_paths MUST CONTAIN “” in order to search the
local directory.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.lib.keyword_check">
<span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">keyword_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifiers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#keyword_check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.keyword_check" title="Link to this definition"></a></dt>
<dd><p>indentifiers must not be identical to keywords.</p>
<p>This function may raise an exception.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.lib.merge_dependecies">
<span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">merge_dependecies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_deps</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#merge_dependecies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.merge_dependecies" title="Link to this definition"></a></dt>
<dd><p>merge contents of two dependency dicts.</p>
<p>These are the “file_deps” as they are returned by functions like
processToList.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.lib.one_or_two_strings">
<span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">one_or_two_strings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#one_or_two_strings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.one_or_two_strings" title="Link to this definition"></a></dt>
<dd><p>arg must be a single string or a tuple of two strings.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.lib.parseFile">
<span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">parseFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_stdin_warning</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#parseFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.parseFile" title="Link to this definition"></a></dt>
<dd><p>parse a file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.lib.parseString">
<span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">parseString</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">st</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#parseString"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.parseString" title="Link to this definition"></a></dt>
<dd><p>parse a string.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.lib.print_dependencies">
<span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">print_dependencies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">deps</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#print_dependencies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.print_dependencies" title="Link to this definition"></a></dt>
<dd><p>print dependencies in make compatible format.</p>
<p>These are the “file_deps” as they are returned by functions like
processToList.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.lib.processToList">
<span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">processToList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parse_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">external_definitions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_nobracket_vars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_continuation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">safemode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permissive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_backslashes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#processToList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.processToList" title="Link to this definition"></a></dt>
<dd><p>Expand a parse list to a list of strings.</p>
<dl>
<dt>args:</dt><dd><p>parse_list: A parse list created by parseString().</p>
<dl class="simple">
<dt>filename (str): The filename, if given, is included in possible error</dt><dd><p>messages.</p>
</dd>
<dt>external_definitions (dict): A dict with items to import to the</dt><dd><p>globals() dictionary.</p>
</dd>
<dt>allow_nobracket_vars (bool): If True, allow variables in the form $VAR</dt><dd><p>instead of $(VAR).</p>
</dd>
<dt>auto_continuation (bool): If True, remove newline at the end of lines</dt><dd><p>with a command. This works like having an ‘’ at the end of each
line with a command.</p>
</dd>
<dt>safemode: Disable the execution of arbitrary python commands and</dt><dd><p>commands that extend the pyexpander language.</p>
</dd>
<dt>permissive: Ignore when an expression in $(EXPRESSION) has an undefined</dt><dd><p>variable error (NameError). Such expressions are not replaced.</p>
</dd>
<dt>preserve_backslashes: Preserve all backslashes except the ones used for</dt><dd><p>line continuation.</p>
</dd>
<dt>auto_indent (bool): If True, indent the contents of macros to the same</dt><dd><p>level as the macro invocation.</p>
</dd>
<dt>include_paths (list): A list of paths that are searched for the</dt><dd><p>$include command.</p>
</dd>
</dl>
</dd>
<dt>returns a tuple containing:</dt><dd><ul class="simple">
<li><p>The expanded text as a list of strings</p></li>
<li><p>The internal globals() dictionary.</p></li>
<li><p>The file_deps dict with file dependencies</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.lib.processToPrint">
<span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">processToPrint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parse_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">external_definitions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_nobracket_vars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_continuation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">safemode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permissive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preserve_backslashes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_paths</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'UTF-8'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'full'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#processToPrint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.processToPrint" title="Link to this definition"></a></dt>
<dd><p>Gets a parse list, expand the text in it and print it.</p>
<p>args:</p>
<ul class="simple">
<li><p>parse_list: A parse list created by parseString().</p></li>
<li><p>filename (str): The filename, if given, is included in possible error
messages.</p></li>
<li><p>external_definitions (dict): A dict with items to import to the
globals() dictionary.</p></li>
<li><p>allow_nobracket_vars (bool): If True, allow variables in the form $VAR
instead of $(VAR).</p></li>
<li><p>auto_continuation (bool): If True, remove newline at the end of lines
with a command. This works like having an ‘’ at the end of each
line with a command.</p></li>
<li><p>safemode: Disable the execution of arbitrary python commands and commands
that extend the pyexpander language.</p></li>
<li><p>permissive: Ignore when an expression in $(EXPRESSION) has an undefined
variable error (NameError). Such expressions are not replaced.</p></li>
<li><p>preserve_backslashes: Preserve all backslashes except the ones used for
line continuation.</p></li>
<li><p>auto_indent (bool): If True, indent the contents of macros to the same
level as the macro invocation.</p></li>
<li><p>include_paths (list): A list of paths that are searched for the
$include command.</p></li>
<li><p>output_encoding: encoding used to create output data</p></li>
<li><p>print_mode: one of 3 possible strings,</p>
<ul>
<li><p>full: normal printing</p></li>
<li><p>repr: print the list of strings in python “repr” format, this is
for debugging only.</p></li>
<li><p>none: do not print anything</p></li>
</ul>
</li>
</ul>
<p>returns:</p>
<ul class="simple">
<li><p>The internal globals() dictionary.</p></li>
<li><p>The file_deps dict with file dependencies</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.lib.test_encoding">
<span class="sig-prename descclassname"><span class="pre">pyexpander.lib.</span></span><span class="sig-name descname"><span class="pre">test_encoding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/lib.html#test_encoding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.lib.test_encoding" title="Link to this definition"></a></dt>
<dd><p>test if an encoding is known.</p>
<p>raises (by encode() method) a LookupError exception in case of an error.</p>
</dd></dl>

</section>
<section id="module-pyexpander.parser">
<span id="pyexpander-parser-module"></span><h2>pyexpander.parser module<a class="headerlink" href="#module-pyexpander.parser" title="Link to this heading"></a></h2>
<p>implement the parser for pyexpander.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.parser.IndexedString">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">IndexedString</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">st</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#IndexedString"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.IndexedString" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>a string together with row column information.</p>
<p>Here is an example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">txt</span><span class="o">=</span><span class="s1">&#39;&#39;&#39;01234</span>
<span class="gp">... </span><span class="s1">67</span>
<span class="gp">... </span><span class="s1">9abcd&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">=</span><span class="n">IndexedString</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">rowcol</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(1, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">rowcol</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">(1, 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">rowcol</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">(1, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">rowcol</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">(1, 6)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">rowcol</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="go">(2, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">rowcol</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="go">(2, 2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">rowcol</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="go">(2, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">rowcol</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="go">(3, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">rowcol</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span>
<span class="go">(3, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">rowcol</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span>
<span class="go">(3, 6)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">rowcol</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="go">(3, 8)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.parser.IndexedString.rowcol">
<span class="sig-name descname"><span class="pre">rowcol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#IndexedString.rowcol"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.IndexedString.rowcol" title="Link to this definition"></a></dt>
<dd><p>calculate (row,column) from a string position.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.parser.IndexedString.st">
<span class="sig-name descname"><span class="pre">st</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#IndexedString.st"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.IndexedString.st" title="Link to this definition"></a></dt>
<dd><p>return the raw string.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pyexpander.parser.ParseException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">ParseException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rowcol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#ParseException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.ParseException" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>used for Exceptions in this module.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.parser.ParsedCommand">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">ParsedCommand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ident</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#ParsedCommand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.ParsedCommand" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyexpander.parser.ParsedItem" title="pyexpander.parser.ParsedItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParsedItem</span></code></a></p>
<p>class of a pyexpander command with arguments.</p>
<p>A command has the form “$name(argument1, argument2, …)”.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.parser.ParsedCommand.args">
<span class="sig-name descname"><span class="pre">args</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#ParsedCommand.args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.ParsedCommand.args" title="Link to this definition"></a></dt>
<dd><p>return the arguments of the command.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.parser.ParsedComment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">ParsedComment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#ParsedComment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.ParsedComment" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyexpander.parser.ParsedItem" title="pyexpander.parser.ParsedItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParsedItem</span></code></a></p>
<p>class of a parsed comment.</p>
<p>A comment in pyexpander starts with ‘$#’.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.parser.ParsedEval">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">ParsedEval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#ParsedEval"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.ParsedEval" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyexpander.parser.ParsedItem" title="pyexpander.parser.ParsedItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParsedItem</span></code></a></p>
<p>class of an pyexpander expression.</p>
<p>A pyexpander expression has the form “$(expression)” e.g. “$(a+1)”. This is
different from ParsedVar where the string within the brackets is a simple
identifier.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.parser.ParsedItem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">ParsedItem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#ParsedItem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.ParsedItem" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>base class of parsed items.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.parser.ParsedItem.complete_positions">
<span class="sig-name descname"><span class="pre">complete_positions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#ParsedItem.complete_positions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.ParsedItem.complete_positions" title="Link to this definition"></a></dt>
<dd><p>return c_start and c_end of ParsedItem in the source string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.parser.ParsedItem.complete_string">
<span class="sig-name descname"><span class="pre">complete_string</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#ParsedItem.complete_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.ParsedItem.complete_string" title="Link to this definition"></a></dt>
<dd><p>return the string that represents the complete ParsedItem.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.parser.ParsedItem.end">
<span class="sig-name descname"><span class="pre">end</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#ParsedItem.end"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.ParsedItem.end" title="Link to this definition"></a></dt>
<dd><p>return the end of the ParsedItem in the source string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.parser.ParsedItem.positions">
<span class="sig-name descname"><span class="pre">positions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#ParsedItem.positions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.ParsedItem.positions" title="Link to this definition"></a></dt>
<dd><p>return start and end of ParsedItem in the source string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.parser.ParsedItem.rowcol">
<span class="sig-name descname"><span class="pre">rowcol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#ParsedItem.rowcol"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.ParsedItem.rowcol" title="Link to this definition"></a></dt>
<dd><p>calculate (row,column) from a string position.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.parser.ParsedItem.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#ParsedItem.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.ParsedItem.start" title="Link to this definition"></a></dt>
<dd><p>return the start of the ParsedItem in the source string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyexpander.parser.ParsedItem.string">
<span class="sig-name descname"><span class="pre">string</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#ParsedItem.string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.ParsedItem.string" title="Link to this definition"></a></dt>
<dd><p>return the string that represents the ParsedItem.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.parser.ParsedLiteral">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">ParsedLiteral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#ParsedLiteral"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.ParsedLiteral" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyexpander.parser.ParsedItem" title="pyexpander.parser.ParsedItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParsedItem</span></code></a></p>
<p>class of a parsed literal.</p>
<p>A literal is a substring in the input that shouldn’t be modified by
pyexpander.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.parser.ParsedPureCommand">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">ParsedPureCommand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#ParsedPureCommand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.ParsedPureCommand" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyexpander.parser.ParsedItem" title="pyexpander.parser.ParsedItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParsedItem</span></code></a></p>
<p>class of a pyexpander command without arguments.</p>
<p>A pure command has the form “$name”. Such a command has no arguments which
would be enclosed in round brackets immediately following the name.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyexpander.parser.ParsedVar">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">ParsedVar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#ParsedVar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.ParsedVar" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyexpander.parser.ParsedItem" title="pyexpander.parser.ParsedItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParsedItem</span></code></a></p>
<p>class of a parsed variable.</p>
<p>A variable in pyexpander has the form “$(identifier)”.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.parser.change_linesep">
<span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">change_linesep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sep</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#change_linesep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.change_linesep" title="Link to this definition"></a></dt>
<dd><p>change line separator, this is here just for tests.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.parser.parseAll">
<span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">parseAll</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#parseAll"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.parseAll" title="Link to this definition"></a></dt>
<dd><p>parse everything.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">st</span><span class="p">,</span><span class="n">pos</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">idxst</span><span class="o">=</span> <span class="n">IndexedString</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">pprint</span><span class="p">(</span><span class="n">parseAll</span><span class="p">(</span><span class="n">idxst</span><span class="p">,</span><span class="n">pos</span><span class="p">))</span>
<span class="gp">...</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (0, 2), &#39;abc&#39;, (0, 2), &#39;abc&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;abc$xyz&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (0, 2), &#39;abc&#39;, (0, 2), &#39;abc&#39;)</span>
<span class="go">(&#39;ParsedPureCommand&#39;, (4, 6), &#39;xyz&#39;, (3, 6), &#39;$xyz&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;abc$</span><span class="si">{xyz}</span><span class="s2">efg&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (0, 2), &#39;abc&#39;, (0, 2), &#39;abc&#39;)</span>
<span class="go">(&#39;ParsedPureCommand&#39;, (5, 7), &#39;xyz&#39;, (3, 8), &#39;${xyz}&#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (9, 11), &#39;efg&#39;, (9, 11), &#39;efg&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;abc$xyz(2*4)&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (0, 2), &#39;abc&#39;, (0, 2), &#39;abc&#39;)</span>
<span class="go">(&#39;ParsedCommand&#39;, (8, 10), &#39;xyz&#39;, &#39;2*4&#39;, (3, 11), &#39;$xyz(2*4)&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;abc$(2*4)ab&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (0, 2), &#39;abc&#39;, (0, 2), &#39;abc&#39;)</span>
<span class="go">(&#39;ParsedEval&#39;, (5, 7), &#39;2*4&#39;, (3, 8), &#39;$(2*4)&#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (9, 10), &#39;ab&#39;, (9, 10), &#39;ab&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;abc</span><span class="se">\\</span><span class="s2">$(2*4)ab&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (0, 2), &#39;abc&#39;, (0, 2), &#39;abc&#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (3, 4), &#39;\\$&#39;, (3, 4), &#39;\\$&#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (5, 11), &#39;(2*4)ab&#39;, (5, 11), &#39;(2*4)ab&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;ab$func(1+2)</span><span class="se">\\\n</span><span class="s2">new line&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (0, 1), &#39;ab&#39;, (0, 1), &#39;ab&#39;)</span>
<span class="go">(&#39;ParsedCommand&#39;, (8, 10), &#39;func&#39;, &#39;1+2&#39;, (2, 11), &#39;$func(1+2)&#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (14, 21), &#39;new line&#39;, (14, 21), &#39;new line&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;ab$func(1+2)</span><span class="se">\n</span><span class="s2">new line&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (0, 1), &#39;ab&#39;, (0, 1), &#39;ab&#39;)</span>
<span class="go">(&#39;ParsedCommand&#39;, (8, 10), &#39;func&#39;, &#39;1+2&#39;, (2, 11), &#39;$func(1+2)&#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (12, 20), &#39;\nnew line&#39;, (12, 20), &#39;\nnew line&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;ab$(xyz)(56)&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (0, 1), &#39;ab&#39;, (0, 1), &#39;ab&#39;)</span>
<span class="go">(&#39;ParsedVar&#39;, (4, 6), &#39;xyz&#39;, (2, 7), &#39;$(xyz)&#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (8, 11), &#39;(56)&#39;, (8, 11), &#39;(56)&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">Some text with a macro: $(xy)</span>
<span class="gp">... </span><span class="s1">an escaped dollar: \$(xy)</span>
<span class="gp">... </span><span class="s1">a macro within letters: abc$</span><span class="si">{xy}</span><span class="s1">def</span>
<span class="gp">... </span><span class="s1">a pyexpander command structure:</span>
<span class="gp">... </span><span class="s1">$if(a=1)</span>
<span class="gp">... </span><span class="s1">here</span>
<span class="gp">... </span><span class="s1">$else</span>
<span class="gp">... </span><span class="s1">there</span>
<span class="gp">... </span><span class="s1">$endif</span>
<span class="gp">... </span><span class="s1">now a continued\</span>
<span class="gp">... </span><span class="s1">line</span>
<span class="gp">... </span><span class="s1">from here:$# the rest is a comment</span>
<span class="gp">... </span><span class="s1">now an escaped continued\\</span>
<span class="gp">... </span><span class="s1">line</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (0, 24), &#39;\nSome text with a macro: &#39;, (0, 24), &#39;\nSome text with a macro: &#39;)</span>
<span class="go">(&#39;ParsedVar&#39;, (27, 28), &#39;xy&#39;, (25, 29), &#39;$(xy)&#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (30, 49), &#39;\nan escaped dollar: &#39;, (30, 49), &#39;\nan escaped dollar: &#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (50, 51), &#39;\\$&#39;, (50, 51), &#39;\\$&#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (52, 83), &#39;(xy)\na macro within letters: abc&#39;, (52, 83), &#39;(xy)\na macro within letters: abc&#39;)</span>
<span class="go">(&#39;ParsedPureCommand&#39;, (86, 87), &#39;xy&#39;, (84, 88), &#39;${xy}&#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (89, 124), &#39;def\na pyexpander command structure:\n&#39;, (89, 124), &#39;def\na pyexpander command structure:\n&#39;)</span>
<span class="go">(&#39;ParsedCommand&#39;, (129, 131), &#39;if&#39;, &#39;a=1&#39;, (125, 132), &#39;$if(a=1)&#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (133, 138), &#39;\nhere\n&#39;, (133, 138), &#39;\nhere\n&#39;)</span>
<span class="go">(&#39;ParsedPureCommand&#39;, (140, 143), &#39;else&#39;, (139, 143), &#39;$else&#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (144, 150), &#39;\nthere\n&#39;, (144, 150), &#39;\nthere\n&#39;)</span>
<span class="go">(&#39;ParsedPureCommand&#39;, (152, 156), &#39;endif&#39;, (151, 156), &#39;$endif&#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (157, 172), &#39;\nnow a continued&#39;, (157, 172), &#39;\nnow a continued&#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (175, 189), &#39;line\nfrom here:&#39;, (175, 189), &#39;line\nfrom here:&#39;)</span>
<span class="go">(&#39;ParsedComment&#39;, (192, 214), &#39; the rest is a comment\n&#39;, (190, 214), &#39;$# the rest is a comment\n&#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (215, 238), &#39;now an escaped continued&#39;, (215, 238), &#39;now an escaped continued&#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (239, 240), &#39;\\\\&#39;, (239, 240), &#39;\\\\&#39;)</span>
<span class="go">(&#39;ParsedLiteral&#39;, (241, 246), &#39;\nline\n&#39;, (241, 246), &#39;\nline\n&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.parser.parseBackslash">
<span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">parseBackslash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#parseBackslash"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.parseBackslash" title="Link to this definition"></a></dt>
<dd><p>parses a backslash.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">st</span><span class="p">,</span><span class="n">pos</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">sep</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">change_linesep</span><span class="p">(</span><span class="n">sep</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">idxst</span><span class="o">=</span> <span class="n">IndexedString</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">elm</span><span class="p">)</span><span class="o">=</span> <span class="n">parseBackslash</span><span class="p">(</span><span class="n">idxst</span><span class="p">,</span><span class="n">pos</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Parsed: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">elm</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;rest of string:</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">repr</span><span class="p">(</span><span class="n">st</span><span class="p">[</span><span class="n">p</span><span class="p">:]))</span>
<span class="gp">... </span>    <span class="n">change_linesep</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\abc&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedLiteral&#39;, (0, 0), &#39;\\&#39;, (0, 0), &#39;\\&#39;)</span>
<span class="go">rest of string:&#39;abc&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedLiteral&#39;, (0, 0), &#39;\\&#39;, (0, 0), &#39;\\&#39;)</span>
<span class="go">rest of string:&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">$py()&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedLiteral&#39;, (0, 1), &#39;\\$&#39;, (0, 1), &#39;\\$&#39;)</span>
<span class="go">rest of string:&#39;py()&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\\\</span><span class="s2">&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedLiteral&#39;, (0, 1), &#39;\\\\&#39;, (0, 1), &#39;\\\\&#39;)</span>
<span class="go">rest of string:&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\\r</span><span class="s2">ab&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">Parsed: None</span>
<span class="go">rest of string:&#39;ab&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\\r</span><span class="s2">ab&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedLiteral&#39;, (0, 0), &#39;\\&#39;, (0, 0), &#39;\\&#39;)</span>
<span class="go">rest of string:&#39;\rab&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\\r</span><span class="s2">ab&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedLiteral&#39;, (0, 0), &#39;\\&#39;, (0, 0), &#39;\\&#39;)</span>
<span class="go">rest of string:&#39;\rab&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\\n</span><span class="s2">ab&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedLiteral&#39;, (0, 0), &#39;\\&#39;, (0, 0), &#39;\\&#39;)</span>
<span class="go">rest of string:&#39;\nab&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\\n</span><span class="s2">ab&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">Parsed: None</span>
<span class="go">rest of string:&#39;ab&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\\n</span><span class="s2">ab&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedLiteral&#39;, (0, 0), &#39;\\&#39;, (0, 0), &#39;\\&#39;)</span>
<span class="go">rest of string:&#39;\nab&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\\r\n</span><span class="s2">ab&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">Parsed: None</span>
<span class="go">rest of string:&#39;\nab&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\\r\n</span><span class="s2">ab&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedLiteral&#39;, (0, 0), &#39;\\&#39;, (0, 0), &#39;\\&#39;)</span>
<span class="go">rest of string:&#39;\r\nab&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\\r\n</span><span class="s2">ab&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">Parsed: None</span>
<span class="go">rest of string:&#39;ab&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.parser.parseBracketed">
<span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">parseBracketed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#parseBracketed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.parseBracketed" title="Link to this definition"></a></dt>
<dd><p>parse an identifier in curly brackets.</p>
<p>Here are some examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">st</span><span class="p">,</span><span class="n">pos</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">idxst</span><span class="o">=</span> <span class="n">IndexedString</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="o">=</span> <span class="n">parseBracketed</span><span class="p">(</span><span class="n">idxst</span><span class="p">,</span><span class="n">pos</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">st</span><span class="p">[</span><span class="n">a</span><span class="p">:</span><span class="n">b</span><span class="p">])</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;</span><span class="si">{abc}</span><span class="s1">&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">{abc}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;</span><span class="si">{ab8c}</span><span class="s1">&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">{ab8c}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;</span><span class="si">{c}</span><span class="s1">&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">{c}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">ParseException</span>: <span class="n">command enclosed in curly brackets at line 1, col 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;{abc&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">ParseException</span>: <span class="n">command enclosed in curly brackets at line 1, col 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;x</span><span class="si">{ab8c}</span><span class="s1">&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">{ab8c}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.parser.parseCode">
<span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">parseCode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#parseCode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.parseCode" title="Link to this definition"></a></dt>
<dd><p>parse python code, it MUST start with a ‘(‘.</p>
<p>Here are some examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">st</span><span class="p">,</span><span class="n">pos</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">idxst</span><span class="o">=</span> <span class="n">IndexedString</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="o">=</span> <span class="n">parseCode</span><span class="p">(</span><span class="n">idxst</span><span class="p">,</span><span class="n">pos</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">st</span><span class="p">[</span><span class="n">a</span><span class="p">:</span><span class="n">b</span><span class="p">])</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(a+b)&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(a+b)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(a+(b*c))&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(a+(b*c))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(a+(b*c)+&quot;)&quot;)&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(a+(b*c)+&quot;)&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(a+(b*c)+&#39;&#39;&#39;)&#39;&#39;&#39;)&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(a+(b*c)+&#39;&#39;&#39;)&#39;&#39;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(a+(b*c)+&#39;&#39;&#39;)&#39;&#39;&#39;+# comment )\n)&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">ParseException</span>: <span class="n">end of bracket expression not found at line 1, col 1</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;(a+(b*c)+&#39;&#39;&#39;)&#39;&#39;&#39;+# comment )</span><span class="se">\n</span><span class="s2">)&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(a+(b*c)+&#39;&#39;&#39;)&#39;&#39;&#39;+# comment )</span>
<span class="go">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.parser.parseComment">
<span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">parseComment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#parseComment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.parseComment" title="Link to this definition"></a></dt>
<dd><p>parse a python comment.</p>
<p>Here are some examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">st</span><span class="p">,</span><span class="n">pos</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">sep</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">change_linesep</span><span class="p">(</span><span class="n">sep</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">idxst</span><span class="o">=</span> <span class="n">IndexedString</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="o">=</span> <span class="n">parseComment</span><span class="p">(</span><span class="n">idxst</span><span class="p">,</span><span class="n">pos</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">st</span><span class="p">[</span><span class="n">a</span><span class="p">:</span><span class="n">b</span><span class="p">]))</span>
<span class="gp">... </span>    <span class="n">change_linesep</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;#abc&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;#abc&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;#abc</span><span class="se">\n</span><span class="s2">ef&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">&#39;#abc\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;#abc</span><span class="se">\r\n</span><span class="s2">ef&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">&#39;#abc\r\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;xy#abc&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;#abc&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;xy#abc</span><span class="se">\n</span><span class="s2">ef&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">&#39;#abc\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;xy#abc</span><span class="se">\n</span><span class="s2">ef&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">ParseException</span>: <span class="n">start of comment not found at line 1, col 4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.parser.parseDollar">
<span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">parseDollar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#parseDollar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.parseDollar" title="Link to this definition"></a></dt>
<dd><p>parse things that follow a dollar.</p>
<p>Here are some examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">st</span><span class="p">,</span><span class="n">pos</span><span class="p">):</span>
<span class="gp">... </span>  <span class="n">idxst</span><span class="o">=</span> <span class="n">IndexedString</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
<span class="gp">... </span>  <span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">elm</span><span class="p">)</span><span class="o">=</span> <span class="n">parseDollar</span><span class="p">(</span><span class="n">idxst</span><span class="p">,</span><span class="n">pos</span><span class="p">)</span>
<span class="gp">... </span>  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Parsed: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">elm</span><span class="p">)</span>
<span class="gp">... </span>  <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;rest of string:</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">st</span><span class="p">[</span><span class="n">p</span><span class="p">:])</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;$abc&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedPureCommand&#39;, (1, 3), &#39;abc&#39;, (0, 3), &#39;$abc&#39;)</span>
<span class="go">rest of string:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;$abc%&amp;/&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedPureCommand&#39;, (1, 3), &#39;abc&#39;, (0, 3), &#39;$abc&#39;)</span>
<span class="go">rest of string:%&amp;/</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;$abc(2*3)&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedCommand&#39;, (5, 7), &#39;abc&#39;, &#39;2*3&#39;, (0, 8), &#39;$abc(2*3)&#39;)</span>
<span class="go">rest of string:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot; $abc(2*sin(x))&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedCommand&#39;, (6, 13), &#39;abc&#39;, &#39;2*sin(x)&#39;, (1, 14), &#39;$abc(2*sin(x))&#39;)</span>
<span class="go">rest of string:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot; $abc(2*sin(x))bn&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedCommand&#39;, (6, 13), &#39;abc&#39;, &#39;2*sin(x)&#39;, (1, 14), &#39;$abc(2*sin(x))&#39;)</span>
<span class="go">rest of string:bn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot; $# a comment</span><span class="se">\n</span><span class="s2">new line&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedComment&#39;, (3, 13), &#39; a comment\n&#39;, (1, 13), &#39;$# a comment\n&#39;)</span>
<span class="go">rest of string:new line</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;$(abc)&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedVar&#39;, (2, 4), &#39;abc&#39;, (0, 5), &#39;$(abc)&#39;)</span>
<span class="go">rest of string:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;$(abc*2)&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedEval&#39;, (2, 6), &#39;abc*2&#39;, (0, 7), &#39;$(abc*2)&#39;)</span>
<span class="go">rest of string:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot; $(2*x(y))abc&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedEval&#39;, (3, 8), &#39;2*x(y)&#39;, (1, 9), &#39;$(2*x(y))&#39;)</span>
<span class="go">rest of string:abc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot; $   (2*x(y))abc&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Parsed: (&#39;ParsedEval&#39;, (6, 11), &#39;2*x(y)&#39;, (1, 12), &#39;$   (2*x(y))&#39;)</span>
<span class="go">rest of string:abc</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.parser.parseStringLiteral">
<span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">parseStringLiteral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#parseStringLiteral"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.parseStringLiteral" title="Link to this definition"></a></dt>
<dd><p>parse a python string literal.</p>
<p>returns 2 numbers, the index where the string starts and
the index of the first character <em>after</em> the string</p>
<p>Here are some examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">test</span><span class="p">(</span><span class="n">st</span><span class="p">,</span><span class="n">pos</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">idxst</span><span class="o">=</span> <span class="n">IndexedString</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="o">=</span> <span class="n">parseStringLiteral</span><span class="p">(</span><span class="n">idxst</span><span class="p">,</span><span class="n">pos</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">st</span><span class="p">[</span><span class="n">a</span><span class="p">:</span><span class="n">b</span><span class="p">])</span>
<span class="gp">...</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;&quot;abc&quot;&#39;&#39;&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&quot;abc&quot;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;&#39;&#39;&#39;ab&#39;c&#39;d&#39;&#39;&#39;&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;&#39;&#39;ab&#39;c&#39;d&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="s2">&quot;&#39;&#39;&#39;ab&#39;cd&#39;&#39;&#39;&#39;&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">&#39;&#39;&#39;ab&#39;cd&#39;&#39;&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;F&quot;abc&quot;&#39;&#39;&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">F&quot;abc&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;xF&quot;abc&quot;&#39;&#39;&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">F&quot;abc&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;xFr&quot;abc&quot;&#39;&#39;&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Fr&quot;abc&quot;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;xFr&quot;ab\\&quot;c&quot;&#39;&#39;&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Fr&quot;ab\\&quot;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;xFr&quot;ab\&quot;c&quot;&#39;&#39;&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Fr&quot;ab\&quot;c&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;xFr&quot;ab\&quot;c&quot;&#39;&#39;&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">ParseException</span>: <span class="n">start of string expected at line 1, col 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;&quot;ab&#39;&#39;&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">ParseException</span>: <span class="n">end of string not found at line 1, col 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;&#39;&#39;&#39;ab&#39;&quot;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">ParseException</span>: <span class="n">end of string not found at line 1, col 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;&quot;ab\&quot;&#39;&#39;&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">ParseException</span>: <span class="n">end of string not found at line 1, col 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.parser.pprint">
<span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">pprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parselist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#pprint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.pprint" title="Link to this definition"></a></dt>
<dd><p>pretty print a parselist.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.parser.scanPyIdentList">
<span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">scanPyIdentList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">st</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#scanPyIdentList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.scanPyIdentList" title="Link to this definition"></a></dt>
<dd><p>scan a list of python identifiers.</p>
<p>Here are some examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">scanPyIdentList</span><span class="p">(</span><span class="s2">&quot;a,b&quot;</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scanPyIdentList</span><span class="p">(</span><span class="s2">&quot;a,b.d, c&quot;</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;b.d&#39;, &#39;c&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scanPyIdentList</span><span class="p">(</span><span class="s2">&quot;a,b.d, c&amp;&quot;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="w">    </span><span class="o">...</span>
<span class="gr">ParseException</span>: <span class="n">list of python identifiers expected</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyexpander.parser.scanPyIn">
<span class="sig-prename descclassname"><span class="pre">pyexpander.parser.</span></span><span class="sig-name descname"><span class="pre">scanPyIn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">st</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyexpander/parser.html#scanPyIn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyexpander.parser.scanPyIn" title="Link to this definition"></a></dt>
<dd><p>scan a python “in” statement.</p>
<p>Here are some examples:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">scanPyIn</span><span class="p">(</span><span class="s2">&quot; (a,b) in k.items() &quot;</span><span class="p">)</span>
<span class="go">(&#39;(a,b)&#39;, &#39;in&#39;, &#39;k.items()&#39;)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-expander">
<span id="expander-script"></span><h2>expander script<a class="headerlink" href="#module-expander" title="Link to this heading"></a></h2>
<p>expander.py: this is the pyexpander application.</p>
<dl class="py function">
<dt class="sig sig-object py" id="expander.check_encoding">
<span class="sig-prename descclassname"><span class="pre">expander.</span></span><span class="sig-name descname"><span class="pre">check_encoding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">encoding</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expander.html#check_encoding"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expander.check_encoding" title="Link to this definition"></a></dt>
<dd><p>check if the encoding name is valid.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="expander.main">
<span class="sig-prename descclassname"><span class="pre">expander.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/expander.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expander.main" title="Link to this definition"></a></dt>
<dd><p>The main function.</p>
<p>parse the command-line options and perform the command</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="expander.print_summary">
<span class="sig-prename descclassname"><span class="pre">expander.</span></span><span class="sig-name descname"><span class="pre">print_summary</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/expander.html#print_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expander.print_summary" title="Link to this definition"></a></dt>
<dd><p>print a short summary of the scripts function.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="expander.process_files">
<span class="sig-prename descclassname"><span class="pre">expander.</span></span><span class="sig-name descname"><span class="pre">process_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/expander.html#process_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expander.process_files" title="Link to this definition"></a></dt>
<dd><p>process all the command line options.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="expander.script_shortname">
<span class="sig-prename descclassname"><span class="pre">expander.</span></span><span class="sig-name descname"><span class="pre">script_shortname</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/expander.html#script_shortname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#expander.script_shortname" title="Link to this definition"></a></dt>
<dd><p>return the name of this script without a path component.</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pyexpander-install.html" class="btn btn-neutral float-left" title="Installing pyexpander" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="license.html" class="btn btn-neutral float-right" title="Pyexpander License" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Helmholtz-Zentrum Berlin GmbH.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>