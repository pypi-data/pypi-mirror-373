query GetReviewThreads($owner: String!, $repo: String!, $prNumber: Int!, $cursor: String) {
    repository(owner: $owner, name: $repo) {
        pullRequest(number: $prNumber) {
            url
            body
            bodyText
            closed
            merged
            mergeable
            createdAt
            updatedAt
            author {
                login
                avatarUrl
                ... on User {
                    databaseId
                    kind: __typename
                }
                ... on Bot {
                    databaseId
                    kind: __typename
                }

            }
            reviewThreads(first: 100, after: $cursor) {
                pageInfo {
                    hasNextPage
                    endCursor
                }
                nodes {
                    isCollapsed
                    isOutdated
                    isResolved
                    resolvedBy {
                        login
                        avatarUrl
                        ... on User {
                            databaseId
                            kind: __typename
                        }
                    }
                    comments(first: 100) {
                        nodes {
                            body
                            bodyText
                            createdAt
                            updatedAt
                            url
                            path
                            line
                            isMinimized
                            minimizedReason
                            outdated
                            author {
                                login
                                avatarUrl
                                ... on User {
                                    databaseId
                                    kind: __typename
                                }
                                ... on Bot {
                                    databaseId
                                    kind: __typename
                                }
                            }
                            commit {
                                abbreviatedOid
                            }
                        }
                        pageInfo {
                            hasNextPage
                            endCursor
                        }
                    }
                }
            }
        }
    }
}
