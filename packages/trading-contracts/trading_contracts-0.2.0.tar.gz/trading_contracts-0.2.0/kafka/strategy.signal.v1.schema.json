{
  "$id": "kafka/strategy.signal.v1.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "strategy.signal@v1",
  "type": "object",
  "required": ["event_id","version","instance_id","symbol","side","price","ts"],
  "properties": {
    "event_id": {"type":"string"},
    "version": {"const":1},
    "instance_id": {"type":"string"},
    "symbol": {"type":"string"},
    "instrument_key": {"type":"string"},
    "side": {"enum":["BUY","SELL"]},
    "price": {"type":["string","number"], "pattern":"^-?\\d+(\\.\\d+)?$"},
    "strength": {"type":["string","number"]},
    "ts": {"type":"string", "format":"date-time"},
    "produced_at": {"type":"string","format":"date-time"}
  },
  "additionalProperties": false
}
