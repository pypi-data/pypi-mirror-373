Metadata-Version: 2.4
Name: bili_stalker_mcp
Version: 1.0.5
Summary: MCP Server for getting Bilibili user video updates
Author-email: 222wcnm <222wcnm@gmail.com>
License: MIT
Project-URL: Homepage, https://github.com/222wcnm/BiliStalkerMCP
Keywords: mcp,bilibili,stalker
Classifier: Development Status :: 4 - Beta
Classifier: Programming Language :: Python
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: bilibili-api-python
Requires-Dist: fastmcp
Requires-Dist: pyyaml>=6.0
Requires-Dist: requests

# BiliStalkerMCP (bç«™ç”¨æˆ·è§†ç›‘MCP)

[![Python](https://img.shields.io/badge/Python-3.10+-blue?logo=python)](https://www.python.org/)
[![PyPI](https://img.shields.io/pypi/v/bili_stalker_mcp.svg)](https://pypi.org/project/bili_stalker_mcp/)
[![FastMCP](https://img.shields.io/badge/MCP-FastMCP-orange)](https://github.com/jlowin/fastmcp)
[![bilibili-api](https://img.shields.io/badge/Bilibili-API-ff69b4)](https://github.com/Nemo2011/bilibili-api)

**BiliStalkerMCP** æ˜¯ä¸€ä¸ªåŸºäº MCP (Model Context Protocol) çš„æœåŠ¡ï¼Œå…è®¸AIæ¨¡å‹é€šè¿‡æ ‡å‡†åŒ–åè®®è·å–æŒ‡å®šBilibiliç”¨æˆ·çš„æœ€æ–°è§†é¢‘å’ŒåŠ¨æ€æ›´æ–°ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…

é€šè¿‡ `uvx` æˆ– `pipx`ï¼Œä½ å¯ä»¥è½»æ¾åœ°åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œ `bili-stalker-mcp`ï¼Œè€Œæ— éœ€æ‹…å¿ƒé¡¹ç›®è·¯å¾„æˆ–è™šæ‹Ÿç¯å¢ƒã€‚

```bash
uvx bili-stalker-mcp
```

### 2. MCPå®¢æˆ·ç«¯é…ç½®

å°†ä»¥ä¸‹é…ç½®æ·»åŠ åˆ°ä½ çš„MCPå®¢æˆ·ç«¯ï¼ˆå¦‚Clineï¼‰çš„ `settings.json` æ–‡ä»¶ä¸­ï¼š

```json
{
  "mcpServers": {
    "bilistalker": {
      "command": "uvx",
      "args": [
        "bili-stalker-mcp"
      ],
      "env": {
        "SESSDATA": "æ‚¨çš„SESSDATA",
        "BILI_JCT": "æ‚¨çš„BILI_JCT",
        "BUVID3": "æ‚¨çš„BUVID3"
      }
    }
  }
}
```

> **å¦‚ä½•è·å–Cookie?**
> 1. ç™»å½• [bilibili.com](https://www.bilibili.com)
> 2. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· (F12)
> 3. åˆ‡æ¢åˆ° `Application` -> `Cookies` -> `https://www.bilibili.com`
> 4. å¤åˆ¶ `SESSDATA`, `bili_jct`, å’Œ `buvid3` çš„å€¼

> âš ï¸ **å®‰å…¨æç¤º**: ä¸è¦å°†åŒ…å«å‡­è¯çš„é…ç½®æ–‡ä»¶æäº¤åˆ°å…¬å…±ä»“åº“

---

## âœ¨ åŠŸèƒ½

- ğŸ” ç”¨æˆ·è§†é¢‘è·å–ï¼šè·å–Bç«™ç”¨æˆ·çš„æœ€æ–°è§†é¢‘åˆ—è¡¨
- ğŸ“± åŠ¨æ€æ›´æ–°ç›‘æ§ï¼šè·å–ç”¨æˆ·åŠ¨æ€ï¼ŒæŒ‰æ—¶é—´è½´å±•ç¤º
- ğŸ”— æ™ºèƒ½ç”¨æˆ·åŒ¹é…ï¼šæ”¯æŒç”¨æˆ·åæˆ–ç”¨æˆ·IDåŒé‡æŸ¥è¯¢
- ğŸ¯ å†…å®¹ç±»å‹è¿‡æ»¤ï¼šæ”¯æŒè§†é¢‘ã€æ–‡ç« ç­‰å¤šç§åŠ¨æ€ç±»å‹ç­›é€‰
- ğŸ“Š æ•°æ®ç»“æ„è§„èŒƒï¼šæä¾›æ ‡å‡†åŒ–JSONè¾“å‡ºæ ¼å¼

---

## ğŸ’¬ æç¤ºé¢„è®¾

- **`format_video_response`**: è§†é¢‘æ•°æ®è§„èŒƒåŒ–å±•ç¤ºï¼ŒåŒ…å«æ’­æ”¾é‡æ’åº
- **`format_dynamic_response`**: åŠ¨æ€å…¨ç±»å‹æ—¶é—´è½´æ˜¾ç¤º
- **`analyze_user_activity`**: å¤šç»´åº¦ç”¨æˆ·åˆ›ä½œæ´»è·ƒåº¦åˆ†æ

---

## ğŸ› ï¸ å·¥å…·

### `get_user_video_updates`
Bç«™ç”¨æˆ·è§†é¢‘åˆ—è¡¨æŸ¥è¯¢å·¥å…·ï¼Œæ”¯æŒç”¨æˆ·åè‡ªåŠ¨æœç´¢ï¼Œè¿”å›å®Œæ•´çš„è§†é¢‘ç»Ÿè®¡ä¿¡æ¯ã€‚

### `get_user_dynamic_updates`
Bç«™ç”¨æˆ·åŠ¨æ€è·å–å·¥å…·ï¼Œæ”¯æŒå¤šç±»å‹è¿‡æ»¤ï¼Œè¿”å›å®Œæ•´çš„åŠ¨æ€å†…å®¹å’Œäº’åŠ¨ç»Ÿè®¡ã€‚

---

## ğŸ“ èµ„æºæ”¯æŒ

### ç”¨æˆ·ä¿¡æ¯èµ„æº
- URI: `bili://user/{user_id}/info`
- è·å–ç”¨æˆ·åŸºæœ¬ä¿¡æ¯

### ç”¨æˆ·è§†é¢‘èµ„æº
- URI: `bili://user/{user_id}/videos`
- è·å–ç”¨æˆ·è§†é¢‘åˆ—è¡¨

### ç”¨æˆ·åŠ¨æ€èµ„æº
- URI: `bili://user/{user_id}/dynamics`
- è·å–ç”¨æˆ·åŠ¨æ€æ›´æ–°

### æ•°æ®ç»“æ„Schemaèµ„æº
- URI: `bili://schemas`
- è·å–è§†é¢‘å’ŒåŠ¨æ€çš„æ•°æ®ç»“æ„å®šä¹‰ï¼Œå¸®åŠ©æ¨¡å‹ç†è§£è¾“å‡ºæ ¼å¼

### èµ„æºè®¿é—®ç¤ºä¾‹
```python
# é€šè¿‡URIç›´æ¥è®¿é—®èµ„æºï¼ˆåœ¨æ”¯æŒèµ„æºçš„MCPå®¢æˆ·ç«¯ä¸­ï¼‰
read_resource("bili://user/123456/info")
read_resource("bili://user/123456/videos")
read_resource("bili://user/123456/dynamics")
```

---

## ğŸ“ è®¸å¯è¯

[MIT License](https://github.com/222wcnm/BiliStalkerMCP/blob/main/LICENSE)
