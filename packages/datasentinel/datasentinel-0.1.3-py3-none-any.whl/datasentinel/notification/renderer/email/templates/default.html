<!doctype html>
<html>
<body>
<div
        style='background-color:#F5F5F5;color:#262626;font-family:"Helvetica Neue", "Arial Nova", "Nimbus Sans", Arial, sans-serif;font-size:16px;font-weight:400;letter-spacing:0.15008px;line-height:1.5;margin:0;padding:32px 0;min-height:100%;width:100%'
>
    <table
            align="center"
            width="100%"
            style="margin:0 auto;max-width:600px;background-color:#FFFFFF;border-radius:12px"
            role="presentation"
            cellspacing="0"
            cellpadding="0"
            border="0"
    >
        <tbody>
        <tr style="width:100%">
            <td>
                <div style="background-color:#E5E5E5;padding:16px 24px 16px 24px">
                    <h2
                            style="font-weight:bold;margin:0;font-size:24px;padding:8px 24px 0px 24px"
                    >
                        Data Validation Results
                    </h2>
                    <div style="font-weight:normal;padding:0px 24px 0px 24px">
                        <p><strong>Data Asset:</strong> {{ result.data_asset }}</p>
                        {% if result.data_asset_schema is not none %}
                        <p><strong>Data Asset Schema:</strong> {{ result.data_asset_schema }}</p>
                        {% endif %}
                    </div>
                </div>
                <div style="padding:16px 24px 16px 24px">
                    <h2
                            style="color:#000000;font-weight:bold;text-align:left;margin:0;font-size:24px;padding:4px 24px 4px 24px"
                    >
                        Summary
                    </h2>
                    <div style="padding:4px 0px 4px 0px">
                        <hr
                                style="width:100%;border:none;border-top:1px solid #CCCCCC;margin:0"
                        />
                    </div>
                    <div style="padding:16px 24px 16px 24px">
                        <table
                                align="center"
                                width="100%"
                                cellpadding="0"
                                border="0"
                                style="table-layout:fixed;border-collapse:collapse"
                        >
                            <tbody style="width:100%">
                            <tr style="width:100%">
                                <td
                                        style="box-sizing:content-box;vertical-align:middle;padding-left:0;padding-right:10.666666666666666px"
                                >
                                    <div
                                            style="color:{% if result.status.value == 'FAIL' %}#d9534f{% else %}#1fb359{% endif %};font-size:24px;font-weight:bold;text-align:center;padding:0px 24px 0px 24px"
                                    >
                                        {{ result.status.value }}
                                    </div>
                                    <div
                                            style="color:#737373;font-size:15px;font-weight:normal;text-align:center;padding:0px 24px 0px 24px"
                                    >
                                        Status
                                    </div>
                                </td>
                                <td
                                        style="box-sizing:content-box;vertical-align:middle;padding-left:5.333333333333333px;padding-right:5.333333333333333px"
                                >
                                    <div
                                            style="font-size:24px;font-weight:bold;text-align:center;padding:0px 24px 0px 24px"
                                    >
                                        {{ result.checks_count }}
                                    </div>
                                    <div
                                            style="color:#737373;font-size:15px;font-weight:normal;text-align:center;padding:0px 24px 0px 24px"
                                    >
                                        Total Checks
                                    </div>
                                </td>
                                <td
                                        style="box-sizing:content-box;vertical-align:middle;padding-left:10.666666666666666px;padding-right:0"
                                >
                                    <div
                                            style="font-size:24px;font-weight:bold;text-align:center;padding:0px 24px 0px 24px"
                                    >
                                        {{ result.failed_checks_count }}
                                    </div>
                                    <div
                                            style="color:#737373;font-size:15px;font-weight:normal;text-align:center;padding:0px 24px 0px 24px"
                                    >
                                        Failed Checks
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <h2
                            style="font-weight:bold;margin:0;font-size:24px;padding:4px 24px 4px 24px"
                    >
                        Data Validation Details
                    </h2>
                    <div style="padding:4px 0px 4px 0px">
                        <hr
                                style="width:100%;border:none;border-top:1px solid #CCCCCC;margin:0"
                        />
                    </div>
                    <div style="padding:16px 24px 4px 24px">
                        <table
                                align="center"
                                width="100%"
                                cellpadding="0"
                                border="0"
                                style="table-layout:fixed;border-collapse:collapse"
                        >
                            <tbody style="width:100%">
                            <tr style="width:100%">
                                <td
                                        style="box-sizing:content-box;vertical-align:middle;padding-left:0;padding-right:8px"
                                >
                                    <div
                                            style="font-weight:bold;padding:0px 24px 4px 24px"
                                    >
                                        Name
                                    </div>
                                    <div
                                            style="font-size:14px;font-weight:normal;padding:0px 24px 4px 24px"
                                    >
                                        {{ result.name }}
                                    </div>
                                </td>
                                <td
                                        style="box-sizing:content-box;vertical-align:middle;padding-left:8px;padding-right:0"
                                >
                                    <div
                                            style="font-weight:bold;padding:0px 24px 4px 24px"
                                    >
                                        Run ID
                                    </div>
                                    <div
                                            style="font-size:14px;font-weight:normal;padding:0px 24px 4px 24px"
                                    >
                                        {{ result.run_id }}
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div style="padding:12px 24px 16px 24px">
                        <table
                                align="center"
                                width="100%"
                                cellpadding="0"
                                border="0"
                                style="table-layout:fixed;border-collapse:collapse"
                        >
                            <tbody style="width:100%">
                            <tr style="width:100%">
                                <td
                                        style="box-sizing:content-box;vertical-align:middle;padding-left:0;padding-right:8px"
                                >
                                    <div
                                            style="font-weight:bold;padding:0px 24px 4px 24px"
                                    >
                                        Start Time
                                    </div>
                                    <div
                                            style="font-size:14px;font-weight:normal;padding:0px 24px 4px 24px"
                                    >
                                        {{ result.start_time.isoformat() }}
                                    </div>
                                </td>
                                <td
                                        style="box-sizing:content-box;vertical-align:middle;padding-left:8px;padding-right:0"
                                >
                                    <div
                                            style="font-weight:bold;padding:0px 24px 4px 24px"
                                    >
                                        End Time
                                    </div>
                                    <div
                                            style="font-size:14px;font-weight:normal;padding:0px 24px 4px 24px"
                                    >
                                        {{ result.end_time.isoformat() }}
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    {% if result.status.value == 'FAIL' %}
                    <h2
                            style="font-weight:bold;margin:0;font-size:24px;padding:4px 24px 4px 24px"
                    >
                        Failed Checks Summary
                    </h2>
                    <div style="padding:4px 0px 4px 0px">
                        <hr
                                style="width:100%;border:none;border-top:1px solid #CCCCCC;margin:0"
                        />
                    </div>
                    <div style="padding:16px 24px 16px 24px;">
                        <table width="100%" cellpadding="0" border="0"
                               style="border-collapse:collapse; font-size: 14px;">
                            <thead style="background-color:#F5F5F5;">
                            <tr>
                                <th style="padding: 12px; text-align: left; border-bottom: 1px solid #CCCCCC;">
                                    Name
                                </th>
                                <th style="padding: 12px; text-align: left; border-bottom: 1px solid #CCCCCC;">
                                    Level
                                </th>
                                <th style="padding: 12px; text-align: left; border-bottom: 1px solid #CCCCCC;">
                                    Failed Rules
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for check in result.failed_checks %}
                            <tr style="border-bottom: 1px solid #EEEEEE;">
                                <td style="padding: 12px; vertical-align: top;">{{ check.name }}
                                </td>
                                <td style="padding: 12px; vertical-align: top;">{{
                                    check.level.name }}
                                </td>
                                <td style="padding: 12px; vertical-align: top;">
                                    <ul style="margin: 0; padding-left: 20px;">
                                        {% for rule in check.failed_rules %}
                                        <li><b>Rule:</b> {{ rule.rule }}
                                            <ul>
                                                <li><b>Index:</b> {{ rule.id }}</li>
                                                <li><b>Columns:</b> {{ rule.column }}</li>
                                                <li><b>Evaluated rows:</b> {{ rule.rows }}</li>
                                                <li><b>Violations:</b> {{ rule.violations }}</li>
                                            </ul>
                                        </li>
                                        {% endfor %}
                                    </ul>
                                </td>
                            </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    {% endif %}
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>
