function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./BuilderTemplateEditor-RWWyUHTu.js","./index-BDMDATBU.js","./index-CqCRtC_k.css","./useComponentDescription-_-KVKaN0.js","./WdsDropdownMenu-4tPFLLRl.js","./WdsCheckbox-1rateD_M.js","./WdsCheckbox-DKvpPA4D.css","./WdsDropdownMenu-BT8vFJ33.css","./useKeyValueEditor-Ctp0-O8I.js","./useKeyValueEditor-CsemOh8D.css","./BuilderTemplateEditor-CYSDeWgV.css","./BuilderEmbeddedCodeEditor-nW2rYTXy.js","./BuilderEmbeddedCodeEditor-CXloIist.css","./BuilderGraphSelect-DGMEwjeT.js","./useListResources-Aovh9UvW.js","./BuilderGraphSelect-D7B61d5s.css","./BuilderApplicationSelect-CHZa-CMY.js","./BuilderApplicationSelect-XaM1D5fv.css","./BuilderModelSelect-DP8Z0UlS.js","./BuilderModelSelect-Dc4IPLp2.css","./BuilderSettingsArtifactAPITriggerDetails-rD6mKgIb.js","./BuilderSettingsArtifactAPITriggerDetails-DnX66iRg.css","./BuilderSettingsHandlers-CM0gXbKQ.js","./BuilderApp-D-_yvLnw.js","./marked.esm-273vDTCT.js","./BuilderApp-Cl0R_q3w.css","./useBlueprintRun-B1_6nRV7.js","./BuilderSettingsHandlers-DJPeASfz.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{c as k,R as p,a0 as Qe,aU as Ze,C as et,d as D,i as R,a as W,r as H,o as s,b as $,at as tt,z as O,x,W as J,ap as ne,y as L,av as Ce,am as ie,ao as ye,aG as M,as as se,f as w,D as j,g as C,S as E,E as Z,_ as U,an as z,Q as G,m as K,q as re,G as Ee,aV as Ue,K as Ke,s as ce,a5 as nt,aM as lt,w as ve,aW as ot,a7 as je,aN as at,L as le,aX as it,aY as rt,J as Le,A as ue,t as ee,aA as Y,aZ as ge,$ as st,a_ as Ie,a6 as me,U as Fe,l as we,au as X,v as Se,a$ as ut,b0 as Te,b1 as P,b2 as dt,b3 as ct,b4 as pt,b5 as vt,b6 as mt,aF as Ne,F as N,aL as ze,u as Oe,b7 as Ge,b8 as Ve,aJ as pe,aT as ft,b9 as yt,ba as gt,bb as _t,a3 as bt}from"./index-BDMDATBU.js";import{u as Ye}from"./useComponentDescription-_-KVKaN0.js";import{a as Be,W as ht}from"./WdsDropdownMenu-4tPFLLRl.js";import{W as Q,u as St}from"./useKeyValueEditor-Ctp0-O8I.js";import{W as Je}from"./WdsCheckbox-1rateD_M.js";function*fe(e,i="",t=new WeakSet){if(!(typeof e!="object"||e===null)&&!t.has(e)){t.add(e);for(const u in e){const l=i?`${i}.${u}`:u;yield l,typeof e[u]=="object"&&e[u]!==null&&!Array.isArray(e[u])&&(yield*fe(e[u],l,t))}}}function*kt(e,i){const t=new Set;function*u(l){var n;if(t.has(l))return;t.add(l);const o=e.getComponentById(l);if(o)for(const _ of e.getComponentsNested(o.parentId))(n=_.outs)!=null&&n.some(v=>v.toNodeId===l)&&(yield _,yield*u(_.id))}yield*u(i)}function It(e,i=void 0,t=Qe()){const u=k(()=>new Set(fe(e.userStateInitial.value))),l=k(()=>{try{return Et(e,u.value)}catch(_){return t.error("Cannot compute blueprintsSetStates",_),{}}}),o=k(()=>{try{return Ct(e,u.value)}catch(_){return t.error("Cannot compute bindings",_),{}}}),n=k(()=>{try{return Bt(e,p(i))}catch(_){return t.error("Cannot compute blueprintsResults",_),{}}});return{blueprintsSetStates:l,bindings:o,blueprintsResults:n}}function Bt(e,i,t=new Set){var l;const u={};for(const o of kt(e,i)){const n=o.type,_=e.getComponentDefinition(o.type);if(!_||!(o.type&&!Ze.has(n)&&o.type.startsWith("blueprints_")&&((l=_==null?void 0:_.outs)==null?void 0:l.success)!==void 0))continue;const c=`results.${o.id}`;c&&!t.has(c)&&(u[c]??(u[c]={components:[]}),u[c].components.push(o))}return u}function Ct(e,i=new Set){var u;const t={};for(const l of et)for(const o of e.getComponentsNested(l)){const n=(u=o.binding)==null?void 0:u.stateRef;n&&!i.has(n)&&(t[n]??(t[n]={components:[]}),t[n].components.push(o))}return t}function Et(e,i=new Set){var l;function*t(){for(const o of e.getComponentsNested("blueprints_root"))o.type==="blueprints_setstate"&&o.content&&(yield o)}const u={};for(const o of t()){const n=(l=o.content)==null?void 0:l.element;!n||typeof n!="string"||i.has(n)||(u[n]??(u[n]={components:[]}),u[n].components.push(o))}return u}const xe=D({__name:"BuilderStateSelectorDropdownComponent",props:{componentId:{type:String,required:!0},path:{type:String,required:!0},selected:{type:Boolean,required:!1}},setup(e){const i=e,t=R(W.core),u=R(W.builderManager),l=H(!1),o=k(()=>t.getComponentById(i.componentId)),{name:n,possibleImageUrls:_,previewText:v}=Ye(t,o),c=k(()=>({icon:_.value,label:i.path,detail:v.value||n.value,value:i.path})),{goToComponentParentPage:S}=Ce(t,u);async function h(){await S(i.componentId),u.setSelection(i.componentId)}return(r,m)=>(s(),$(Be,{class:"BuilderStateSelectorDropdownItemComponent",option:c.value,selected:e.selected,"show-custom-action":"",onMousemove:m[1]||(m[1]=y=>l.value=!0),onMouseout:m[2]||(m[2]=y=>l.value=!1)},tt({_:2},[l.value?{name:"action",fn:O(()=>[x(J,{variant:"neutral",size:"smallIcon","data-writer-tooltip":"Jump to this block",onClick:ne(h,["prevent"]),onMousemove:m[0]||(m[0]=y=>l.value=!0)},{default:O(()=>[x(L,{name:"square-dashed-mouse-pointer"})]),_:1})]),key:"0"}:void 0]),1032,["option","selected"]))}}),wt={class:"BuilderStateSelectorDropdown"},xt={key:1,class:"BuilderStateSelectorDropdown__empty"},$t={key:2,class:"BuilderStateSelectorDropdown__section"},Tt={key:3,class:"BuilderStateSelectorDropdown__section"},Vt={key:4,class:"BuilderStateSelectorDropdown__section"},Ft={key:5,class:"BuilderStateSelectorDropdown__section"},Ot={key:6,class:"BuilderStateSelectorDropdown__section"},qt=D({__name:"BuilderStateSelectorDropdown",props:ie({componentId:{type:String,required:!1,default:void 0},query:{type:String,required:!1,default:""},allowCreate:{type:Boolean,required:!1},hideSecrets:{type:Boolean,required:!1},hideBlueprintResults:{type:Boolean,required:!1}},{modelValue:{type:String},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const i=e,t=R(W.core),u=R(W.secretsManager),l=ye(e,"modelValue"),o=It(t,M(i,"componentId")),n=k(()=>{const y=[];for(const b of fe(t.userStateInitial.value))i.query&&!b.includes(i.query)||y.push({value:b,label:b,icon:"code",iconBgColor:se.Green2});return y.sort((b,I)=>b.label.localeCompare(I.label))}),_=k(()=>{if(i.hideSecrets)return[];const y=[];for(const b of fe(u.secrets.value)){const I=`vault.${b}`;i.query&&!I.includes(i.query)||y.push({value:`vault.${b}`,label:b,icon:"key-round",iconBgColor:se.Yellow2})}return y.sort((b,I)=>b.label.localeCompare(I.label))}),v=k(()=>h(o.bindings.value)),c=k(()=>h(o.blueprintsSetStates.value)),S=k(()=>i.hideBlueprintResults?[]:h(o.blueprintsResults.value));function h(y){return Object.entries(y).map(([b,{components:I}])=>{for(const q of I)if(q.id!==i.componentId)return{componentId:q.id,path:b}}).filter(b=>!(!b||i.query&&!b.path.includes(i.query)))}const r=k(()=>!i.allowCreate||!i.query||i.query.endsWith(".")?!1:!(n.value.some(b=>b.value===i.query)||_.value.some(b=>b.value===i.query)||S.value.some(b=>b.path===i.query)||v.value.some(b=>b.path===i.query))),m=k(()=>!!(n.value.length||c.value.length||v.value.length||S.value.length||_.value.length));return(y,b)=>(s(),w("div",wt,[r.value?(s(),w(j,{key:0},[b[1]||(b[1]=C("p",{class:"BuilderStateSelectorDropdown__section__title"}," Add new variable ",-1)),x(Be,{option:{value:e.query,label:e.query,icon:"plus",iconBgColor:p(se).Blue4,iconColor:p(se).White},onClick:b[0]||(b[0]=ne(I=>l.value=e.query,["stop"]))},null,8,["option"])],64)):m.value?E("",!0):(s(),w("div",xt," No result ")),c.value.length?(s(),w("div",$t,[b[2]||(b[2]=C("p",{class:"BuilderStateSelectorDropdown__section__title"}," Set states ",-1)),(s(!0),w(j,null,Z(c.value,I=>(s(),$(xe,{key:I.path,path:I.path,"component-id":I.componentId,selected:I.path===l.value,onClick:ne(q=>l.value=I.path,["stop"])},null,8,["path","component-id","selected","onClick"]))),128))])):E("",!0),v.value.length?(s(),w("div",Tt,[b[3]||(b[3]=C("p",{class:"BuilderStateSelectorDropdown__section__title"}," Interface variables ",-1)),(s(!0),w(j,null,Z(v.value,I=>(s(),$(xe,{key:I.path,path:I.path,"component-id":I.componentId,selected:I.path===l.value,onClick:ne(q=>l.value=I.path,["stop"])},null,8,["path","component-id","selected","onClick"]))),128))])):E("",!0),!e.hideBlueprintResults&&S.value.length?(s(),w("div",Vt,[b[4]||(b[4]=C("p",{class:"BuilderStateSelectorDropdown__section__title"}," block results ",-1)),(s(!0),w(j,null,Z(S.value,I=>(s(),$(xe,{key:I.path,path:I.path,"component-id":I.componentId,selected:I.path===l.value,onClick:ne(q=>l.value=I.path,["stop"])},null,8,["path","component-id","selected","onClick"]))),128))])):E("",!0),!e.hideSecrets&&_.value.length?(s(),w("div",Ft,[b[5]||(b[5]=C("p",{class:"BuilderStateSelectorDropdown__section__title"},"Secrets",-1)),(s(!0),w(j,null,Z(_.value,I=>(s(),$(Be,{key:I.value,option:I,selected:I.value===l.value,onClick:ne(q=>l.value=I.value,["stop"])},null,8,["option","selected","onClick"]))),128))])):E("",!0),n.value.length?(s(),w("div",Ot,[b[6]||(b[6]=C("p",{class:"BuilderStateSelectorDropdown__section__title"}," main.py variables ",-1)),(s(!0),w(j,null,Z(n.value,I=>(s(),$(Be,{key:I.value,option:I,selected:I.value===l.value,onClick:ne(q=>l.value=I.value,["stop"])},null,8,["option","selected","onClick"]))),128))])):E("",!0)]))}}),Mt=U(qt,[["__scopeId","data-v-d28f7ad6"]]),At=D({__name:"BuilderTemplateInputTemplate",props:ie({leftIcon:{type:String,required:!1,default:void 0},rightIcon:{type:String,required:!1,default:void 0},invalid:{type:Boolean,required:!1},variant:{type:String,default:void 0},autofocus:{type:Boolean},multiline:{type:Boolean,required:!1}},{modelValue:{type:String},modelModifiers:{}}),emits:ie({rightIconClick:()=>!0,input:e=>!!e},["update:modelValue"]),setup(e,{expose:i,emit:t}){const u=z({loader:()=>G(()=>import("./BuilderTemplateEditor-RWWyUHTu.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url)}),l=ye(e,"modelValue"),o=e,n=t;i({focus:r,getSelection:h,value:l,setSelectionEnd:S,setSelectionStart:c});const _=K("input");re(()=>{o.autofocus&&r()});async function v(m){l.value=m,n("input",{target:{value:m}})}function c(m){var y;(y=_.value)==null||y.setSelectionStart(m)}function S(m){var y;(y=_.value)==null||y.setSelectionEnd(m)}function h(){var m;return(m=_.value)==null?void 0:m.getSelection()}function r(){var m;(m=_.value)==null||m.focus()}return(m,y)=>(s(),$(Ue,{"left-icon":e.leftIcon,"right-icon":e.rightIcon,invalid:e.invalid,variant:e.variant,class:Ee(["BuilderTemplateInputTemplate",{"BuilderTemplateInputTemplate--singleline":!e.multiline,"BuilderTemplateInputTemplate--multiline":e.multiline}]),onRightIconClick:y[0]||(y[0]=b=>m.$emit("rightIconClick")),onClick:r},{default:O(()=>[x(p(u),{ref_key:"input",ref:_,class:"BuilderTemplateInputTemplate__input",multiline:e.multiline,"model-value":l.value,"onUpdate:modelValue":v},null,8,["multiline","model-value"])]),_:1},8,["left-icon","right-icon","invalid","variant","class"]))}}),Dt=U(At,[["__scopeId","data-v-2789dd2e"]]),Rt={class:"BuilderTemplateInputState__content"},Wt=D({__name:"BuilderTemplateInputState",props:ie({rightIcon:{type:String,required:!1,default:void 0}},{modelValue:{type:String},modelModifiers:{}}),emits:ie({rightIconClick:()=>!0},["update:modelValue"]),setup(e,{expose:i}){i({focus:r,setSelectionStart:c,setSelectionEnd:S,getSelection:h});const t=R(W.core),u=K("input"),l=ye(e,"modelValue"),o=H(!1),n=k(()=>!l.value&&!o.value),_=k(()=>new Set(fe(t.userStateInitial.value))),v=k(()=>({opacity:n.value?0:void 0,backgroundColor:_.value.has(l.value)?se.Green2:se.Gray1}));function c(m){u.value&&(u.value.selectionStart=m)}function S(m){u.value&&(u.value.selectionEnd=m)}function h(){var m,y;return{selectionStart:(m=u.value)==null?void 0:m.selectionStart,selectionEnd:(y=u.value)==null?void 0:y.selectionEnd}}function r(){var m;(m=u.value)==null||m.focus()}return(m,y)=>(s(),$(Ue,{class:"BuilderTemplateInputState","left-icon":n.value?"at-sign":void 0,"right-icon":e.rightIcon,onRightIconClick:y[3]||(y[3]=b=>m.$emit("rightIconClick")),onClick:y[4]||(y[4]=b=>p(u).focus())},{default:O(()=>[C("div",Rt,[C("div",{class:"BuilderTemplateInputState__content__tag",style:Ke(v.value)},[y[5]||(y[5]=C("span",null,"@",-1)),ce(C("input",{ref_key:"input",ref:u,"onUpdate:modelValue":y[0]||(y[0]=b=>l.value=b),type:"text",onFocus:y[1]||(y[1]=b=>o.value=!0),onBlur:y[2]||(y[2]=b=>o.value=!1)},null,544),[[nt,l.value]])],4)])]),_:1},8,["left-icon","right-icon"]))}}),Pt=U(Wt,[["__scopeId","data-v-f03927da"]]);function Ut(e,i){const t=e.lastIndexOf("@");if(t!==-1){let u=t;const o=e.slice(t).indexOf("{");return o!==-1&&(u+=o+1),e.indexOf("}",u)!==-1?e.substring(0,t)+`@{${i}}`:e.slice(0,t)+`@{${i}}`}return e+`@{${i}}`}function Kt(e){const i=e.lastIndexOf("@");if(i===-1)return"";const t=e.slice(i);return t.includes("}")||t.includes(`
`)||!t.startsWith("@{")&&t.includes(" ")?"":t.replace(/^@{?/,"")}function jt(e,i){return function(u){var v;if(!e.value)return;let l=0;if(u.key==="ArrowDown"?l=1:u.key==="ArrowUp"&&(l=-1),l===0)return;const o=Array.from(e.value.querySelectorAll("button")).filter(c=>!c.hasAttribute("disabled")&&c.offsetParent!==null);let n=l===1?o[0]:o.at(-1);const _=o.indexOf(document.activeElement);_!==-1&&(n=o[_+l]),n?(n.focus(),u.preventDefault()):(v=i==null?void 0:i.nextFocusNotFound)==null||v.call(i)}}const Lt=D({__name:"BuilderTemplateInput",props:{inputId:{type:String,required:!1,default:void 0},componentId:{type:String,required:!1,default:void 0},value:{type:String,required:!1,default:void 0},multiline:{type:Boolean,required:!1},variant:{type:String,required:!1,default:void 0},type:{type:String,required:!1,default:"template"},options:{type:Object,required:!1,default:void 0},placeholder:{type:String,required:!1,default:void 0},error:{type:String,required:!1,default:void 0},autofocus:{type:Boolean},readonly:{type:Boolean}},emits:["input","update:value"],setup(e,{expose:i,emit:t}){const u=e,l=t,o=K("root"),n=K("input"),_=K("dropdown"),v=H(),{floatingStyles:c,update:S}=lt(o,_,{placement:"bottom-start",middleware:[it(),rt({apply({rects:a,elements:d}){Object.assign(d.floating.style,{minWidth:`${a.reference.width}px`,maxWidth:`${a.reference.width}px`})}})],strategy:"fixed"});h();function h(){let a;function d(){a&&a(),a=void 0}ve(_,()=>{d(),_.value&&(a=ot(n,_.value,S))}),je(()=>d())}i({focus:()=>{var a;return(a=n.value)==null?void 0:a.focus()}});const r=k(()=>u.options?Object.entries(u.options).reduce((a,[d,V])=>(d.includes(u.value)&&a.push({value:d,label:V}),a),[]):[]),m=jt(_,{nextFocusNotFound:()=>{var a;v.value=void 0,(a=n.value)==null||a.focus()}});function y(){r.value.length>0&&(v.value="static")}const b=k(()=>{var B,T;if(u.type==="state")return u.value;let a=((B=n.value)==null?void 0:B.value)??"";if(!a)return"";const{selectionStart:d}=((T=n.value)==null?void 0:T.getSelection())??{},V=a.slice(0,d);return Kt(V)}),I=at(o);ve(I,async()=>{I.value||(await le(),setTimeout(()=>{v.value=void 0},300))});async function q(a){var A,oe;let d=((A=n.value)==null?void 0:A.value)??"";const{selectionStart:V,selectionEnd:B}=((oe=n.value)==null?void 0:oe.getSelection())??{};let T=V??d.length;if(u.type==="template"){const be=d.slice(0,V),he=d.slice(B).replace(/^(\})+/,""),de=Ut(be,a);d=`${de}${he}`,T=de.length}else d=a,T=a.length;l("input",{target:{value:d}}),l("update:value",d),n.value&&(n.value.focus(),v.value=void 0,await le(),n.value.setSelectionStart(T))}async function F(a){l("input",{target:{value:a}}),l("update:value",a),n.value&&(n.value.focus(),v.value=void 0,await le(),n.value.setSelectionStart(a.length))}function g(a){f({target:{value:a}})}function f(a){var A;let d=String(a.target.value??"");if(l("input",a),l("update:value",d),u.type==="state"){v.value="template";return}if(r.value.some(oe=>oe.value.includes(d))){v.value="static";return}const{selectionStart:V}=((A=n.value)==null?void 0:A.getSelection())??{},B=d.slice(0,V),T=!!B.match(/@\{([^}{@]*)$/)||B.endsWith("@")||!!b.value;v.value=T?"template":void 0}return(a,d)=>(s(),w("div",{ref_key:"root",ref:o,class:"BuilderTemplateInput",onKeydown:d[2]||(d[2]=ne((...V)=>p(m)&&p(m)(...V),["stop"]))},[e.type==="template"?(s(),$(Dt,{key:0,ref_key:"input",ref:n,"model-value":u.value,placeholder:u.placeholder,list:u.options?`list-${u.inputId}`:void 0,invalid:e.error!==void 0,autofocus:e.autofocus,readonly:e.readonly,multiline:e.multiline,onInput:f,onClick:y},null,8,["model-value","placeholder","list","invalid","autofocus","readonly","multiline"])):E("",!0),e.type==="state"?(s(),$(Pt,{key:1,ref_key:"input",ref:n,"right-icon":v.value?"chevron-up":"chevron-down","model-value":u.value,onRightIconClick:d[0]||(d[0]=V=>v.value=v.value?void 0:"template"),"onUpdate:modelValue":g,onClick:d[1]||(d[1]=V=>p(n).focus())},null,8,["right-icon","model-value"])):E("",!0),v.value?(s(),w("div",{key:2,ref_key:"dropdown",ref:_,class:"BuilderTemplateInput__dropdown",style:Ke(p(c))},[v.value==="template"?(s(),$(Mt,{key:0,"hide-secrets":e.type==="state","hide-blueprint-results":e.type==="state","allow-create":e.type==="state",query:b.value,"component-id":e.componentId,"onUpdate:modelValue":q},null,8,["hide-secrets","hide-blueprint-results","allow-create","query","component-id"])):r.value.length?(s(),$(ht,{key:1,options:r.value,onSelect:F},null,8,["options"])):E("",!0)],4)):E("",!0)],544))}}),te=U(Lt,[["__scopeId","data-v-8594b4ef"]]),Nt=["disabled","data-writer-tooltip"],zt={key:0,class:"WdsTab__indicator"},Gt=D({__name:"WdsTab",props:{disabled:{type:[Boolean,String],default:void 0},selected:{type:Boolean},variant:{type:String,required:!0}},emits:{click:()=>!0},setup(e){const i=e,t=k(()=>typeof i.disabled=="string"?i.disabled:void 0);return(u,l)=>(s(),w("button",{class:Ee(["WdsTab",{"WdsTab--disabled":e.disabled,"WdsTab--selected":e.selected,"WdsTab--variant-bar":e.variant==="bar","WdsTab--variant-chip":e.variant==="chip"}]),type:"button",disabled:!!e.disabled,"data-writer-tooltip":t.value,onClick:l[0]||(l[0]=o=>u.$emit("click"))},[Le(u.$slots,"default",{},void 0,!0),e.variant==="bar"?(s(),w("div",zt)):E("",!0)],10,Nt))}}),Yt=U(Gt,[["__scopeId","data-v-db73c62c"]]),Jt=D({__name:"WdsTabs",props:ie({tabs:{type:Array,required:!0},variant:{type:String,default:"chip"}},{modelValue:{type:String},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const i=ye(e,"modelValue");return(t,u)=>(s(),w("div",{class:Ee(["WdsTabs",{"WdsTabs--variant-bar":e.variant==="bar","WdsTabs--variant-chip":e.variant==="chip"}])},[(s(!0),w(j,null,Z(e.tabs,l=>(s(),$(Yt,{key:l.value,value:l.value,variant:e.variant,disabled:l.disabled,selected:l.value===i.value,onClick:o=>i.value=l.value},{default:O(()=>[ue(ee(l.label),1)]),_:2},1032,["value","variant","disabled","selected","onClick"]))),128))],2))}}),ae=U(Jt,[["__scopeId","data-v-6e6e5572"]]),_e=Object.freeze([{label:"Default",value:"default"},{label:"CSS",value:"css"},{label:"Pick",value:"pick"}]),Ht=["data-automation-key"],Xt={key:0,class:"main"},Qt={key:0,class:"pickerContainer"},Zt=D({__name:"BuilderFieldsAlign",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},direction:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(e){const i=z({loader:()=>G(()=>import("./index-BDMDATBU.js").then(g=>g.bn),__vite__mapDeps([1,2]),import.meta.url)}),t=K("rootEl"),u=K("pickerEl"),l=K("freehandInputEl"),o=[{key:"start",label:"Left",match:g=>g=="start",default:"start",icon:"align-left"},{key:"center",label:"Center",match:g=>g=="center",default:"center",icon:"align-center"},{key:"end",label:"Right",match:g=>g=="end",default:"end",icon:"align-right"}],n=[{key:"start",label:"Top",match:g=>g=="start",default:"start",icon:"arrow-up-to-line"},{key:"center",label:"Center",match:g=>g=="center",default:"center",icon:"fold-vertical"},{key:"end",label:"Bottom",match:g=>g=="end",default:"end",icon:"arrow-down-to-line"}],_={pick:u,css:l,default:null},v=e,c=Y({componentId:M(v,"componentId"),fieldKey:M(v,"fieldKey")}),S=k(()=>v.direction=="vertical"?n:v.direction=="horizontal"?o:n),h=k(()=>S.value.map(g=>({value:g.key,label:g.label,icon:g.icon}))),r=k(()=>{const g=c.value;for(const f in S.value)if(g&&S.value[f].match(g))return S.value[f].key;return null}),y=H((()=>{if(!c.value)return"default";for(const g in S.value)if(S.value[g].match(c.value))return"pick";return"css"})()),b=()=>{var f;const g=(f=_[y.value])==null?void 0:f.value;g&&(g.focus(),typeof g.selectionStart=="number"&&(g.selectionStart=g.selectionEnd=g.value.length))},I=async g=>{y.value!=g&&(y.value=g,await le(),b(),g==="default"&&(c.value=""))},q=g=>{for(const f in S.value)S.value[f].key==g&&(c.value=S.value[f].default)},F=g=>{c.value=g.target.value};return re(()=>{t.value.addEventListener("focus",b)}),ge(()=>{t.value.removeEventListener("focus",b)}),(g,f)=>(s(),w("div",{ref_key:"rootEl",ref:t,class:"BuilderFieldsAlign",tabindex:"-1","data-automation-key":v.fieldKey},[x(ae,{tabs:p(_e),"model-value":y.value,"onUpdate:modelValue":I},null,8,["tabs","model-value"]),y.value=="pick"||y.value=="css"?(s(),w("div",Xt,[y.value=="pick"?(s(),w("div",Qt,[x(p(i),{ref_key:"pickerEl",ref:u,"model-value":r.value,options:h.value,"onUpdate:modelValue":q},null,8,["model-value","options"])])):E("",!0),y.value=="css"?(s(),$(te,{key:1,ref_key:"freehandInputEl",ref:l,value:p(c),error:e.error,onInput:F},null,8,["value","error"])):E("",!0)])):E("",!0)],8,Ht))}}),Re=U(Zt,[["__scopeId","data-v-6a36fb0b"]]),en=["data-automation-key"],tn={key:0,class:"main"},nn={key:0,class:"pickerContainer"},ln=["value"],on=D({__name:"BuilderFieldsColor",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(e){const i=K("rootEl"),t=K("pickerEl"),u=K("freehandInputEl"),l={pick:t,css:u,default:null},o=e,n=Y({componentId:M(o,"componentId"),fieldKey:M(o,"fieldKey")}),v=H((()=>{const r=n.value;return r?/#[A-Fa-f0-9]{6}/.test(r)?"pick":"css":"default"})()),c=()=>{var m;const r=(m=l[v.value])==null?void 0:m.value;r&&(r.focus(),typeof r.selectionStart=="number"&&(r.selectionStart=r.selectionEnd=r.value.length))},S=async r=>{v.value!=r&&(v.value=r,await le(),c(),r==="default"&&(n.value=""))},h=r=>n.value=r.target.value;return re(()=>{i.value.addEventListener("focus",c)}),ge(()=>{i.value.removeEventListener("focus",c)}),(r,m)=>(s(),w("div",{ref_key:"rootEl",ref:i,class:"BuilderFieldsColor",tabindex:"-1","data-automation-key":e.fieldKey},[x(ae,{tabs:p(_e),"model-value":v.value,"onUpdate:modelValue":S},null,8,["tabs","model-value"]),v.value=="pick"||v.value=="css"?(s(),w("div",tn,[v.value=="pick"?(s(),w("div",nn,[C("input",{ref_key:"pickerEl",ref:t,type:"color",value:p(n),onInput:h},null,40,ln)])):E("",!0),v.value=="css"?(s(),$(te,{key:1,ref_key:"freehandInputEl",ref:u,value:p(n),error:e.error,onInput:h},null,8,["value","error"])):E("",!0)])):E("",!0)],8,en))}}),an=U(on,[["__scopeId","data-v-5432e5c5"]]);function $e(e){return typeof e=="string"&&e.startsWith("@{")&&e.endsWith("}")}function He({fieldViewModel:e}){const i=H($e(e.value)),t=H({binding:$e(e.value)?e.value:"",noneBinding:i.value?"":e.value});function u(){i.value?($e(e.value)&&(t.value.binding=e.value),e.value=t.value.noneBinding,i.value=!1):(t.value.noneBinding=e.value,e.value=t.value.binding,i.value=!0)}return{isBindingMode:st(i),toggleBindingMode:u}}const rn=["data-automation-key"],sn=D({__name:"BuilderFieldsText",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},fieldControl:{type:String,required:!1,default:Ie.Text},defaultValue:{type:String,default:void 0},error:{type:String,required:!1,default:void 0},autofocus:{type:Boolean},type:{type:String,required:!1,default:"template"}},setup(e){const i=R(W.core),t=e,u=Y({componentId:M(t,"componentId"),fieldKey:M(t,"fieldKey"),defaultValue:M(t,"defaultValue")}),l=k(()=>`${t.componentId}-${t.fieldKey}`),o={uiComponents:()=>{const r=i.getComponents(void 0,{sortedByPosition:!0}).filter(y=>i.isChildOf("root",y.id)),m={};return r.forEach(y=>{m[y.id]=y.id}),m},uiComponentsWithEvents:()=>i.getComponents(void 0,{sortedByPosition:!0}).filter(r=>i.isChildOf("root",r.id)).filter(r=>!!i.getComponentDefinition(r.type).events).reduce((r,m)=>(r[m.id]=m.id,r),{}),eventTypes:(r,m)=>{var F;const y=(F=r.getComponentById(m).content)==null?void 0:F.refComponentId,b=i.getComponentById(y);if(!b)return{};const I=r.getComponentDefinition(b.type);return Object.fromEntries(Object.keys(I.events??{}).map(g=>[g,g]))}},n=k(()=>{const r=i.getComponentById(t.componentId),y=i.getComponentDefinition(r.type).fields[t.fieldKey];return y.options?typeof y.options=="function"?y.options(i,t.componentId):typeof y.options=="string"?o==null?void 0:o[y.options](i,t.componentId):y.options:{}}),_=k(()=>["state","state-template"].includes(t.type)?"state":"template"),v=k(()=>h(u.value)),c=r=>{u.value=S(r.target.value)};function S(r){return typeof r!="string"?"":t.type==="state-template"?`@{${r}}`:r}function h(r){return typeof r!="string"?"":t.type==="state-template"?r.replace(/^@{/,"").replace(/}$/,""):r}return(r,m)=>(s(),w("div",{class:"BuilderFieldsText","data-automation-key":t.fieldKey},[e.fieldControl==p(Ie).Text?(s(),$(te,{key:0,class:"content","component-id":e.componentId,"input-id":l.value,value:v.value,placeholder:e.defaultValue,type:_.value,options:n.value,error:e.error,autofocus:e.autofocus,onInput:c},null,8,["component-id","input-id","value","placeholder","type","options","error","autofocus"])):e.fieldControl==p(Ie).Textarea?(s(),$(te,{key:1,multiline:"",variant:"text",class:"content","input-id":l.value,"component-id":e.componentId,value:v.value,placeholder:e.defaultValue,type:_.value,error:e.error,autofocus:e.autofocus,onInput:c},null,8,["input-id","component-id","value","placeholder","type","error","autofocus"])):E("",!0)],8,rn))}}),qe=U(sn,[["__scopeId","data-v-aa053130"]]),un=["data-automation-key"],dn=D({__name:"BuilderFieldsCheckbox",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},label:{type:String,default:void 0},unit:{type:String,default:void 0},hint:{type:String,default:void 0},error:{type:String,default:void 0}},setup(e){const i=e,t=Y({componentId:M(i,"componentId"),fieldKey:M(i,"fieldKey")}),{isBindingMode:u,toggleBindingMode:l}=He({fieldViewModel:t}),o=k({get:()=>t.value==="yes",set:n=>{t.value=n?"yes":"no"}});return(n,_)=>p(u)?(s(),$(Q,{key:0,"is-binding-button-shown":"","is-binding-enabled":p(u),label:e.label,unit:e.unit,hint:e.hint,error:e.error,"data-automation-key":i.fieldKey,"onUpdate:isBindingEnabled":p(l)},{default:O(()=>[x(qe,{type:"state-template","component-id":e.componentId,"field-key":e.fieldKey,error:e.error,"default-value":""},null,8,["component-id","field-key","error"])]),_:1},8,["is-binding-enabled","label","unit","hint","error","data-automation-key","onUpdate:isBindingEnabled"])):(s(),w("div",{key:1,class:"BuilderFieldsCheckbox","data-automation-key":i.fieldKey},[x(Je,{modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=v=>o.value=v),label:e.label,detail:e.hint,invalid:!!e.error},null,8,["modelValue","label","detail","invalid"]),x(J,{size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":"Bind to a variable",onClick:p(l)},{default:O(()=>[x(L,{name:"at-sign"})]),_:1},8,["onClick"])],8,un))}}),cn=U(dn,[["__scopeId","data-v-d540f2ac"]]),pn={key:1,class:"BuilderFieldsKeyValueModal__assistedEntries"},vn={key:0,class:"BuilderFieldsKeyValueModal__assistedEntries__form"},mn=D({__name:"BuilderFieldsKeyValueModal",props:{data:{type:String,required:!0}},emits:{submit:e=>typeof e=="string",close:()=>!0},setup(e,{emit:i}){const t=z({loader:()=>G(()=>import("./BuilderEmbeddedCodeEditor-nW2rYTXy.js").then(q=>q.B),__vite__mapDeps([11,1,2,12]),import.meta.url)}),u=e,{mode:l,assistedEntries:o,freehandValue:n,isValid:_,currentValue:v,addAssistedEntry:c,updateAssistedEntryValue:S,updateAssistedEntryKey:h,removeAssistedEntry:r,getAssistedEntryError:m}=St(u.data),y=i,b=k(()=>[{desc:"Save",fn:()=>y("submit",v.value),disabled:u.data===v.value||!_.value}]),I=[{label:"List",value:"assisted"},{label:"JSON",value:"freehand"}];return(q,F)=>(s(),$(Fe,{title:"Category key values","display-close-button":"",actions:b.value,onClose:F[2]||(F[2]=g=>q.$emit("close"))},{titleActions:O(()=>[x(ae,{modelValue:p(l),"onUpdate:modelValue":F[0]||(F[0]=g=>me(l)?l.value=g:null),class:"BuilderFieldsKeyValueModal__tabs",tabs:I},null,8,["modelValue"])]),default:O(()=>[p(l)==="freehand"?(s(),$(p(t),{key:0,modelValue:p(n),"onUpdate:modelValue":F[1]||(F[1]=g=>me(n)?n.value=g:null),class:"BuilderFieldsKeyValueModal__freehand",variant:"minimal",language:"json"},null,8,["modelValue"])):E("",!0),p(l)==="assisted"?(s(),w("div",pn,[p(l)==="assisted"?(s(),w("div",vn,[F[3]||(F[3]=C("p",{class:"BuilderFieldsKeyValueModal__assistedEntries__form__labelKey"}," Key ",-1)),F[4]||(F[4]=C("p",{class:"BuilderFieldsKeyValueModal__assistedEntries__form__labelValue"}," Value ",-1)),(s(!0),w(j,null,Z(p(o),(g,f)=>(s(),w(j,{key:f},[x(Q,{error:p(m)(f)},{default:O(()=>[x(te,{placeholder:"Type a key...",value:g.key,error:p(m)(f),"onUpdate:value":a=>p(h)(f,a)},null,8,["value","error","onUpdate:value"])]),_:2},1032,["error"]),x(Q,null,{default:O(()=>[x(te,{placeholder:"Type a value...",value:g.value,"onUpdate:value":a=>p(S)(f,a)},null,8,["value","onUpdate:value"])]),_:2},1024),C("div",null,[x(J,{variant:"neutral",size:"smallIcon",class:"BuilderFieldsKeyValueModal__assistedEntries__form__deleteBtn",onClick:a=>p(r)(f)},{default:O(()=>[x(L,{name:"trash-2"})]),_:2},1032,["onClick"])])],64))),128))])):E("",!0),x(J,{variant:"special",size:"small",onClick:p(c)},{default:O(()=>[x(L,{name:"plus"}),F[5]||(F[5]=ue(" Add a pair "))]),_:1},8,["onClick"])])):E("",!0)]),_:1},8,["actions"]))}}),fn=U(mn,[["__scopeId","data-v-4e74be91"]]),yn=["data-automation-key"],gn={class:"BuilderFieldsKeyValue__toolbar"},_n={key:1,class:"BuilderFieldsKeyValue__listEmpty"},bn={key:2,class:"BuilderFieldsKeyValue__list"},hn=["data-writer-tooltip"],Sn=["data-writer-tooltip"],kn=D({__name:"BuilderFieldsKeyValue",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},instancePath:{type:Array,required:!0},error:{type:String,required:!1,default:void 0}},setup(e){const i=e,t=Y({componentId:M(i,"componentId"),fieldKey:M(i,"fieldKey")}),u=R(W.core),l=R(W.secretsManager),{getEvaluatedFields:o}=we(u,l),n=H(!1),_=k(()=>{var S;return((S=o(i.instancePath))==null?void 0:S[i.fieldKey].value)??{}}),v=k(()=>t.value||JSON.stringify(_.value));function c(S){n.value=!1,t.value=S}return(S,h)=>(s(),w("div",{class:"BuilderFieldsKeyValue",tabindex:"-1","data-automation-key":i.fieldKey},[C("div",gn,[x(J,{variant:"neutral",size:"smallIcon","data-automation-key":"openAssistedMode",onClick:h[0]||(h[0]=r=>n.value=!0)},{default:O(()=>[x(L,{name:"pencil"})]),_:1})]),n.value?(s(),$(fn,{key:0,data:v.value,onSubmit:c,onClose:h[1]||(h[1]=r=>n.value=!1)},null,8,["data"])):E("",!0),Object.keys(_.value).length===0?(s(),w("div",_n,[h[4]||(h[4]=C("p",null,"There are no key value categories defined",-1)),x(J,{variant:"special",size:"small",onClick:h[2]||(h[2]=r=>n.value=!0)},{default:O(()=>[x(L,{name:"pencil"}),h[3]||(h[3]=ue(" Edit "))]),_:1})])):(s(),w("ul",bn,[(s(!0),w(j,null,Z(_.value,(r,m)=>(s(),w("li",{key:m,class:"BuilderFieldsKeyValue__list__item"},[C("p",{class:"BuilderFieldsKeyValue__list__item__key","data-writer-tooltip":m,"data-writer-tooltip-strategy":"overflow"},ee(m),9,hn),C("p",{class:"BuilderFieldsKeyValue__list__item__value","data-writer-tooltip":r,"data-writer-tooltip-strategy":"overflow"},ee(r||"<empty value>"),9,Sn)]))),128))]))],8,yn))}}),In=U(kn,[["__scopeId","data-v-43bf3550"]]),Bn=D({__name:"BuilderFieldsObject",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},defaultValue:{type:String,required:!1,default:void 0},error:{type:String,required:!1,default:void 0}},setup(e){const i=e,t=Y({componentId:M(i,"componentId"),fieldKey:M(i,"fieldKey"),defaultValue:M(i,"defaultValue")}),u=l=>{t.value=l.target.value};return(l,o)=>(s(),$(te,{class:"BuilderFieldsObject","data-automation-key":i.fieldKey,multiline:"",variant:"code",value:p(t),placeholder:e.defaultValue,error:e.error,onInput:u},null,8,["data-automation-key","value","placeholder","error"]))}}),Cn=U(Bn,[["__scopeId","data-v-efbda4e8"]]),En=["data-automation-key"],wn={key:0,class:"main"},xn={key:0,class:"pickerContainer"},$n={class:"BuilderFieldsPadding__options"},Tn=D({__name:"BuilderFieldsPadding",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(e){const i=z({loader:()=>G(()=>import("./index-BDMDATBU.js").then(a=>a.bn),__vite__mapDeps([1,2]),import.meta.url)}),t=K("rootEl"),u=K("pickerEl"),l=K("freehandInputEl"),o=K("fixedEl"),n=[{key:"all_sides",label:"All sides",match:a=>a.split(" ").length==1&&a.endsWith("px"),default:()=>m.value?m.value[0]:"0px"},{key:"XY sides",label:"XY sides",match:a=>a.split(" ").length==2&&a.endsWith("px"),default:()=>m.value?m.value[2]+" "+m.value[0]:"0px 0px"},{key:"Per side",label:"Per side",match:a=>a.split(" ").length==4&&a.endsWith("px"),default:()=>m.value?[m.value[3],m.value[1],m.value[2],m.value[0]].join(" "):"0px 0px 0px 0px"}],_={pick:u,css:l,default:null},v=e,c=Y({componentId:M(v,"componentId"),fieldKey:M(v,"fieldKey")}),S=k(()=>n.map(a=>({value:a.key,label:a.label,icon:"panel-top-dashed"}))),h=k(()=>{const a=c.value;for(const d in n)if(a&&n[d].match(a))return n[d].key;return null}),r=k(()=>{const a=m.value;return a?[a[0].substring(0,a[0].length-2),a[1].substring(0,a[1].length-2),a[2].substring(0,a[2].length-2),a[3].substring(0,a[3].length-2)]:["0","0","0","0"]}),m=k(()=>{const a=c.value;if(a){const d=a.split(" ");if(d.length==1&&d[0].endsWith("px"))return[d[0],d[0],d[0],d[0]];if(d.length==2&&d[0].endsWith("px")&&d[0].endsWith("px"))return[d[1],d[1],d[0],d[0]];if(d.length==4&&d[0].endsWith("px")&&d[1].endsWith("px")&&d[2].endsWith("px")&&d[3].endsWith("px"))return[d[3],d[1],d[0],d[2]]}else return null;return null}),b=H((()=>{if(!c.value)return"default";for(const a in n)if(n[a].match(c.value))return"pick";return"css"})()),I=()=>{var d;const a=(d=_[b.value])==null?void 0:d.value;a&&(a.focus(),typeof a.selectionStart=="number"&&(a.selectionStart=a.selectionEnd=a.value.length))},q=async a=>{b.value!=a&&(b.value=a,await le(),I(),a==="default"&&(c.value=""))},F=a=>{for(const d in n)n[d].key==a&&(c.value=n[d].default());le(()=>{var d;(d=o.value)==null||d.focus()})},g=a=>{c.value=a.target.value},f=(a,d,V)=>{const B=Number(a),T=c.value;if(d=="all_sides")c.value=B+"px";else if(d=="XY sides"){const A=T.split(" ");V=="x"?A[1]=B+"px":V=="y"&&(A[0]=B+"px"),c.value=A.join(" ")}else if(d=="Per side"){const A=T.split(" ");V=="top"?A[0]=B+"px":V=="right"?A[1]=B+"px":V=="bottom"?A[2]=B+"px":V=="left"&&(A[3]=B+"px"),c.value=A.join(" ")}};return re(()=>{t.value.addEventListener("focus",I)}),ge(()=>{t.value.removeEventListener("focus",I)}),(a,d)=>(s(),w("div",{ref_key:"rootEl",ref:t,class:"BuilderFieldsPadding",tabindex:"-1","data-automation-key":v.fieldKey},[x(ae,{tabs:p(_e),"model-value":b.value,"onUpdate:modelValue":q},null,8,["tabs","model-value"]),b.value=="pick"||b.value=="css"?(s(),w("div",wn,[b.value=="pick"?(s(),w("div",xn,[x(p(i),{ref_key:"pickerEl",ref:u,"model-value":h.value,options:S.value,"onUpdate:modelValue":F},null,8,["model-value","options"]),C("div",$n,[h.value=="all_sides"?(s(),w(j,{key:0},[d[7]||(d[7]=C("i",null,"All",-1)),x(X,{ref_key:"fixedEl",ref:o,type:"number","model-value":r.value[0],"onUpdate:modelValue":d[0]||(d[0]=V=>f(V,h.value))},null,8,["model-value"]),d[8]||(d[8]=C("div",null,"px",-1))],64)):E("",!0),h.value=="XY sides"?(s(),w(j,{key:1},[d[9]||(d[9]=C("i",null,"X",-1)),x(X,{type:"number","model-value":r.value[0],"onUpdate:modelValue":d[1]||(d[1]=V=>f(V,h.value,"x"))},null,8,["model-value"]),d[10]||(d[10]=C("div",null,"px",-1)),d[11]||(d[11]=C("i",null,"Y",-1)),x(X,{type:"number","model-value":r.value[2],"onUpdate:modelValue":d[2]||(d[2]=V=>f(V,h.value,"y"))},null,8,["model-value"]),d[12]||(d[12]=C("div",null,"px",-1))],64)):E("",!0),h.value=="Per side"?(s(),w(j,{key:2},[d[13]||(d[13]=C("i",null,"Left",-1)),x(X,{type:"number","model-value":r.value[0],"onUpdate:modelValue":d[3]||(d[3]=V=>f(V,h.value,"left"))},null,8,["model-value"]),d[14]||(d[14]=C("div",null,"px",-1)),d[15]||(d[15]=C("i",null,"Right",-1)),x(X,{type:"number","model-value":r.value[1],"onUpdate:modelValue":d[4]||(d[4]=V=>f(V,h.value,"right"))},null,8,["model-value"]),d[16]||(d[16]=C("div",null,"px",-1)),d[17]||(d[17]=C("i",null,"Top",-1)),x(X,{type:"number","model-value":r.value[2],"onUpdate:modelValue":d[5]||(d[5]=V=>f(V,h.value,"top"))},null,8,["model-value"]),d[18]||(d[18]=C("div",null,"px",-1)),d[19]||(d[19]=C("i",null,"Bottom",-1)),x(X,{type:"number","model-value":r.value[3],"onUpdate:modelValue":d[6]||(d[6]=V=>f(V,h.value,"bottom"))},null,8,["model-value"]),d[20]||(d[20]=C("div",null,"px",-1))],64)):E("",!0)])])):E("",!0),b.value=="css"?(s(),$(te,{key:1,ref_key:"freehandInputEl",ref:l,value:p(c),error:e.error,onInput:g},null,8,["value","error"])):E("",!0)])):E("",!0)],8,En))}}),Vn=U(Tn,[["__scopeId","data-v-e122e664"]]),Fn=["data-automation-key"],On={key:0,class:"main"},qn={key:0,class:"pickerContainer"},Mn={class:"param"},An={class:"header"},Dn=["value"],Rn={class:"param"},Wn={class:"header"},Pn=["value"],Un={class:"param"},Kn={class:"header"},jn=["value"],Ln={class:"param"},Nn={class:"header"},zn=["value"],Gn={class:"param"},Yn=["value"],Jn=D({__name:"BuilderFieldsShadow",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(e){const i=K("rootEl"),t=K("freehandInputEl"),u=K("paramOffsetXEl"),l=K("paramOffsetYEl"),o=K("paramBlurRadiusEl"),n=K("paramSpreadRadiusEl"),_=K("paramColorEl"),v={pick:u,css:t,default:null},c=e,S=Y({componentId:M(c,"componentId"),fieldKey:M(c,"fieldKey")}),h=/^(?<offsetX>[0-9]+)px (?<offsetY>[0-9]+)px (?<blurRadius>[0-9]+)px (?<spreadRadius>[0-9-]+)px (?<color>#[A-Fa-f0-9]{6})$/,m=H((()=>{const g=S.value;return g?h.test(g)?"pick":"css":"default"})()),y=()=>{var f;const g=(f=v[m.value])==null?void 0:f.value;g&&(g.focus(),typeof g.selectionStart=="number"&&(g.selectionStart=g.selectionEnd=g.value.length))},b=async g=>{m.value!=g&&(m.value=g,await le(),y(),g==="default"&&(S.value=""))},I=()=>{const g=u.value.value,f=l.value.value,a=o.value.value,d=n.value.value,V=_.value.value,B=`${g}px ${f}px ${a}px ${d}px ${V}`;S.value=B},q=g=>{S.value=g.target.value},F=k(()=>{const g=S.value.match(h);return(g==null?void 0:g.groups)??{}});return re(()=>{i.value.addEventListener("focus",y)}),ge(()=>{i.value.removeEventListener("focus",y)}),(g,f)=>{var a,d,V,B,T,A,oe,be,he,de,Me,Ae,De;return s(),w("div",{ref_key:"rootEl",ref:i,class:"BuilderFieldsShadow",tabindex:"-1","data-automation-key":c.fieldKey},[x(ae,{tabs:p(_e),"model-value":m.value,"onUpdate:modelValue":b},null,8,["tabs","model-value"]),m.value=="pick"||m.value=="css"?(s(),w("div",On,[m.value=="pick"?(s(),w("div",qn,[C("div",Mn,[C("div",An,[f[0]||(f[0]=C("div",{class:"name"},"Offset X",-1)),ce(C("div",{class:"value"},ee((a=F.value)==null?void 0:a.offsetX)+"px ",513),[[Se,(d=F.value)==null?void 0:d.offsetX]])]),C("input",{ref_key:"paramOffsetXEl",ref:u,type:"range",min:"0",max:"32",value:(V=F.value)==null?void 0:V.offsetX,onInput:I},null,40,Dn)]),C("div",Rn,[C("div",Wn,[f[1]||(f[1]=C("div",{class:"name"},"Offset Y",-1)),ce(C("div",{class:"value"},ee((B=F.value)==null?void 0:B.offsetY)+"px ",513),[[Se,(T=F.value)==null?void 0:T.offsetY]])]),C("input",{ref_key:"paramOffsetYEl",ref:l,type:"range",min:"0",max:"32",value:(A=F.value)==null?void 0:A.offsetY,onInput:I},null,40,Pn)]),C("div",Un,[C("div",Kn,[f[2]||(f[2]=C("div",{class:"name"},"Blur radius",-1)),ce(C("div",{class:"value"},ee((oe=F.value)==null?void 0:oe.blurRadius)+"px ",513),[[Se,(be=F.value)==null?void 0:be.blurRadius]])]),C("input",{ref_key:"paramBlurRadiusEl",ref:o,type:"range",min:"0",max:"32",value:(he=F.value)==null?void 0:he.blurRadius,onInput:I},null,40,jn)]),C("div",Ln,[C("div",Nn,[f[3]||(f[3]=C("div",{class:"name"},"Spread radius",-1)),ce(C("div",{class:"value"},ee((de=F.value)==null?void 0:de.spreadRadius)+"px ",513),[[Se,(Me=F.value)==null?void 0:Me.spreadRadius]])]),C("input",{ref_key:"paramSpreadRadiusEl",ref:n,type:"range",min:"-16",max:"32",value:(Ae=F.value)==null?void 0:Ae.spreadRadius,onInput:I},null,40,zn)]),C("div",Gn,[f[4]||(f[4]=C("div",{class:"header"},[C("div",{class:"name"},"Color")],-1)),C("input",{ref_key:"paramColorEl",ref:_,type:"color",value:(De=F.value)==null?void 0:De.color,onInput:I},null,40,Yn)])])):E("",!0),m.value=="css"?(s(),$(te,{key:1,ref_key:"freehandInputEl",ref:t,value:p(S),error:e.error,onInput:q},null,8,["value","error"])):E("",!0)])):E("",!0)],8,Fn)}}}),Hn=U(Jn,[["__scopeId","data-v-c59dcd63"]]),Xn=["data-automation-key"],Qn={key:0,class:"main"},Zn={key:0,class:"pickerContainer"},el={key:0,class:"fixedContainer"},tl=D({__name:"BuilderFieldsWidth",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(e){const i=z({loader:()=>G(()=>import("./index-BDMDATBU.js").then(f=>f.bn),__vite__mapDeps([1,2]),import.meta.url)}),t=K("rootEl"),u=K("pickerEl"),l=K("freehandInputEl"),o=K("fixedEl"),n=[{key:"fixed",label:"Fixed",match:f=>f.endsWith("px"),default:"160px"},{key:"fit-content",label:"Fit Content",match:f=>f=="fit-content",default:"fit-content"},{key:"full",label:"Full",match:f=>f=="100%",default:"100%"}],_={pick:u,css:l,default:null},v=e,c=Y({componentId:M(v,"componentId"),fieldKey:M(v,"fieldKey")}),S=k(()=>n.map(f=>({value:f.key,label:f.label,icon:"move-horizontal"}))),h=k(()=>{const f=c.value;for(const a in n)if(f&&n[a].match(f))return n[a].key;return null}),r=k(()=>{const f=c.value;if(f){if(f.endsWith("px"))return f.substring(0,f.length-2)}else return null;return null}),y=H((()=>{if(!c.value)return"default";for(const f in n)if(n[f].match(c.value))return"pick";return"css"})()),b=()=>{var a;const f=(a=_[y.value])==null?void 0:a.value;f&&(f.focus(),typeof f.selectionStart=="number"&&(f.selectionStart=f.selectionEnd=f.value.length))},I=async f=>{y.value!=f&&(y.value=f,await le(),b(),f==="default"&&(c.value=""))},q=f=>{for(const a in n)if(n[a].key==f){const d=n[a].default;c.value=d}f=="fixed"&&le(()=>{o.value.focus()})},F=f=>{c.value=f.target.value},g=f=>{c.value=`${f}px`};return re(()=>{t.value.addEventListener("focus",b)}),ge(()=>{t.value.removeEventListener("focus",b)}),(f,a)=>(s(),w("div",{ref_key:"rootEl",ref:t,class:"BuilderFieldsWidth",tabindex:"-1","data-automation-key":v.fieldKey},[x(ae,{tabs:p(_e),"model-value":y.value,"onUpdate:modelValue":I},null,8,["tabs","model-value"]),y.value=="pick"||y.value=="css"?(s(),w("div",Qn,[y.value=="pick"?(s(),w("div",Zn,[x(p(i),{ref_key:"pickerEl",ref:u,"model-value":h.value,options:S.value,"onUpdate:modelValue":q},null,8,["model-value","options"]),h.value=="fixed"?(s(),w("div",el,[x(X,{ref_key:"fixedEl",ref:o,type:"number","model-value":r.value,invalid:e.error!==void 0,"onUpdate:modelValue":g},null,8,["model-value","invalid"]),a[0]||(a[0]=C("div",null,"px",-1))])):E("",!0)])):E("",!0),y.value=="css"?(s(),$(te,{key:1,ref_key:"freehandInputEl",ref:l,value:p(c),onInput:F},null,8,["value"])):E("",!0)])):E("",!0)],8,Xn))}}),nl=U(tl,[["__scopeId","data-v-55a31bea"]]),ll=["data-automation-key"],ol={class:"tools"},al=["onClick"],il={class:"toolName"},rl={class:"addToolForm"},sl=D({__name:"BuilderFieldsTools",props:{componentId:{},fieldKey:{}},setup(e){const i=z({loader:()=>G(()=>import("./BuilderGraphSelect-DGMEwjeT.js"),__vite__mapDeps([13,1,2,14,15]),import.meta.url)}),t=z({loader:()=>G(()=>import("./BuilderEmbeddedCodeEditor-nW2rYTXy.js").then(g=>g.B),__vite__mapDeps([11,1,2,12]),import.meta.url)}),l={isShown:!1,type:"function",name:"new_tool",code:`
{
	"description": "Gets info for an employee, given an employee id",
    "parameters": {
      "id": {"type": "string", "description": "Id of the employee"}
    }
}
`.trim(),graphIds:"",includeDomains:"",excludeDomains:"",includeRawContent:!1},o=H(l),n=k(()=>{switch(o.value.type){case"function":return!o.value.code;case"graph":return!o.value.graphIds;case"web_search":return!1;default:return!0}}),_=k({get:()=>o.value.graphIds.split(","),set(g){o.value={...o.value,graphIds:g.join(",")}}}),v=e,c=Y({componentId:M(v,"componentId"),fieldKey:M(v,"fieldKey")}),S=k(()=>{try{return JSON.parse(c.value)}catch{return{}}});function h(){o.value={...l,isShown:!0}}function r(){const{type:g,code:f,graphIds:a,includeDomains:d,excludeDomains:V,includeRawContent:B}=o.value;if(g=="function")return{...JSON.parse(f),type:g};if(g=="graph"){const T=a.split(",").map(A=>A.trim());return{type:g,graph_ids:T}}if(g=="web_search"){const T={type:g};return d.trim()&&(T.include_domains=d.split(",").map(A=>A.trim()).filter(A=>A)),V.trim()&&(T.exclude_domains=V.split(",").map(A=>A.trim()).filter(A=>A)),B&&(T.include_raw_content=B),T}throw"Unexpected tool type."}function m(g){let f=[];const{originalName:a,name:d}=g;return d||f.push("The name cannot be empty."),Object.keys(S.value).includes(d)&&!(a||a==d)&&f.push("An existing tool with the specified name already exists."),f}function y(){const g=m(o.value);if(g.length>0){g.forEach(alert);return}let f;try{f=r()}catch{alert("Incorrect tool definition");return}c.value=JSON.stringify({...S.value,...o.value.originalName?{[o.value.originalName]:void 0}:{},[o.value.name]:f}),o.value.isShown=!1}function b(g,f){var d,V,B;const{type:a}=f;if(a=="function")return{isShown:!0,type:"function",originalName:g,name:g,graphIds:"",code:JSON.stringify(f,void 0,2),includeDomains:"",excludeDomains:"",includeRawContent:!1};if(a=="graph")return{isShown:!0,type:"graph",originalName:g,name:g,graphIds:((d=f.graph_ids)==null?void 0:d.join(","))??"",code:"",includeDomains:"",excludeDomains:"",includeRawContent:!1};if(a=="web_search")return{isShown:!0,type:"web_search",originalName:g,name:g,graphIds:"",code:"",includeDomains:((V=f.include_domains)==null?void 0:V.join(", "))??"",excludeDomains:((B=f.exclude_domains)==null?void 0:B.join(", "))??"",includeRawContent:f.include_raw_content??!1};throw"Unexpected tool type;"}function I(g){var a;const f=(a=S.value)==null?void 0:a[g];f&&(o.value=b(g,f))}function q(g){c.value=JSON.stringify({...S.value,[g]:void 0})}const F=k(()=>[{desc:"cancel",fn:()=>o.value.isShown=!1},{desc:"Save",disabled:n.value,fn:y}]);return(g,f)=>(s(),w("div",{class:"BuilderFieldsTools colorTransformer","data-automation-key":v.fieldKey},[C("div",ol,[(s(!0),w(j,null,Z(S.value,(a,d)=>(s(),w("div",{key:d,class:"tool",onClick:V=>I(d)},[C("div",il,ee(d),1),x(J,{variant:"primary",size:"smallIcon",class:"delete",onClick:ne(V=>q(d),["stop"])},{default:O(()=>[x(L,{name:"trash-2"})]),_:2},1032,["onClick"])],8,al))),128))]),x(J,{size:"small",onClick:h},{default:O(()=>[x(L,{name:"plus"}),f[7]||(f[7]=ue(" Add tool "))]),_:1}),o.value.isShown?(s(),$(Fe,{key:0,actions:F.value,title:"Add tool","allow-overflow":""},{default:O(()=>[C("div",rl,[x(Q,{label:"Tool type"},{default:O(()=>[x(ut,{modelValue:o.value.type,"onUpdate:modelValue":f[0]||(f[0]=a=>o.value.type=a)},{default:O(()=>f[8]||(f[8]=[C("option",{value:"function"},"Function",-1),C("option",{value:"graph"},"Knowledge graph",-1),C("option",{value:"web_search"},"Web search",-1)])),_:1},8,["modelValue"])]),_:1}),x(Q,{label:"Tool name"},{default:O(()=>[x(X,{modelValue:o.value.name,"onUpdate:modelValue":f[1]||(f[1]=a=>o.value.name=a)},null,8,["modelValue"])]),_:1}),o.value.type=="function"?(s(),$(Q,{key:0,"frame-slot":!0,label:"Function tool definition"},{default:O(()=>[x(p(t),{modelValue:o.value.code,"onUpdate:modelValue":f[2]||(f[2]=a=>o.value.code=a),class:"addToolForm__codeEditor",variant:"minimal",language:"json"},null,8,["modelValue"])]),_:1})):E("",!0),o.value.type=="graph"?(s(),$(Q,{key:1,label:"Graph id(s)",hint:"Specify the id of the knowledge graph you want to use. If multiple, separate the ids using commas."},{default:O(()=>[x(p(i),{modelValue:_.value,"onUpdate:modelValue":f[3]||(f[3]=a=>_.value=a),"enable-multi-selection":""},null,8,["modelValue"])]),_:1})):E("",!0),o.value.type=="web_search"?(s(),$(Q,{key:2,label:"Include domains (optional)",hint:"Comma-separated list of domains to search within (e.g., wikipedia.org, docs.python.org)"},{default:O(()=>[x(X,{modelValue:o.value.includeDomains,"onUpdate:modelValue":f[4]||(f[4]=a=>o.value.includeDomains=a),placeholder:"domain1.com, domain2.org"},null,8,["modelValue"])]),_:1})):E("",!0),o.value.type=="web_search"?(s(),$(Q,{key:3,label:"Exclude domains (optional)",hint:"Comma-separated list of domains to exclude from results"},{default:O(()=>[x(X,{modelValue:o.value.excludeDomains,"onUpdate:modelValue":f[5]||(f[5]=a=>o.value.excludeDomains=a),placeholder:"spam.com, ads.net"},null,8,["modelValue"])]),_:1})):E("",!0),o.value.type=="web_search"?(s(),$(Q,{key:4,label:"Include raw content",hint:"Include full page content in search results"},{default:O(()=>[x(Je,{modelValue:o.value.includeRawContent,"onUpdate:modelValue":f[6]||(f[6]=a=>o.value.includeRawContent=a),label:"Include raw content"},null,8,["modelValue"])]),_:1})):E("",!0)])]),_:1},8,["actions"])):E("",!0)],8,ll))}}),ul=U(sl,[["__scopeId","data-v-db6452aa"]]),dl=D({__name:"BuilderFieldsCode",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0},isExpanded:{type:Boolean,required:!0},inputLanguage:{type:String,required:!0}},setup(e){const i=z({loader:()=>G(()=>import("./BuilderEmbeddedCodeEditor-nW2rYTXy.js").then(l=>l.B),__vite__mapDeps([11,1,2,12]),import.meta.url)}),t=e,u=Y({componentId:M(t,"componentId"),fieldKey:M(t,"fieldKey")});return(l,o)=>(s(),$(p(i),{modelValue:p(u),"onUpdate:modelValue":o[0]||(o[0]=n=>me(u)?u.value=n:null),language:e.inputLanguage,variant:e.isExpanded?"half-screen":"minimal",class:"BuilderFieldsCode"},null,8,["modelValue","language","variant"]))}}),We=U(dl,[["__scopeId","data-v-6379f7e6"]]),cl=["data-automation-key"],pl=D({__name:"BuilderFieldsBlueprintKey",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0}},setup(e){const i=z({loader:()=>G(()=>import("./index-BDMDATBU.js").then(c=>c.bn),__vite__mapDeps([1,2]),import.meta.url)}),t=R(W.core),u=R(W.builderManager),l=e,o=Y({componentId:M(l,"componentId"),fieldKey:M(l,"fieldKey")}),n=k(()=>{const c=new Set;for(const r of t.getComponents("blueprints_root"))r.content.key&&c.add(r.content.key);const S=[...c].sort((r,m)=>r.localeCompare(m)).map(r=>({value:r,label:r,icon:"wds-blueprints"})),h=[{value:"",label:"(No blueprint)",icon:"block"},...S];if(!h.some(r=>r.value===o.value)){const r=o.value;h.push({value:r,label:r})}return h}),_=k(()=>{const c=t.getComponents("blueprints_root").find(S=>S.content.key===o.value);return c==null?void 0:c.id});function v(){_.value&&(u.setSelection(_.value,null,"click"),t.setActivePageId(_.value))}return(c,S)=>(s(),w("div",{class:"BuilderFieldsBlueprintKey","data-automation-key":l.fieldKey},[x(p(i),{modelValue:p(o),"onUpdate:modelValue":S[0]||(S[0]=h=>me(o)?o.value=h:null),options:n.value},null,8,["modelValue","options"]),_.value?(s(),$(J,{key:0,variant:"neutral",size:"smallIcon","data-writer-tooltip":"Jump to the blueprint",onClick:v},{default:O(()=>[x(L,{name:"square-dashed-mouse-pointer"})]),_:1})):E("",!0)],8,cl))}}),vl=U(pl,[["__scopeId","data-v-f1beb9af"]]),ml=["data-automation-key"],fl=D({__name:"BuilderFieldsBlueprintId",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0}},setup(e){const i=R(W.core),t=e,u=k(()=>i.getComponentById(t.componentId)),l=k(()=>{var o;return((o=u.value)==null?void 0:o.parentId)??""});return(o,n)=>(s(),w("div",{class:"BuilderFieldsBlueprintId","data-automation-key":t.fieldKey},[x(X,{"model-value":l.value,disabled:""},null,8,["model-value"])],8,ml))}}),yl=U(fl,[["__scopeId","data-v-23c33b8b"]]),gl=["data-automation-key"],_l=D({__name:"BuilderFieldsHandler",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0}},setup(e){const i=z({loader:()=>G(()=>import("./index-BDMDATBU.js").then(n=>n.bn),__vite__mapDeps([1,2]),import.meta.url)}),t=R(W.core),u=e,l=Y({componentId:M(u,"componentId"),fieldKey:M(u,"fieldKey")}),o=k(()=>{const n=t.userFunctions.value.map(v=>v.name).sort((v,c)=>v.localeCompare(c)).map(v=>({value:v,label:v,icon:"wds-function"})),_=[{value:"",label:"(No handler)",icon:"ban"},...n];if(!_.some(v=>v.value===l.value)){const v=l.value;_.push({value:v,label:v})}return _});return(n,_)=>(s(),w("div",{class:"BuilderFieldsHandler","data-automation-key":u.fieldKey},[x(p(i),{modelValue:p(l),"onUpdate:modelValue":_[0]||(_[0]=v=>me(l)?l.value=v:null),options:o.value},null,8,["modelValue","options"])],8,gl))}}),bl=["data-automation-key"],hl=["href","data-writer-tooltip"],Sl=D({__name:"BuilderFieldsWriterResourceId",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},label:{type:String,required:!1,default:void 0},unit:{type:String,required:!1,default:void 0},hint:{type:String,required:!1,default:void 0},error:{type:String,required:!1,default:void 0},resourceType:{type:String,required:!0},enableMultiSelection:{type:Boolean,required:!1,default:!1},isBindingButtonShown:{type:Boolean,required:!1,default:!1}},setup(e){const i=z({loader:()=>G(()=>import("./BuilderApplicationSelect-CHZa-CMY.js"),__vite__mapDeps([16,1,2,14,17]),import.meta.url)}),t=z({loader:()=>G(()=>import("./BuilderGraphSelect-DGMEwjeT.js"),__vite__mapDeps([13,1,2,14,15]),import.meta.url)}),u=z({loader:()=>G(()=>import("./BuilderModelSelect-DP8Z0UlS.js"),__vite__mapDeps([18,1,2,14,19]),import.meta.url)}),l=e,o=Y({componentId:M(l,"componentId"),fieldKey:M(l,"fieldKey")}),{isBindingMode:n,toggleBindingMode:_}=He({fieldViewModel:o}),v=Y({componentId:M(l,"componentId"),fieldKey:"appInputs"}),c=K("selectorEl"),S=k(()=>{switch(l.resourceType){case"model":return u;case"graph":return t;case"application":return i;default:throw new Error(`Unexpected resourceType: ${l.resourceType}`)}}),h=k(()=>{switch(l.resourceType){case"graph":return"Edit knowledge graph";case"application":return"Edit agent";case"model":return"About models";default:return}}),r=k(()=>{var q,F;if(Array.isArray(m.value))return;const b=m.value;if(!b)return;const I=(F=(q=c.value)==null?void 0:q.selectedData)==null?void 0:F.organization_id;if(I)switch(l.resourceType){case"graph":{const g=new URLSearchParams({graphId:b});return`https://app.writer.com/aistudio/organization/${I}/knowledge-graph?${g}`}case"application":return`https://app.writer.com/aistudio/organization/${I}/app/${b}`;case"model":return"https://dev.writer.com/home/models#model-overview";default:return}}),m=k({get(){if(l.enableMultiSelection){const b=o.value||"[]";try{return JSON.parse(b)}catch{return[]}}return o.value},set(b){o.value=l.enableMultiSelection?JSON.stringify(b):String(b)}});function y(b){l.resourceType!=="application"||!b||!b.inputs||typeof b.inputs!="object"||(v.value=JSON.stringify(b.inputs))}return(b,I)=>(s(),$(Q,{"is-binding-button-shown":e.isBindingButtonShown,"is-binding-enabled":p(n),label:e.label,unit:e.unit,hint:e.hint,error:e.error,"data-automation-key":e.fieldKey,"onUpdate:isBindingEnabled":p(_)},{default:O(()=>[C("div",{class:"BuilderFieldsWriterResourceId","data-automation-key":e.fieldKey},[p(n)?(s(),$(qe,{key:0,type:"state-template","component-id":e.componentId,"field-key":e.fieldKey,error:e.error,"default-value":""},null,8,["component-id","field-key","error"])):(s(),$(Te(S.value),{key:1,ref_key:"selectorEl",ref:c,modelValue:m.value,"onUpdate:modelValue":I[0]||(I[0]=q=>m.value=q),"enable-multi-selection":e.enableMultiSelection,onSelectedData:y},null,40,["modelValue","enable-multi-selection"])),r.value?(s(),w("a",{key:2,class:"BuilderFieldsWriterResourceId__link",href:r.value,target:"_blank","data-writer-tooltip":h.value},[x(L,{name:"external-link"})],8,hl)):E("",!0)],8,bl)]),_:1},8,["is-binding-button-shown","is-binding-enabled","label","unit","hint","error","data-automation-key","onUpdate:isBindingEnabled"]))}}),ke=U(Sl,[["__scopeId","data-v-59e28cc4"]]),kl=["data-automation-key"],Il=D({__name:"BuilderFieldsComponentId",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(e){const i=z({loader:()=>G(()=>import("./index-BDMDATBU.js").then(r=>r.bn),__vite__mapDeps([1,2]),import.meta.url)}),t=R(W.core),u=R(W.builderManager),l=e,o=Y({componentId:M(l,"componentId"),fieldKey:M(l,"fieldKey")});function*n(){yield t.getComponentById("root"),yield*t.getComponentsNested("root")}const _=k(()=>{const r=[];for(const m of n()){const y=t.getComponentDefinition(m==null?void 0:m.type);if(!(y!=null&&y.events)||Object.keys(y.events).length===0)continue;const{name:b,previewText:I,possibleImageUrls:q}=Ye(t,m),F=q.value,g=m.id;r.push({value:g,label:I.value||b.value,detail:I.value?b.value:void 0,icon:F})}return r}),v=k({get:()=>o.value,set(r){o.value=String(r)}}),c=k(()=>{let r=v.value;for(;r;){const m=t.getComponentById(r);if(m.type==="page")return m.id;r=m.parentId}}),S=k(()=>t.getComponentById(v.value));function h(){!v.value||!S.value||(c.value&&(u.mode.value="ui",t.setActivePageId(c.value)),u.setSelection(v.value,null,"click"))}return(r,m)=>(s(),w("div",{class:"BuilderFieldsComponentId","data-automation-key":l.fieldKey},[x(p(i),{modelValue:v.value,"onUpdate:modelValue":m[0]||(m[0]=y=>v.value=y),options:_.value,"enable-search":""},null,8,["modelValue","options"]),v.value?(s(),$(J,{key:0,variant:"neutral",size:"smallIcon","data-writer-tooltip":"Jump to the element",disabled:!S.value,onClick:h},{default:O(()=>[x(L,{name:"square-dashed-mouse-pointer"})]),_:1},8,["disabled"])):E("",!0)],8,kl))}}),Bl=U(Il,[["__scopeId","data-v-fcce992f"]]),Cl=["data-automation-key"],El=D({__name:"BuilderFieldsComponentEventType",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(e){const i=z({loader:()=>G(()=>import("./index-BDMDATBU.js").then(c=>c.bn),__vite__mapDeps([1,2]),import.meta.url)}),t=R(W.core),u=e,l=Y({componentId:M(u,"componentId"),fieldKey:M(u,"fieldKey")}),o=k(()=>t.getComponentById(u.componentId)),n=k(()=>{var c;return t.getComponentDefinition((c=o.value)==null?void 0:c.type)}),_=k(()=>{var m,y;const c=(y=Object.entries(((m=n.value)==null?void 0:m.fields)??{}).find(([,b])=>b.type===P.ComponentId))==null?void 0:y.at(0);if(c===void 0)return[];const S=o.value.content[String(c)],h=t.getComponentById(S),r=t.getComponentDefinition(h==null?void 0:h.type);return r!=null&&r.events?Object.keys(r.events).map(b=>({value:b,label:b})):[]}),v=k({get:()=>l.value,set(c){l.value=String(c)}});return(c,S)=>(s(),w("div",{class:"BuilderFieldsComponentEventType","data-automation-key":u.fieldKey},[_.value.length?(s(),$(p(i),{key:0,modelValue:v.value,"onUpdate:modelValue":S[0]||(S[0]=h=>v.value=h),options:_.value,"hide-icons":""},null,8,["modelValue","options"])):(s(),$(X,{key:1,modelValue:v.value,"onUpdate:modelValue":S[1]||(S[1]=h=>v.value=h)},null,8,["modelValue"]))],8,Cl))}});function wl(e,i,t){const{getEvaluatedFields:u}=we(e,t);function l(c){return!!pt.exec(c)}const o=k(()=>{var c;return(c=i.value.at(-1))==null?void 0:c.componentId}),n=k(()=>{if(o.value!==void 0)return e.getComponentById(o.value)}),_=k(()=>{var c,S;return(c=n.value)!=null&&c.type?((S=e.getComponentDefinition(n.value.type))==null?void 0:S.fields)??{}:{}}),v=k(()=>u(i.value));return k(()=>Object.entries(_.value).reduce((c,[S,h])=>{var y;const r=((y=n.value.content)==null?void 0:y[S])??"";if(l(r))return c;const m=v.value[S].value;return c[S]=xl(e,o.value,h,m),c},{}))}function xl(e,i,t,u){let l=t.validator;if(l===void 0&&typeof t.options=="object"&&t.options!==null&&Object.keys(t.options).length>0?l=dt(Object.keys(t.options)):typeof l=="function"&&(l=l(e,i)),l===void 0)return;const o=ct(l);if(!(o(u)||o.errors===void 0))return Tl(o.errors)}function $l(e){var t;if(e.keyword==="format"&&Object.values(vt).includes(e.params.format))return mt[e.params.format].errorMessage;let i="";return e.instancePath&&(i+=`${e.instancePath} `),i+=e.message,Array.isArray((t=e.params)==null?void 0:t.allowedValues)&&(i+=`: ${e.params.allowedValues.join(", ")}`),i}function Tl(e){return e.map($l).join(`
`)}const Vl={key:0,class:"BuilderSettingsProperties"},Fl=["inert"],Ol=D({__name:"BuilderSettingsProperties",props:{isReadOnly:{type:Boolean}},setup(e){const i=R(W.core),t=R(W.builderManager),u=R(W.secretsManager),l=H(new Set),o=k(()=>{var a,d;return Ne((d=(a=t.firstSelectedItem)==null?void 0:a.value)==null?void 0:d.instancePath)}),n=k(()=>i.getComponentById(t.firstSelectedId.value)),_=k(()=>{var a;return i.getComponentDefinition((a=n.value)==null?void 0:a.type)}),{getEvaluatedFields:v}=we(i,u),c=k(()=>v(o.value)),S=k(()=>{var d;const a=Object.entries(((d=_.value)==null?void 0:d.fields)??{}).filter(([V,B])=>B.isArtifactField?!1:B.enabled===void 0?!0:B.enabled({evaluatedFields:c.value}));return Object.fromEntries(a)});function h(a){return a.type===P.Code||a.type===P.JSONInput||a.type===P.Object||a.control===Ie.Textarea}const r=wl(i,o,u),m=H(N.General),y=Object.freeze({[N.General]:"Configure",[N.Style]:"Style",[N.Tools]:"Tools"}),b=k(()=>I.value.map(a=>({label:y[a]??a,value:a}))),I=k(()=>[N.General,N.Style,N.Tools].filter(a=>{var d;return(d=q.value[a])==null?void 0:d.length})),q=k(()=>{const a={[N.General]:[],[N.Style]:[],[N.Tools]:[]};return Object.entries(S.value).forEach(([d,V])=>{const B=V.category||N.General;a[B]&&a[B].push([d,V])}),{[N.General]:F(a[N.General]),[N.Style]:F(a[N.Style]),[N.Tools]:F(a[N.Tools])}});function F(a){return a.map((d,V)=>[d,V]).sort(([d,V],[B,T])=>{const A=d[1].order??0;return(B[1].order??0)-A||V-T}).map(([d])=>d)}function g(a){l.value.add(a)}function f(a){l.value.delete(a)}return(a,d)=>p(t).isSingleSelectionActive?(s(),w("div",Vl,[I.value.length>1?(s(),$(ae,{key:0,modelValue:m.value,"onUpdate:modelValue":d[0]||(d[0]=V=>m.value=V),variant:"bar",tabs:b.value},null,8,["modelValue","tabs"])):E("",!0),(s(!0),w(j,null,Z(I.value.length>1?[m.value]:I.value,V=>(s(),w("div",{key:V,inert:e.isReadOnly,class:"BuilderSettingsProperties__category"},[(s(!0),w(j,null,Z(q.value[V],([B,T])=>(s(),w("div",{key:B,class:"BuilderSettingsProperties__category__field"},[T.type===p(P).Boolean?(s(),$(cn,{key:0,"field-key":B,"component-id":n.value.id,label:T.name??B,hint:T.desc,unit:T.type,error:p(r)[B]},null,8,["field-key","component-id","label","hint","unit","error"])):T.type===p(P).WriterGraphId?(s(),$(ke,{key:1,"is-binding-button-shown":"","field-key":B,"component-id":n.value.id,label:T.name??B,hint:T.desc,unit:T.type,error:p(r)[B],"resource-type":"graph"},null,8,["field-key","component-id","label","hint","unit","error"])):T.type===p(P).WriterGraphIds?(s(),$(ke,{key:2,"is-binding-button-shown":"","field-key":B,"component-id":n.value.id,label:T.name??B,hint:T.desc,unit:T.type,error:p(r)[B],"resource-type":"graph","enable-multi-selection":""},null,8,["field-key","component-id","label","hint","unit","error"])):T.type===p(P).WriterAppId?(s(),$(ke,{key:3,"field-key":B,"component-id":n.value.id,label:T.name??B,hint:T.desc,unit:T.type,error:p(r)[B],"resource-type":"application"},null,8,["field-key","component-id","label","hint","unit","error"])):T.type===p(P).WriterModelId?(s(),$(ke,{key:4,"field-key":B,"component-id":n.value.id,label:T.name??B,hint:T.desc,unit:T.type,error:p(r)[B],"resource-type":"model"},null,8,["field-key","component-id","label","hint","unit","error"])):(s(),$(Q,{key:5,label:V==="Tools"?void 0:T.name??B,hint:T.desc,unit:T.type,error:p(r)[B],"is-expansible":h(T),onExpand:A=>g(B),onShrink:A=>f(B)},{default:O(()=>[T.type==p(P).Color?(s(),$(an,{key:0,"field-key":B,"component-id":n.value.id,error:p(r)[B]},null,8,["field-key","component-id","error"])):E("",!0),T.type==p(P).Shadow?(s(),$(Hn,{key:1,"field-key":B,"component-id":n.value.id,error:p(r)[B]},null,8,["field-key","component-id","error"])):E("",!0),T.type==p(P).KeyValue?(s(),$(In,{key:2,"field-key":B,"component-id":n.value.id,"instance-path":o.value,error:p(r)[B]},null,8,["field-key","component-id","instance-path","error"])):E("",!0),T.type==p(P).Text||T.type==p(P).Number||T.type==p(P).Binding||T.type==p(P).IdKey?(s(),$(qe,{key:3,type:T.type==p(P).Binding?"state":"template","field-key":B,"field-control":T.control,"component-id":n.value.id,"default-value":T.default,error:p(r)[B]},null,8,["type","field-key","field-control","component-id","default-value","error"])):E("",!0),T.type==p(P).BlueprintId?(s(),$(yl,{key:4,"field-key":B,"component-id":n.value.id},null,8,["field-key","component-id"])):E("",!0),T.type==p(P).BlueprintKey?(s(),$(vl,{key:5,"field-key":B,"component-id":n.value.id},null,8,["field-key","component-id"])):E("",!0),T.type==p(P).Handler?(s(),$(_l,{key:6,"field-key":B,"component-id":n.value.id},null,8,["field-key","component-id"])):E("",!0),T.type==p(P).Object?(s(),$(Cn,{key:7,"field-key":B,"component-id":n.value.id,"default-value":T.default,error:p(r)[B]},null,8,["field-key","component-id","default-value","error"])):E("",!0),T.type==p(P).JSONInput?(s(),$(We,{key:8,"field-key":B,"component-id":n.value.id,"is-expanded":l.value.has(B),"input-language":"json"},null,8,["field-key","component-id","is-expanded"])):E("",!0),T.type==p(P).Width?(s(),$(nl,{key:9,"field-key":B,"component-id":n.value.id,error:p(r)[B]},null,8,["field-key","component-id","error"])):E("",!0),T.type==p(P).HAlign?(s(),$(Re,{key:10,direction:"horizontal","field-key":B,"component-id":n.value.id,error:p(r)[B]},null,8,["field-key","component-id","error"])):E("",!0),T.type==p(P).VAlign?(s(),$(Re,{key:11,direction:"vertical","field-key":B,"component-id":n.value.id,error:p(r)[B]},null,8,["field-key","component-id","error"])):E("",!0),T.type==p(P).Padding?(s(),$(Vn,{key:12,"field-key":B,"component-id":n.value.id,error:p(r)[B]},null,8,["field-key","component-id","error"])):E("",!0),T.type==p(P).Tools?(s(),$(ul,{key:13,"field-key":B,"component-id":n.value.id},null,8,["field-key","component-id"])):E("",!0),T.type==p(P).Code?(s(),$(We,{key:14,"field-key":B,"component-id":n.value.id,"is-expanded":l.value.has(B),"input-language":"python"},null,8,["field-key","component-id","is-expanded"])):E("",!0),T.type==p(P).ComponentId?(s(),$(Bl,{key:15,"field-key":B,"component-id":n.value.id,error:p(r)[B]},null,8,["field-key","component-id","error"])):E("",!0),T.type==p(P).ComponentEventType?(s(),$(El,{key:16,"field-key":B,"component-id":n.value.id,error:p(r)[B]},null,8,["field-key","component-id","error"])):E("",!0)]),_:2},1032,["label","hint","unit","error","is-expansible","onExpand","onShrink"]))]))),128))],8,Fl))),128))])):E("",!0)}}),ql=U(Ol,[["__scopeId","data-v-6fa8dfdf"]]),Ml={},Al={class:"WdsTitle"};function Dl(e,i){return s(),w("h2",Al,[Le(e.$slots,"default",{},void 0,!0)])}const Xe=U(Ml,[["render",Dl],["__scopeId","data-v-3b68d589"]]),Rl=["inert"],Wl="Connect the result of this block to a dynamic variable you can use across this agent",Pl=D({__name:"BuilderSettingsBinding",props:{isReadOnly:{type:Boolean}},setup(e){const i=R(W.core),t=R(W.builderManager),u=R(W.secretsManager),l=Ce(i,t),{getEvaluatedFields:o}=we(i,u),n=k(()=>{var h,r;return Ne((r=(h=t.firstSelectedItem)==null?void 0:h.value)==null?void 0:r.instancePath)}),_=k(()=>i.getComponentById(t.firstSelectedId.value)),v=k(()=>o(n.value)),c=k(()=>{const h=i.getComponentDefinition(_.value.type);return h?Object.entries(h.events).filter(([,y])=>y.bindable?y.enabled===void 0?!0:y.enabled({evaluatedFields:v.value}):!1).map(([y])=>y)[0]:void 0});function S(h){l.setBinding(t.firstSelectedId.value,h,c.value)}return ve(c,()=>{var r;if(!c.value)return;const h=(r=_.value)==null?void 0:r.binding;h!=null&&h.stateRef&&c.value!==h.eventType&&S(h.stateRef)}),(h,r)=>p(t).isSingleSelectionActive?(s(),w("div",{key:0,inert:e.isReadOnly,class:"BuilderSettingsBinding"},[x(Xe,null,{default:O(()=>r[1]||(r[1]=[ue("Binding")])),_:1}),x(Q,{class:"BuilderSettingsBinding__main",label:"Link Variable",hint:Wl},{default:O(()=>{var m;return[x(te,{type:"state",value:(m=_.value.binding)==null?void 0:m.stateRef,"component-id":p(t).firstSelectedId.value,onInput:r[0]||(r[0]=y=>S(y.target.value))},null,8,["value","component-id"])]}),_:1})],8,Rl)):E("",!0)}}),Ul=U(Pl,[["__scopeId","data-v-f92e4a05"]]),Kl=["inert"],jl={class:"main"},Ll={class:"flexRow"},Nl=["checked"],zl='Reference a state or context element that will evaluate to true or false. Reference the element directly, i.e. use "my_var" instead of "@{my_var}".',Gl=D({__name:"BuilderSettingsVisibility",props:{isReadOnly:{type:Boolean}},setup(e){const i=[{label:"Yes",value:"yes"},{label:"No",value:"no"},{label:"Custom",value:"custom"}],t=k({get(){const _=n.value.visible;return(_==null?void 0:_.expression)==="custom"?"custom":_===void 0||_.expression===!0?"yes":"no"},set(_){var v,c;_==="custom"?o(n.value.id,"custom",(v=n.value.visible)==null?void 0:v.binding,(c=n.value.visible)==null?void 0:c.reversed):o(n.value.id,_==="yes")}}),u=R(W.core),l=R(W.builderManager),{setVisibleValue:o}=Ce(u,l),n=k(()=>u.getComponentById(l.firstSelectedId.value));return(_,v)=>p(l).isSingleSelectionActive?(s(),w("div",{key:0,inert:e.isReadOnly,class:"BuilderSettingsVisibility"},[x(Xe,null,{default:O(()=>v[3]||(v[3]=[ue("Visibility")])),_:1}),C("div",jl,[x(ae,{modelValue:t.value,"onUpdate:modelValue":v[0]||(v[0]=c=>t.value=c),tabs:i},null,8,["modelValue"]),typeof n.value.visible<"u"&&n.value.visible.expression==="custom"?(s(),$(Q,{key:0,hint:zl},{default:O(()=>[x(te,{value:n.value.visible.binding,type:"state",placeholder:"my_visibility_state_value",onInput:v[1]||(v[1]=c=>p(o)(n.value.id,"custom",c.target.value,n.value.visible.reversed))},null,8,["value"]),C("div",Ll,[C("input",{type:"checkbox",checked:n.value.visible.reversed,onInput:v[2]||(v[2]=c=>p(o)(n.value.id,"custom",n.value.visible.binding,c.target.checked))},null,40,Nl),v[4]||(v[4]=C("span",null,"Reverse",-1))])]),_:1})):E("",!0)])],8,Kl)):E("",!0)}}),Yl=U(Gl,[["__scopeId","data-v-c4316bf1"]]),Pe={apiTriggerDetails:z({loader:()=>G(()=>import("./BuilderSettingsArtifactAPITriggerDetails-rD6mKgIb.js"),__vite__mapDeps([20,1,2,8,9,3,4,5,6,7,21]),import.meta.url)})},Jl={class:"BuilderSettingsMain"},Hl={key:0,class:"BuilderSettingsMain__description"},Xl={key:1,class:"BuilderSettingsMain__warning cmc-warning"},Ql={class:"BuilderSettingsMain__section"},Zl={class:"BuilderSettingsMain__componentId"},eo=D({__name:"BuilderSettingsMain",setup(e){const i=z({loader:()=>G(()=>import("./BuilderSettingsHandlers-CM0gXbKQ.js"),__vite__mapDeps([22,1,2,23,5,6,24,25,26,3,4,7,8,9,27]),import.meta.url)}),t=R(W.core),u=R(W.builderManager),l=k(()=>t.getComponentById(u.firstSelectedId.value)),o=k(()=>l.value.isCodeManaged),n=k(()=>u.isSingleSelectionActive.value?!_.value.toolkit||_.value.toolkit=="core":!1),_=k(()=>{const{type:y}=l.value;return t.getComponentDefinition(y)});ve(l,y=>{y||u.setSelection(null)});const{copy:v,copied:c}=ze();function S(){v(u.firstSelectedId.value)}const h=k(()=>{var y;return Object.values(((y=_.value)==null?void 0:y.events)??{}).some(b=>b.bindable)}),r=k(()=>{var y;return(((y=_.value)==null?void 0:y.settingsArtifacts)??[]).filter(b=>b.position!=="bottom")}),m=k(()=>{var y;return(((y=_.value)==null?void 0:y.settingsArtifacts)??[]).filter(b=>b.position==="bottom")});return(y,b)=>(s(),w("div",Jl,[_.value.description?(s(),w("p",Hl,ee(_.value.description),1)):E("",!0),o.value?(s(),w("p",Xl,[C("span",null,[x(L,{name:"triangle-alert"})]),b[0]||(b[0]=C("span",null," This component is instantiated in code. All settings in this panel are read-only and cannot be edited. ",-1))])):E("",!0),C("div",Ql,[x(ql,{"is-read-only":o.value},null,8,["is-read-only"]),(s(!0),w(j,null,Z(r.value,I=>(s(),$(Te(p(Pe)[I.key]),{key:I.key,inert:o.value},null,8,["inert"]))),128)),n.value?(s(),w(j,{key:0},[h.value?(s(),$(Ul,{key:0,"is-read-only":o.value},null,8,["is-read-only"])):E("",!0),x(p(i),{"is-read-only":o.value},null,8,["is-read-only"]),x(Yl,{"is-read-only":o.value},null,8,["is-read-only"])],64)):E("",!0),(s(!0),w(j,null,Z(m.value,I=>(s(),$(Te(p(Pe)[I.key]),{key:I.key,inert:o.value},null,8,["inert"]))),128))]),b[1]||(b[1]=C("div",{class:"BuilderSettingsMain__spacer"},null,-1)),C("div",Zl,[C("p",{class:"BuilderSettingsMain__componentId__text",onClick:S},ee(p(u).firstSelectedId.value),1),x(J,{class:"BuilderSettingsMain__componentId__btn",size:"smallIcon",variant:"tertiary","data-writer-tooltip":p(c)?"Copied!":"Copy block id","data-automation-action":"copy-component-id",onClick:S},{default:O(()=>[x(L,{name:p(c)?"check":"clipboard"},null,8,["name"])]),_:1},8,["data-writer-tooltip"])])]))}}),to=U(eo,[["__scopeId","data-v-aa8c395b"]]),no=["data-writer-id"],lo=D({__name:"BuilderSettingsActions",setup(e){const i=R(W.core),t=R(W.builderManager),u=Oe(i),{dropdownOptions:l,handleDropdownSelect:o}=Ge(i,t,u);function n(){o(Ve.Delete)}const _=k(()=>{const c=l.value.find(S=>S.value===Ve.Delete);return c?c.disabled:!0}),v=t.firstSelectedId;return(c,S)=>(s(),w("div",{class:"BuilderSettingsActions","data-writer-id":p(v)},[p(t).selectionStatus.value===p(pe).Multiple?(s(),$(J,{key:0,class:"BuilderSettingsActions__btn",variant:"neutral",size:"smallIcon","data-automation-action":"clear-selection","data-writer-tooltip":"Clear selection","data-writer-tooltip-placement":"left",onClick:S[0]||(S[0]=h=>p(t).setSelection(null))},{default:O(()=>[x(L,{name:"x"})]),_:1})):E("",!0),x(J,{class:"BuilderSettingsActions__btn BuilderSettingsActions__btn--delete",variant:"neutral",size:"smallIcon","data-automation-action":"delete","data-writer-tooltip":"Delete (Del)","data-writer-tooltip-placement":"left",disabled:_.value,onClick:n},{default:O(()=>[x(L,{name:"trash-2"})]),_:1},8,["disabled"])],8,no))}}),oo=U(lo,[["__scopeId","data-v-08efde31"]]),ao=["id"],io=["value"],ro=D({__name:"BuilderSettingsAddComponentModal",props:ie({selectedId:{type:String,required:!0}},{isOpen:{type:Boolean,default:!1},isOpenModifiers:{}}),emits:["update:isOpen"],setup(e){const i=R(W.core),t=R(W.builderManager),u=ft(),l=Oe(i),{createAndInsertComponent:o}=Ce(i,t,l),n=e,_=k(()=>i.getContainableTypes(n.selectedId).reduce((h,r)=>(h[r]=i.getComponentDefinition(r),h),{})),v=ye(e,"isOpen");function c(){v.value=!1}function S(h){const r=h.target.value;if(!r)return;const m=Object.entries(_.value).find(([b,I])=>I.name==r);if(!m)return;const y=m[0];o(y,n.selectedId),c()}return(h,r)=>v.value?(s(),$(Fe,{key:0,title:"Add child component","display-close-button":"",onClose:c},{default:O(()=>[x(X,{type:"text",list:p(u),placeholder:"Component...",onChange:S},null,8,["list"]),C("datalist",{id:p(u)},[(s(!0),w(j,null,Z(_.value,(m,y)=>(s(),w("option",{key:y,value:m.name},ee(m.name),9,io))),128))],8,ao)]),_:1})):E("",!0)}});function so(e,i=500){const t=H(0);let u=null;function l(){e.value&&(t.value=e.value.clientHeight)}return re(()=>{l(),u=setInterval(l,i)}),je(()=>{u&&clearInterval(u)}),t}const uo={key:0,class:"BuilderSettings__collapser"},co={key:1,class:"BuilderSettings__titleBar"},po={class:"BuilderSettings__titleBar__title"},vo={class:"BuilderSettings__titleBar__actions"},mo=["data-writer-tooltip"],fo=D({__name:"BuilderSettings",setup(e){yt(g=>({baa1d07a:p(t).getMode()=="blueprints"?"82px":"20px","1e1ab0af":o.value}));const i=R(W.core),t=R(W.builderManager),u=K("root"),l=so(u,1e3),o=k(()=>{if(!l.value)return"unset";const g=l.value-42;return g>0?`${g}px`:"unset"}),{component:n,definition:_}=gt(i,t.firstSelectedId),v=_t(n,_),{copy:c,copied:S}=ze();function h(){c(v.value)}const r=Oe(i),m=H(!1),{dropdownOptions:y,handleDropdownSelect:b}=Ge(i,t,r,{[Ve.Add]:()=>m.value=!0}),I=k(()=>t.selectionStatus.value===pe.Multiple?!0:t.isSettingsBarCollapsed.value),q=k(()=>t.selection.value.length);function F(){t.isSettingsBarCollapsed.value=!t.isSettingsBarCollapsed.value}return ve(n,g=>{g||t.setSelection(null)}),(g,f)=>p(t).selectionStatus.value!==p(pe).None?(s(),w("div",{key:0,ref_key:"root",ref:u,class:Ee(["BuilderSettings",{"BuilderSettings--collapsed":I.value}])},[p(t).isSingleSelectionActive.value?(s(),w("div",uo,[I.value?(s(),$(J,{key:0,class:"BuilderSettings__collapser__btn",size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":"Expand settings","data-automation-action":"expand-settings",onClick:F},{default:O(()=>[x(L,{name:"settings"})]),_:1})):(s(),$(J,{key:1,class:"BuilderSettings__collapser__btn",size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":"Collapse settings","data-automation-action":"collapse-settings",onClick:F},{default:O(()=>[x(L,{name:"arrow-right-to-line"})]),_:1}))])):E("",!0),p(t).isSingleSelectionActive?(s(),w("div",co,[C("p",po,ee(p(_).name),1),C("div",vo,[p(v)?(s(),$(J,{key:0,size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"bottom","data-writer-tooltip":p(S)?"Copied!":"Copy result variable",onClick:ne(h,["prevent"])},{default:O(()=>[x(L,{name:"at-sign"})]),_:1},8,["data-writer-tooltip"])):E("",!0),x(bt,{class:"BuilderSettings__titleBar__actions__more","data-automation-action":"settings-actions-dropdown",options:p(y),"trigger-custom-size":"32px","trigger-icon":"ellipsis-vertical",onSelect:p(b)},null,8,["options","onSelect"])])])):E("",!0),p(t).selectionStatus.value===p(pe).Multiple?(s(),w("div",{key:2,class:"BuilderSettings__selectionCount","data-writer-tooltip-placement":"left","data-writer-tooltip":`${q.value} components selected`},[C("p",null,ee(q.value),1)],8,mo)):E("",!0),I.value&&p(t).selectionStatus.value===p(pe).Multiple?(s(),$(oo,{key:3,class:"BuilderSettings__actions"})):E("",!0),x(to,{class:"BuilderSettings__main",inert:I.value},null,8,["inert"]),p(t).isSingleSelectionActive.value?(s(),$(ro,{key:4,"is-open":m.value,"onUpdate:isOpen":f[0]||(f[0]=a=>m.value=a),"selected-id":p(t).firstSelectedId.value},null,8,["is-open","selected-id"])):E("",!0)],2)):E("",!0)}}),yo=U(fo,[["__scopeId","data-v-6a0c1c16"]]),ko=Object.freeze(Object.defineProperty({__proto__:null,default:yo},Symbol.toStringTag,{value:"Module"}));export{We as B,Xe as W,ae as a,ko as b,fe as e,It as u};
