# SPDX-FileCopyrightText: 2023-2025 Helge
#
# SPDX-License-Identifier: MIT

when:
  - event: tag
    branch: main

steps:
  release:
    image: ghcr.io/astral-sh/uv:python3.11-alpine
    environment:
      UV_PUBLISH_TOKEN: { from_secret: pypi_api_key }
    commands:
      - uv sync --frozen
      - uv build
      - uv publish
