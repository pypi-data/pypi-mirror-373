[project]
name = "ultrapyup"
version = "0.6.0b2"
description = "A tool to empower your Python projects"
readme = "README.md"
authors = [{ name = "teyik0", email = "teyik0.fr@icloud.com" }]
requires-python = ">=3.9"
dependencies = ["inquirerpy>=0.3.4", "toml>=0.10.2", "typer>=0.16.0"]

[dependency-groups]
dev = [
    "commitlint>=1.3.0",
    "lefthook>=1.12.2",
    "pytest>=8.4.1",
    "pytest-cov>=6.2.1",
    "pytest-xdist>=3.8.0",
    "ruff>=0.12.1",
    "ty>=0.0.1a19",
]

[project.scripts]
ultrapyup = "ultrapyup:app"

[build-system]
requires = ["uv_build>=0.8.0,<0.9"]
build-backend = "uv_build"

[tool.ruff]
extend = "src/ultrapyup/resources/ruff_base.toml"

[tool.ty.environment]
root = ["./src"]

[tool.pytest.ini_options]
testpaths = ["tests"]
python_files = ["test_*.py"]
python_classes = ["Test*"]
python_functions = ["test_*"]
addopts = ["-v", "--tb=short", "--strict-markers", "--disable-warnings"]

[tool.coverage.run]
source = ["src/ultrapyup"]
branch = true
parallel = true
concurrency = ["multiprocessing"]

[tool.coverage.report]
exclude_lines = [
    "pragma: no cover",
    "def __repr__",
    "if self.debug:",
    "raise AssertionError",
    "raise NotImplementedError",
    "if __name__ == .__main__.:",
    "if TYPE_CHECKING:",
]
show_missing = true
skip_covered = false
precision = 2
fail_under = 80

[tool.coverage.html]
directory = "htmlcov"
