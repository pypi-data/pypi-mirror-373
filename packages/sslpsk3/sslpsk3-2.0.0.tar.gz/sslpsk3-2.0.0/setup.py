# -*- coding: utf-8 -*-
from setuptools import setup

packages = \
['sslpsk3']

package_data = \
{'': ['*']}

setup_kwargs = {
    'name': 'sslpsk3',
    'version': '2.0.0',
    'description': 'Adds TLS-PSK support to the Python ssl package',
    'long_description': '# sslpsk3\n\n[![PyPI version](https://badge.fury.io/py/sslpsk3.svg)](https://badge.fury.io/py/sslpsk3)\n\nThis module adds TLS-PSK support to the `ssl` package in Python 3.7+.\n\n## Installation\n\n```pip install sslpsk3```\n\n`pip` builds from source for Linux and Mac OSX, so a C compiler, the Python\ndevelopment headers, and the OpenSSL development headers are required. For\nMicrosoft Windows, pre-built binaries are available so there are no such\nprerequisites.\n\n## Usage\n\nThe old method of using `ssl.wrap_socket(...)` is deprecated and not available in Python 3.12+, so the recommended way\nis `SSLContext`.\n\nThis library introduces a drop-in replacement `SSLPSKContext` class which supports TLS-PSK.\n\nOn Python 3.13 and newer, it uses the native implementation; on older versions, a custom implementation based on OpenSSL\nis used.\n\nServer code example:\n\n```py\nimport ssl\nfrom sslpsk3 import SSLPSKContext\n\ncontext = SSLPSKContext(ssl.PROTOCOL_TLS_SERVER)\ncontext.maximum_version = ssl.TLSVersion.TLSv1_2\ncontext.set_ciphers("PSK")\ncontext.set_psk_server_callback(lambda identity: b"abcdef", identity_hint="server_hint")\nsock = context.wrap_socket(...)\n```\n\nClient code example:\n\n```py\nimport ssl\nfrom sslpsk3 import SSLPSKContext\n\ncontext = SSLPSKContext(ssl.PROTOCOL_TLS_CLIENT)\ncontext.check_hostname = False\ncontext.verify_mode = ssl.CERT_NONE\ncontext.maximum_version = ssl.TLSVersion.TLSv1_2\ncontext.set_ciphers("PSK")\ncontext.set_psk_client_callback(lambda hint: ("client_identity", b"abcdef"))\nsock = context.wrap_socket(...)\n```\n\nFor more information refer\nto [the Python documentation](https://docs.python.org/3.13/library/ssl.html#ssl.SSLContext.set_psk_client_callback) as\nwell as [the `test_context_simple.py` test file](tests/test_context_simple.py).\n\nThat being said, this library also still contains a backported version of `wrap_context()`, which works the same way as\nin previous versions of `sslpsk`/`sslpsk2`/`sslpsk3`. If possible, please migrate to `SSLPSKContext` anyway.\n\n## Backstory\n\nThere were two published versions on PyPI, both without Python 3.11 support.\n\nAdditionally, for whatever reason, the Windows build of `sslpsk2` for Python 3.10 has been linked against OpenSSL 3,\nwhile Python 3.10 on Windows uses OpenSSL 1.1.1, which causes run-time crashes (Python started using OpenSSL 3 in\n3.11.5).\n\nThis fork aims to fix the incompatibility between Python and OpenSSL versions.\n\nAvailability of binary wheels for Windows:\n\n|             | `sslpsk` | `sslpsk2` | `sslpsk3` |\n|-------------|----------|-----------|-----------|\n| Python 2.7  | 1.0.0    | -         | -         |\n| Python 3.3  | 1.0.0    | -         | -         |\n| Python 3.4  | 1.0.0    | -         | -         |\n| Python 3.5  | 1.0.0    | -         | -         |\n| Python 3.6  | 1.0.0    | -         | -         |\n| Python 3.7  | -        | 1.0.1     | 2.0.0+    |\n| Python 3.8  | -        | 1.0.1     | 1.1.0+    |\n| Python 3.9  | -        | 1.0.1     | 1.1.0+    |\n| Python 3.10 | -        | 1.0.2     | 1.1.0+    |\n| Python 3.11 | -        | -         | 1.1.0+    |\n| Python 3.12 | -        | -         | 2.0.0+    |\n| Python 3.13 | -        | -         | 2.0.0+    |\n\n## Changelog\n\n+ 0.1.0 (July 31, 2017)\n    + initial release\n+ 1.0.0 (August 2, 2017)\n    + include tests in pip distribution\n    + add support for Windows\n+ 1.0.1 (August 11, 2020)\n    + OpenSSL 1.1.1\n    + Fix with _sslobj\n    + Build from source in Windows with error description, when OpenSSL files are not present\n+ 1.1.0 (September 13, 2023)\n    + Migrate to GitHub actions\n    + Reformat code\n    + Support OpenSSL v1 and v3\n+ 2.0.0 (September 2, 2025)\n    + Rewrite library based on SSLContext\n    + Support Python 3.13 and later\n    + Add a new test suite\n\n## Acknowledgments\n\nFork of [drbild/sslpsk](https://github.com/drbild/sslpsk).\n\nThe main approach was borrowed from\n[webgravel/common-ssl](https://github.com/webgravel/common-ssl).\n\nVersion from [autinerd/sslpsk2](https://github.com/autinerd/sslpsk2) updated to work with OpenSSL v1 and v3.\n\nUpdates for `SSLContext` inspired by a [PR created by @doronz88](https://github.com/drbild/sslpsk/pull/28).\n\n## Contributing\n\nPlease submit bugs, questions, suggestions, or (ideally) contributions as\nissues and pull requests on GitHub.\n\n## License\n\nCopyright 2017 David R. Bild, 2020 Sidney Kuyateh, 2025 Kuba Szczodrzyński\n\nLicensed under the Apache License, Version 2.0 (the "License"); you may not\nuse this work except in compliance with the License. You may obtain a copy of\nthe License from the LICENSE.txt file or at\n\n[http://www.apache.org/licenses/LICENSE-2.0](http://www.apache.org/licenses/LICENSE-2.0)\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS, WITHOUT\nWARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\nLicense for the specific language governing permissions and limitations under\nthe License.\n',
    'author': 'Kuba Szczodrzyński',
    'author_email': 'kuba@szczodrzynski.pl',
    'maintainer': 'None',
    'maintainer_email': 'None',
    'url': 'None',
    'packages': packages,
    'package_data': package_data,
    'python_requires': '>=3.7,<4.0',
}
from sslpsk3_build import *
build(setup_kwargs)

setup(**setup_kwargs)
