    {% extends "collection.json.j2" %}
    {% block id %}
      {% for study in manifest.studies %}
        {% if study.id in collection.parents %}
      "@id": "./{{ study.name }}/{{ collection.name }}",
        {% endif %}
      {% endfor %}
    {% endblock %}
    {% block hasPart %}
        {% for image in manifest.images if image.id in collection.images %}{% for study in manifest.studies if study.id in collection.parents %}{"@id": "./{{ study.name }}/{{ collection.name }}/{{ image.name }}"}{% endfor %}{% if not loop.last %},{% endif %}{% endfor %}
    {% endblock %}
    {% block keywords %}
      {% for annotation in manifest.quay_annotations if annotation.ann_type == "tag_annotation" and annotation.id in collection.quay_annotations %}{"@id": "{{ annotation.value }}"}{% if not loop.last %},{% endif %}{% endfor %}
    {% endblock %}
    {% block subjectOf %}
      {% for annotation in collection.quay_annotations if annotation.ann_type != "tag_annotation" %}{"@id": "{{ annotation }}"}{% if not loop.last %},{% endif %}{% endfor %}
    {% endblock %}
