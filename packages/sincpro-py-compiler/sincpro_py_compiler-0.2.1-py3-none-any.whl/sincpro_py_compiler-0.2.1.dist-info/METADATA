Metadata-Version: 2.3
Name: sincpro-py-compiler
Version: 0.2.1
Summary: Herramienta simple para compilar proyectos Python (.py â†’ .pyc) y distribuir cÃ³digo compilado con protecciÃ³n por contraseÃ±a
License: MIT
Keywords: python,compiler,pyc,build,packaging,distribution,security,encryption,password-protection
Author: Sincpro SRL
Author-email: dev@sincpro.com
Requires-Python: >=3.10,<4.0
Classifier: Development Status :: 5 - Production/Stable
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Topic :: Software Development :: Build Tools
Classifier: Topic :: Software Development :: Compilers
Provides-Extra: encryption
Requires-Dist: cryptography (>=43.0.0,<44.0.0) ; extra == "encryption"
Project-URL: Documentation, https://github.com/Sincpro-SRL/sincpro_py_compiler/tree/main/docs
Project-URL: Homepage, https://github.com/Sincpro-SRL/sincpro_py_compiler
Project-URL: Repository, https://github.com/Sincpro-SRL/sincpro_py_compiler
Description-Content-Type: text/markdown

# SincPro Python Compiler

Una herramienta simple y efectiva para compilar proyectos Python (.py â†’ .pyc) y distribuir cÃ³digo compilado de forma segura.

## ðŸŽ¯ PropÃ³sito

- **Compilar archivos .py a .pyc** para distribuciÃ³n segura del cÃ³digo
- **Copiar archivos no-Python tal como estÃ¡n** (XML, JS, TXT, etc.)
- **Excluir archivos especÃ­ficos** segÃºn el tipo de proyecto
- **Ocultar cÃ³digo fuente** para distribuciÃ³n a clientes

## âš¡ InstalaciÃ³n

```bash
pip install sincpro-py-compiler
```

O desde el cÃ³digo fuente:

```bash
git clone https://github.com/Sincpro-SRL/sincpro_py_compiler.git
cd sincpro_py_compiler
poetry install
```

## ðŸš€ Uso RÃ¡pido

### Comandos bÃ¡sicos

```bash
# Compilar proyecto bÃ¡sico
sincpro-compile ./mi_proyecto

# Especificar directorio de salida
sincpro-compile ./mi_proyecto -o ./compilado

# Usar template para Django
sincpro-compile ./mi_django_app -t django

# Usar template para Odoo
sincpro-compile ./mi_addon_odoo -t odoo

# Ver templates disponibles
sincpro-compile --list-templates
```

### ðŸ”’ ProtecciÃ³n del CÃ³digo Compilado (Nuevo Feature)

**SincPro Python Compiler** ahora incluye funcionalidades de seguridad para proteger tu cÃ³digo compilado mediante compresiÃ³n con contraseÃ±a o encriptaciÃ³n simple. Esto es especialmente Ãºtil para la distribuciÃ³n comercial donde necesitas una licencia/contraseÃ±a para acceder al cÃ³digo.

#### CompresiÃ³n con ContraseÃ±a

```bash
# Compilar y comprimir con contraseÃ±a
sincpro-compile ./mi_proyecto --compress --password "mi_licencia_comercial"

# Resultado: mi_proyecto_compilado.zip (protegido)
```

#### EncriptaciÃ³n Simple

```bash
# Compilar y encriptar con contraseÃ±a
sincpro-compile ./mi_proyecto --encrypt --password "clave_secreta"

# Resultado: mi_proyecto_compilado.enc (encriptado)
```

#### Desproteger CÃ³digo

Para usar cÃ³digo protegido, utiliza el comando de desprotecciÃ³n:

```bash
# Descomprimir cÃ³digo protegido
sincpro-decrypt ./codigo_protegido.zip --password "mi_licencia_comercial" -o ./codigo_desprotegido

# Desencriptar cÃ³digo protegido  
sincpro-decrypt ./codigo_protegido.enc --password "clave_secreta" -o ./codigo_desprotegido
```

#### Ventajas de la ProtecciÃ³n

- **DistribuciÃ³n Segura**: El cÃ³digo compilado no puede ser accedido sin la contraseÃ±a/licencia
- **Control de Licencias**: Cada cliente necesita su propia contraseÃ±a para ejecutar el cÃ³digo
- **ProtecciÃ³n Comercial**: Impide el acceso casual al cÃ³digo .pyc
- **Flexibilidad**: Elige entre compresiÃ³n (mÃ¡s compatible) o encriptaciÃ³n (mÃ¡s segura)

### ðŸ“¦ Copias fieles por template (Nuevo Feature)

A partir de la versiÃ³n actual, SincPro Python Compiler permite definir archivos y carpetas que serÃ¡n **copiados fielmente** (sin compilar ni excluir) segÃºn el template seleccionado.

Por ejemplo, en el template `odoo`, los siguientes archivos y carpetas se copian tal cual al directorio de salida:

- `__manifest__.py`
- `__openerp__.py`
- `static/`
- `data/`
- `demo/`
- `security/`

Esto es Ãºtil para mantener la integridad de archivos requeridos por Odoo y otros frameworks, evitando su compilaciÃ³n o exclusiÃ³n.

### Opciones avanzadas de copia fiel

Puedes definir archivos y carpetas adicionales para copiar fielmente usando la opciÃ³n:

```bash
sincpro-compile ./mi_proyecto --copy-faithful-file mi_copias_fieles.txt
```

El archivo debe contener un patrÃ³n por lÃ­nea, por ejemplo:

```
# Copias fieles personalizadas
config.json
assets/
logo.png
```

Estos patrones se suman a los definidos por el template seleccionado.

### Copia fiel usando patrones directos

AdemÃ¡s de usar archivos de patrones, puedes pasar patrones directos o una lista separada por comas con la opciÃ³n:

```bash
sincpro-compile ./mi_addon_odoo --copy-faithful-file __manifest__.py -o ./dist
```

O mÃºltiples patrones:

```bash
sincpro-compile ./mi_addon_odoo --copy-faithful-file "__manifest__.py,config.json,logo.png" -o ./dist
```

Esto copiarÃ¡ fielmente los archivos y carpetas indicados, sin necesidad de crear un archivo de patrones.

TambiÃ©n puedes seguir usando archivos de texto o archivos Python (.py) con la variable `COPY_FAITHFUL_PATTERNS` para definir mÃºltiples patrones.

### Ejemplo de uso

```bash
sincpro-compile ./mi_addon_odoo -t odoo
```

En este caso, los archivos `.py` se compilan a `.pyc`, los archivos definidos como "copias fieles" se copian tal cual, y el resto se excluye segÃºn el template.

Puedes personalizar los templates o agregar tus propios patrones en la carpeta `resources/exclude_patterns/`.

### Uso con diferentes tipos de proyecto

#### Proyecto Python bÃ¡sico

```bash
sincpro-compile ./mi_app -t basic
```

#### Proyecto Django

```bash
sincpro-compile ./mi_django_project -t django -o ./dist
```

#### Addon Odoo

```bash
sincpro-compile ./mi_addon -t odoo -o ./compilado
```

## ðŸ“‹ Templates Disponibles

### `basic` - Proyecto Python bÃ¡sico

Excluye:

- `__pycache__/`, `*.pyc`
- `.git/`, `.venv/`, `venv/`, `env/`
- Archivos de log y temporales
- Archivos de configuraciÃ³n de IDEs

### `django` - Proyecto Django

Incluye exclusiones bÃ¡sicas mÃ¡s:

- `migrations/`
- `static/`, `media/`
- `db.sqlite3`

### `odoo` - Addon Odoo

Incluye exclusiones bÃ¡sicas mÃ¡s:

- `__manifest__.py`, `__openerp__.py`
- `static/`, `data/`, `demo/`
- `security/`

## ðŸ”§ Opciones Avanzadas

### Archivo de exclusiones personalizado

Crea un archivo con patrones de exclusiÃ³n (uno por lÃ­nea):

```text
# Mi archivo de exclusiones personalizadas
*.log
temp/
config/secret.py
docs/
```

Ãšsalo con:

```bash
sincpro-compile ./proyecto -e mi_exclusiones.txt
```

### Opciones del CLI

```bash
sincpro-compile [directorio] [opciones]

Opciones:
  -o, --output DIR          Directorio de salida (default: ./compiled)
  -t, --template TEMPLATE   Template: basic, django, odoo (default: basic)
  -e, --exclude-file FILE   Archivo personalizado de exclusiones
  --list-templates         Mostrar templates disponibles
  -v, --verbose           Mostrar informaciÃ³n detallada
  -h, --help              Mostrar ayuda
```

## ðŸ’¡ Ejemplos PrÃ¡cticos

### Distribuir una aplicaciÃ³n Python

```bash
# Compilar y generar distribuciÃ³n limpia
sincpro-compile ./mi_app -o ./dist -t basic
```

### Preparar addon Odoo para cliente

```bash
# Compilar addon excluyendo manifests y archivos de datos
sincpro-compile ./mi_addon -t odoo -o ./cliente_dist
```

### Proyecto Django para producciÃ³n

```bash
# Compilar excluyendo migraciones y archivos estÃ¡ticos
sincpro-compile ./mi_web -t django -o ./produccion
```

## ðŸ›  Uso ProgramÃ¡tico

```python
from sincpro_py_compiler.infrastructure.python_compiler import PythonCompiler

# Crear instancia del compilador
compiler = PythonCompiler()

# Compilar proyecto
success = compiler.compile_project(
    source_dir="./mi_proyecto",
    output_dir="./compilado",
    template="basic"
)

if success:
    print("Â¡CompilaciÃ³n exitosa!")
```

## ðŸ“ Estructura de Salida

El compilador mantiene la estructura original del proyecto:

```
mi_proyecto/
â”œâ”€â”€ app.py
â”œâ”€â”€ utils.py
â”œâ”€â”€ config.xml
â””â”€â”€ static/
    â””â”€â”€ style.css

# DespuÃ©s de compilar:
compilado/
â”œâ”€â”€ app.pyc          # Compilado
â”œâ”€â”€ utils.pyc        # Compilado  
â”œâ”€â”€ config.xml       # Copiado tal como estÃ¡
â””â”€â”€ static/
    â””â”€â”€ style.css    # Copiado tal como estÃ¡
```

## âš ï¸ Limitaciones

- Solo compila archivos `.py` a `.pyc`
- No es cifrado ni ofuscaciÃ³n avanzada
- Los archivos `.pyc` pueden ser descompilados
- Para protecciÃ³n avanzada considerar PyArmor

## ðŸ¤ Contribuir

1. Fork el repositorio
2. Crea una rama para tu feature
3. Realiza tus cambios
4. EnvÃ­a un Pull Request

## ï¿½ DocumentaciÃ³n

- **[Arquitectura del Sistema](docs/ARCHITECTURE.md)** - Detalles tÃ©cnicos y diseÃ±o
- **[GuÃ­a de Deployment](docs/DEPLOYMENT.md)** - Instrucciones de lanzamiento e instalaciÃ³n
- **[Tests](tests/)** - Suite de tests completa con casos de uso reales

## ï¿½ðŸ“„ Licencia

MIT License - ver archivo LICENSE para detalles.

## ðŸ¢ Empresa

Desarrollado por **Sincpro SRL** para distribuciÃ³n segura de cÃ³digo Python.

