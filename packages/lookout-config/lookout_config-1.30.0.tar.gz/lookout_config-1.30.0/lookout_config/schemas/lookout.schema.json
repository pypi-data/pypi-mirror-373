{
  "$defs": {
    "Camera": {
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "order": {
          "title": "Order",
          "type": "integer"
        },
        "type": {
          "default": "color",
          "title": "Type",
          "type": "string"
        },
        "ptz": {
          "default": false,
          "title": "Ptz",
          "type": "boolean"
        },
        "camera_offsets": {
          "anyOf": [
            {
              "$ref": "#/$defs/Offsets"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "ptz_offsets": {
          "default": [],
          "items": {
            "$ref": "#/$defs/PTZOffsets"
          },
          "title": "Ptz Offsets",
          "type": "array"
        }
      },
      "required": [
        "name",
        "order"
      ],
      "title": "Camera",
      "type": "object"
    },
    "DiscoveryFastDDS": {
      "properties": {
        "type": {
          "const": "fastdds",
          "default": "fastdds",
          "title": "Type"
        },
        "with_discovery_server": {
          "default": true,
          "description": "Run the discovery server. It will bind to 0.0.0.0:11811",
          "title": "With Discovery Server",
          "type": "boolean"
        },
        "discovery_server_ip": {
          "default": "0.0.0.0",
          "description": "IP/host/interface of the discovery server. Assumes port of 11811",
          "title": "Discovery Server Ip",
          "type": "string"
        },
        "own_ip": {
          "default": "0.0.0.0",
          "description": "IP/host/interface address of the primary network interface. This is where DDS traffic will route to.",
          "title": "Own Ip",
          "type": "string"
        }
      },
      "title": "DiscoveryFastDDS",
      "type": "object"
    },
    "DiscoverySimple": {
      "properties": {
        "type": {
          "const": "simple",
          "default": "simple",
          "title": "Type"
        },
        "ros_domain_id": {
          "default": 0,
          "description": "ROS domain ID",
          "title": "Ros Domain Id",
          "type": "integer"
        },
        "own_ip": {
          "default": "0.0.0.0",
          "description": "IP/host/interface address of the primary network interface. This is where DDS traffic will route to.",
          "title": "Own Ip",
          "type": "string"
        }
      },
      "title": "DiscoverySimple",
      "type": "object"
    },
    "DiscoveryZenoh": {
      "properties": {
        "type": {
          "const": "zenoh",
          "default": "zenoh",
          "title": "Type"
        },
        "with_discovery_server": {
          "default": true,
          "description": "Run the zenoh router",
          "title": "With Discovery Server",
          "type": "boolean"
        },
        "discovery_server_ip": {
          "default": "0.0.0.0",
          "description": "IP/host/interface of the discovery server.",
          "title": "Discovery Server Ip",
          "type": "string"
        }
      },
      "title": "DiscoveryZenoh",
      "type": "object"
    },
    "GeolocationMode": {
      "enum": [
        "none",
        "relative_bearing",
        "absolute_bearing",
        "range_bearing"
      ],
      "title": "GeolocationMode",
      "type": "string"
    },
    "LogLevel": {
      "enum": [
        "info",
        "debug"
      ],
      "title": "LogLevel",
      "type": "string"
    },
    "Mode": {
      "enum": [
        "simulator",
        "hardware",
        "stubs",
        "rosbag"
      ],
      "title": "Mode",
      "type": "string"
    },
    "Network": {
      "enum": [
        "shared",
        "host"
      ],
      "title": "Network",
      "type": "string"
    },
    "Offsets": {
      "properties": {
        "roll": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Roll"
        },
        "pitch": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pitch"
        },
        "yaw": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Yaw"
        },
        "forward": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Forward"
        },
        "left": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Left"
        },
        "up": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Up"
        }
      },
      "title": "Offsets",
      "type": "object"
    },
    "PTZOffsets": {
      "properties": {
        "roll": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Roll"
        },
        "pitch": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Pitch"
        },
        "yaw": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Yaw"
        },
        "forward": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Forward"
        },
        "left": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Left"
        },
        "up": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Up"
        },
        "type": {
          "enum": [
            "pan",
            "tilt"
          ],
          "title": "Type",
          "type": "string"
        }
      },
      "required": [
        "type"
      ],
      "title": "PTZOffsets",
      "type": "object"
    },
    "PositioningSystem": {
      "enum": [
        "none",
        "septentrio_ins",
        "advanced_navigation_ins",
        "nmea_2000_sat_compass",
        "nmea_2000_compass",
        "nmea_0183_sat_compass",
        "nmea_0183_compass"
      ],
      "title": "PositioningSystem",
      "type": "string"
    },
    "VesselOffsets": {
      "properties": {
        "name": {
          "description": "Name of the vessel model file",
          "title": "Name",
          "type": "string"
        },
        "baselink_to_ins": {
          "allOf": [
            {
              "$ref": "#/$defs/Offsets"
            }
          ],
          "description": "Offset from vessel baselink to INS sensor"
        },
        "baselink_to_waterline": {
          "allOf": [
            {
              "$ref": "#/$defs/Offsets"
            }
          ],
          "description": "Offset from vessel baselink to waterline"
        }
      },
      "required": [
        "name",
        "baselink_to_ins",
        "baselink_to_waterline"
      ],
      "title": "VesselOffsets",
      "type": "object"
    }
  },
  "properties": {
    "namespace_vessel": {
      "default": "vessel_1",
      "description": "ROS namespace for the vessel",
      "title": "Namespace Vessel",
      "type": "string"
    },
    "gama_vessel": {
      "default": false,
      "description": "Whether this is running on a Gama vessel",
      "title": "Gama Vessel",
      "type": "boolean"
    },
    "mode": {
      "allOf": [
        {
          "$ref": "#/$defs/Mode"
        }
      ],
      "default": "hardware",
      "description": "Operating mode for the system"
    },
    "log_level": {
      "allOf": [
        {
          "$ref": "#/$defs/LogLevel"
        }
      ],
      "default": "info",
      "description": "Logging verbosity level"
    },
    "cameras": {
      "items": {
        "$ref": "#/$defs/Camera"
      },
      "title": "Cameras",
      "type": "array"
    },
    "network": {
      "allOf": [
        {
          "$ref": "#/$defs/Network"
        }
      ],
      "default": "host",
      "description": "Docker network mode to use"
    },
    "gpu": {
      "default": true,
      "description": "Enable GPU acceleration for processing",
      "title": "Gpu",
      "type": "boolean"
    },
    "geolocation_mode": {
      "allOf": [
        {
          "$ref": "#/$defs/GeolocationMode"
        }
      ],
      "default": "none",
      "description": "Method for determining target geolocations"
    },
    "positioning_system": {
      "allOf": [
        {
          "$ref": "#/$defs/PositioningSystem"
        }
      ],
      "default": "none",
      "description": "Type of positioning/navigation system to use"
    },
    "offsets": {
      "allOf": [
        {
          "$ref": "#/$defs/VesselOffsets"
        }
      ],
      "default": {
        "baselink_to_ins": {
          "forward": 1.416,
          "left": 0.153,
          "pitch": null,
          "roll": null,
          "up": 0.184,
          "yaw": null
        },
        "baselink_to_waterline": {
          "forward": null,
          "left": null,
          "pitch": null,
          "roll": null,
          "up": 0.3,
          "yaw": null
        },
        "name": "mars.stl"
      },
      "description": "Physical offsets and vessel model configuration"
    },
    "components": {
      "description": "Dynamic component configurations generated from ROS parameters",
      "title": "Components"
    },
    "prod": {
      "default": true,
      "description": "Whether to run in production mode with optimized settings",
      "title": "Prod",
      "type": "boolean"
    },
    "log_directory": {
      "default": "~/greenroom/lookout/logs",
      "description": "Directory path for storing log files",
      "title": "Log Directory",
      "type": "string"
    },
    "models_directory": {
      "default": "~/greenroom/lookout/models",
      "description": "Directory path for AI/ML model files",
      "title": "Models Directory",
      "type": "string"
    },
    "recording_directory": {
      "default": "~/greenroom/lookout/recordings",
      "description": "Directory path for storing video recordings",
      "title": "Recording Directory",
      "type": "string"
    },
    "discovery": {
      "discriminator": {
        "mapping": {
          "fastdds": "#/$defs/DiscoveryFastDDS",
          "simple": "#/$defs/DiscoverySimple",
          "zenoh": "#/$defs/DiscoveryZenoh"
        },
        "propertyName": "type"
      },
      "oneOf": [
        {
          "$ref": "#/$defs/DiscoveryZenoh"
        },
        {
          "$ref": "#/$defs/DiscoveryFastDDS"
        },
        {
          "$ref": "#/$defs/DiscoverySimple"
        }
      ],
      "title": "Discovery"
    }
  },
  "title": "LookoutConfig",
  "type": "object"
}