{
  "server": {
    "host": "0.0.0.0",
    "port": 8002,
    "debug": false,
    "workers": 1
  },
  
  "security": {
    "framework": "mcp_security_framework",
    "enabled": true,
    "debug": false,
    "environment": "dev",
    "version": "1.0.0",
    
    "auth": {
      "enabled": true,
      "methods": ["api_key"],
      "api_keys": {
        "test-token-123": {
          "roles": ["admin"],
          "permissions": ["*", "register", "heartbeat", "discover", "unregister"],
          "expires": null
        },
        "user-token-456": {
          "roles": ["user"],
          "permissions": ["read", "execute", "register", "heartbeat", "discover"],
          "expires": null
        },
        "readonly-token-123": {
          "roles": ["readonly"],
          "permissions": ["read", "discover"],
          "expires": null
        }
      },
      "user_roles": {
        "admin": ["admin"],
        "user": ["user"],
        "readonly": ["readonly"],
        "test": ["user"]
      },
      "jwt_secret": "test-jwt-secret-key-change-in-production",
      "jwt_algorithm": "HS256",
      "jwt_expiry_hours": 24,
      "certificate_auth": false,
      "certificate_roles_oid": "1.3.6.1.4.1.99999.1.1",
      "certificate_permissions_oid": "1.3.6.1.4.1.99999.1.2",
      "basic_auth": false,
      "oauth2_config": null,
      "public_paths": ["/health", "/docs", "/openapi.json"],
      "security_headers": {
        "X-Content-Type-Options": "nosniff",
        "X-Frame-Options": "DENY",
        "X-XSS-Protection": "1; mode=block"
      }
    },
    
    "ssl": {
      "enabled": false,
      "cert_file": null,
      "key_file": null,
      "ca_cert_file": null,
      "client_cert_file": null,
      "client_key_file": null,
      "verify_mode": "CERT_NONE",
      "min_tls_version": "TLSv1.2",
      "max_tls_version": null,
      "cipher_suite": null,
      "check_hostname": true,
      "check_expiry": true,
      "expiry_warning_days": 30
    },
    
    "certificates": {
      "enabled": false,
      "ca_cert_path": null,
      "ca_key_path": null,
      "cert_storage_path": "./certs",
      "key_storage_path": "./keys",
      "default_validity_days": 365,
      "key_size": 2048,
      "hash_algorithm": "sha256",
      "crl_enabled": false,
      "crl_path": null,
      "crl_validity_days": 30,
      "auto_renewal": false,
      "renewal_threshold_days": 30
    },
    
    "permissions": {
      "enabled": true,
      "roles_file": "./server_configs/roles.json",
      "default_role": "guest",
      "admin_role": "admin",
      "role_hierarchy": {
        "admin": ["user", "readonly", "guest"],
        "user": ["readonly", "guest"],
        "readonly": ["guest"]
      },
      "permission_cache_enabled": true,
      "permission_cache_ttl": 300,
      "wildcard_permissions": false,
      "strict_mode": true,
      "roles": {
        "admin": ["*"],
        "user": ["read", "write"],
        "readonly": ["read"],
        "guest": ["read"]
      }
    },
    
    "rate_limit": {
      "enabled": true,
      "default_requests_per_minute": 60,
      "default_requests_per_hour": 1000,
      "burst_limit": 2,
      "window_size_seconds": 60,
      "storage_backend": "memory",
      "redis_config": null,
      "cleanup_interval": 300,
      "exempt_paths": ["/health", "/docs", "/openapi.json"],
      "exempt_roles": ["admin"]
    },
    
    "logging": {
      "enabled": true,
      "level": "INFO",
      "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s",
      "date_format": "%Y-%m-%d %H:%M:%S",
      "file_path": "./logs/security.log",
      "max_file_size": 10,
      "backup_count": 5,
      "console_output": true,
      "json_format": false,
      "include_timestamp": true,
      "include_level": true,
      "include_module": true
    }
  },
  
  "registration": {
    "enabled": true,
    "server_url": "https://proxy-registry.example.com",
    "auth_method": "api_key",
    
    "certificate": {
      "enabled": false,
      "cert_file": "./certs/client_cert.pem",
      "key_file": "./keys/client_key.pem",
      "ca_cert_file": "./certs/ca_cert.pem",
      "verify_server": true
    },
    
    "token": {
      "enabled": false,
      "token": "proxy-registration-token-123",
      "token_type": "bearer",
      "refresh_interval": 3600
    },
    
    "api_key": {
      "enabled": true,
      "key": "proxy-api-key-456",
      "key_header": "X-Proxy-API-Key"
    },
    
    "proxy_info": {
      "name": "mcp_proxy_adapter",
      "version": "1.0.0",
      "description": "MCP Proxy Adapter - Proxy Registration Example",
      "capabilities": ["jsonrpc", "rest", "security", "proxy_registration"],
      "endpoints": {
        "jsonrpc": "/api/jsonrpc",
        "rest": "/cmd",
        "health": "/health",
        "registration": "/register"
      }
    },
    
    "heartbeat": {
      "enabled": true,
      "interval": 300,
      "timeout": 30,
      "retry_attempts": 3,
      "retry_delay": 60
    },
    
    "auto_discovery": {
      "enabled": true,
      "discovery_urls": [
        "https://proxy-registry.example.com/discover",
        "https://backup-proxy.example.com/discover"
      ],
      "discovery_interval": 3600,
      "register_on_discovery": true
    },
    
    "client_security": {
      "enabled": true,
      "ssl_enabled": true,
      "auth_methods": ["api_key", "certificate", "token"],
      "certificate_auth": {
        "enabled": true,
        "cert_file": "./certs/client_cert.pem",
        "key_file": "./keys/client_key.pem",
        "ca_cert_file": "./certs/ca_cert.pem"
      },
      "api_key_auth": {
        "enabled": true,
        "key": "proxy-api-key-456",
        "header": "X-Proxy-API-Key"
      },
      "token_auth": {
        "enabled": true,
        "token": "proxy-registration-token-123",
        "type": "bearer"
      }
    }
  },
  
  "logging": {
    "level": "INFO",
    "console_output": true,
    "file_output": true,
    "file_path": "./logs/server.log",
    "max_file_size": 10,
    "backup_count": 5,
    "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  },
  
  "commands": {
    "auto_discovery": true,
    "commands_directory": "./commands",
    "builtin_commands": ["echo", "health", "config", "roletest"],
    "custom_commands": [],
    "command_timeout": 30
  },
  
  "protocol": {
    "jsonrpc": {
      "enabled": true,
      "version": "2.0",
      "endpoint": "/api/jsonrpc"
    },
    "rest": {
      "enabled": true,
      "endpoint": "/cmd"
    }
  }
}
