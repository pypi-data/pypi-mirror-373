# TODO: Security Framework Integration

**Author**: Vasiliy Zdanovskiy  
**Email**: vasilyvz@gmail.com  
**Date**: 2025-08-30

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞
- [x] –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `mcp_security_framework/schemas/config.py`
- [x] –ò–∑—É—á–µ–Ω—ã –≤—Å–µ —Å—Ö–µ–º—ã: `SecurityConfig`, `AuthConfig`, `SSLConfig`, `PermissionConfig`, `RateLimitConfig`, `CertificateConfig`, `LoggingConfig`
- [x] –ü–æ–Ω—è—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥–æ–≤
- [x] –°–æ–∑–¥–∞–Ω `mcp_proxy_adapter/utils/config_generator.py`
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è 4 —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ñ–∏–≥–æ–≤: minimal, development, secure, full
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥–æ–≤

### 3. –ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º
- [x] –°–æ–∑–¥–∞–Ω `mcp_proxy_adapter/core/security_integration.py`
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞:
  - `SecurityManager` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
  - `AuthManager` - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (API key, JWT, certificate)
  - `CertificateManager` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
  - `PermissionManager` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏ –∏ –ø—Ä–∞–≤–∞–º–∏
  - `RateLimiter` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏
- [x] –ó–∞–º–µ–Ω–µ–Ω `UnifiedSecurityMiddleware` –Ω–∞ –ø—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `FastAPISecurityMiddleware`

### 4. –ù–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [x] –°–æ–∑–¥–∞–Ω `mcp_proxy_adapter/commands/security_command.py`
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏, —Ä–æ–ª—è–º–∏, rate limiting

### 5. –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º
- [x] –°–æ–∑–¥–∞–Ω `mcp_proxy_adapter/core/client_security.py`
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
  - –°–æ–∑–¥–∞–Ω–∏–µ SSL –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è API –∫–ª—é—á–µ–π –∏ JWT —Ç–æ–∫–µ–Ω–æ–≤
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π –∏–∑ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
  - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —É—Ç–∏–ª–∏—Ç–∞–º–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞

### 6. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ–∫—Å–∏
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è `registration` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:
  - –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (cert_file, key_file, ca_cert_file)
  - –¢–æ–∫–µ–Ω—ã (token, token_type, refresh_interval)
  - API –∫–ª—é—á–∏ (key, key_header)
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ heartbeat –∏ auto_discovery
- [x] –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–∫—Å–∏ (capabilities, endpoints)

### 7. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ–∫—Å–∏
- [x] –û–±–Ω–æ–≤–ª–µ–Ω `mcp_proxy_adapter/core/proxy_registration.py`
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `ClientSecurityManager`
- [x] –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å SSL/TLS
- [x] –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [x] Heartbeat —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞

## üîÑ –¢–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏

### 8. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `mcp_proxy_adapter/api/app.py` –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é `ClientSecurityManager` –≤ startup
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –≤ lifecycle –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 9. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `mcp_proxy_adapter/commands/proxy_registration_command.py`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –Ω–æ–≤–æ–π –∫–æ–º–∞–Ω–¥–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 10. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- [ ] –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## üìã –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### –≠—Ç–∞–ø 1: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (1 –¥–µ–Ω—å)
1. –û–±–Ω–æ–≤–∏—Ç—å `api/app.py` –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
2. –î–æ–±–∞–≤–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –≤ startup/shutdown
3. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å middleware

### –≠—Ç–∞–ø 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ (0.5 –¥–Ω—è)
1. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ–∫—Å–∏
2. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã

### –≠—Ç–∞–ø 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (0.5 –¥–Ω—è)
1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

## üéØ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```
mcp_proxy_adapter
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ security_integration.py      ‚úÖ –ì–æ—Ç–æ–≤–æ
‚îÇ   ‚îú‚îÄ‚îÄ client_security.py           ‚úÖ –ì–æ—Ç–æ–≤–æ
‚îÇ   ‚îú‚îÄ‚îÄ proxy_registration.py        ‚úÖ –ì–æ—Ç–æ–≤–æ
‚îÇ   ‚îî‚îÄ‚îÄ proxy_manager.py             üîÑ –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å
‚îú‚îÄ‚îÄ commands/
‚îÇ   ‚îú‚îÄ‚îÄ security_command.py          ‚úÖ –ì–æ—Ç–æ–≤–æ
‚îÇ   ‚îî‚îÄ‚îÄ proxy_registration_command.py üîÑ –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ app.py                       üîÑ –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å
‚îÇ   ‚îî‚îÄ‚îÄ middleware/
‚îÇ       ‚îî‚îÄ‚îÄ unified_security.py      ‚úÖ –ì–æ—Ç–æ–≤–æ
‚îî‚îÄ‚îÄ utils/
    ‚îî‚îÄ‚îÄ config_generator.py          ‚úÖ –ì–æ—Ç–æ–≤–æ
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
```json
{
  "registration": {
    "enabled": true,
    "server_url": "https://proxy-registry.example.com",
    "auth_method": "certificate",
    "certificate": {
      "enabled": true,
      "cert_file": "./certs/proxy_client.crt",
      "key_file": "./keys/proxy_client.key",
      "ca_cert_file": "./certs/ca.crt"
    },
    "heartbeat": {
      "enabled": true,
      "interval": 300
    }
  }
}
```

## üìù –ó–∞–º–µ—Ç–∫–∏

### –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `SecurityManager`, `AuthManager`, `CertificateManager`
- ‚úÖ –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å SSL/TLS –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏ —Å heartbeat
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤, —Ç–æ–∫–µ–Ω–æ–≤, API –∫–ª—é—á–µ–π

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
4. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
- **–£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å–µ –º–µ—Ç–æ–¥—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **–î–æ–±–∞–≤–ª–µ–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∑–∞—â–∏—â–µ–Ω—ã SSL/TLS
- **–£–ª—É—á—à–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –ï–¥–∏–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞
- **–ì–æ—Ç–æ–≤–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**: –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
